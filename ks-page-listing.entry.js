import{r as e,h as t}from"./index-e3198654.js";import{c as i}from"./common-e4bd89b8.js";import{c as n}from"./index-5a4e318f.js";import{e as s}from"./tracker-fca74da4.js";import{D as o}from"./dataLayer-a22d10ae.js";import"./commonDynamic-1f04aed5.js";const a=n({}),r=class{constructor(t){e(this,t),this.skipbase=void 0,this.commonData=void 0,this.commonDynamicData=void 0,this.listingData=void 0}componentWillLoad(){const e=document.getElementById(this.listingData),t=JSON.parse(e.innerHTML);Object.keys(t).map((e=>{a.set(e,t[e])})),this.track()}track(){a.get("query")||(o.listing(a.state),s((e=>null==e?void 0:e.listing(a.state,null))))}render(){if(!(null==a?void 0:a.get("title")))return!1;const e=a.get("bottomDescription"),n=a.get("infoBanner"),s=a.get("tags"),o=a.get("navigation"),r=a.get("filters"),l=a.get("products"),c=a.get("query"),u=a.get("reviewAverage"),d=i.get("translations");return t("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},n?t("ks-info-banner",{image:n.image,color:n.color,width:n.width,height:n.height,name:n.name,link:n.link,theme:n.theme}):null,t("ks-listing-header",{heading:a.get("title"),breadcrumbs:a.get("breadcrumbs"),description:a.get("description"),categories:a.get("categories"),query:c,autocorrect:a.get("autocorrect")}),o&&(null==l?void 0:l.length)>0?t("ks-listing-navigation",{products:o.products},(null==r?void 0:r.length)>0?t("ks-filtering",{"base-url":o.base,query:c,filters:r}):null,t("ks-sorting",{post:o.paginationBase,current:a.get("sorting")}),t("ks-pagination",{count:o.count,current:o.current,base:o.paginationBase,pattern:o.pattern})):null,(null==l?void 0:l.length)>0?t("ks-product-container",null,l.map((e=>t("ks-product-card",{product:e})))):t("ks-nocontent",{"link-name":d.noContentHome,"back-name":d.noContentBack},t("h1",null,a.get("noContentHeading")),t("p",null,a.get("noContentMessage"))),o&&(null==l?void 0:l.length)>0?t("ks-listing-navigation",{products:o.products},t("ks-pagination",{count:o.count,current:o.current,base:o.paginationBase,pattern:o.pattern})):null,e||(null==s?void 0:s.length)>0?t("ks-listing-footer",{description:e},(null==s?void 0:s.length)>0?t("div",{slot:"tags"},s.map((e=>t("a",{href:e.link},e.name)))):null,!c&&o&&(null==l?void 0:l.length)>0&&u?t("ks-review-average",{slot:"comments",grey:!0,href:u.href,message:u.message,reviews:u.reviews,months:u.months,totalReviews:u.totalReviews,average:u.average,example:u.example}):null):!c&&o&&(null==l?void 0:l.length)>0&&u?t("ks-review-average",{href:u.href,message:u.message,reviews:u.reviews,months:u.months,totalReviews:u.totalReviews,average:u.average,example:u.example}):null)}};r.style="ks-page-listing{-ms-flex:1 1 0px;flex:1 1 0}ks-page-listing .noresults{width:auto;max-height:300px}";export{r as ks_page_listing}