{"version":3,"names":["Thumb","_a","swiper","extendParams","on","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","initialized","swiperCreated","onThumbClick","thumbsSwiper","destroyed","clickedIndex","clickedSlide","classList","contains","params","slideToIndex","loop","parseInt","getAttribute","slideToLoop","slideTo","init","thumbsParams","SwiperClass","constructor","Object","assign","originalParams","watchSlidesProgress","slideToClickedSlide","update","isObject","thumbsSwiperParams","el","add","initial","slidesPerView","slidesPerViewDynamic","thumbsToActivate","thumbActiveClass","centeredSlides","Math","floor","slides","forEach","slideEl","remove","virtual","enabled","i","elementChildren","slidesEl","concat","realIndex","useOffset","currentThumbsIndex","activeIndex","newThumbsIndex","direction","newThumbsSlide","filter","indexOf","previousIndex","visibleSlidesIndexes","undefined","HTMLElement","document_1","getDocument","getThumbsElementAndInit_1","thumbsElement","querySelector","onThumbsSwiper_1","e","detail","removeEventListener","addEventListener","watchForThumbsToAppear_1","requestAnimationFrame","_s","duration","setTransition","destroy"],"sources":["node_modules/swiper/modules/thumbs/thumbs.js"],"sourcesContent":["import { getDocument } from 'ssr-window';\nimport { elementChildren, isObject } from '../../shared/utils.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && clickedSlide.classList.contains(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt(thumbsSwiper.clickedSlide.getAttribute('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n    if (swiper.params.loop) {\n      swiper.slideToLoop(slideToIndex);\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  }\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper.update();\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n    swiper.thumbs.swiper.el.classList.add(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n\n    // Activate thumbs\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.forEach(slideEl => slideEl.classList.remove(thumbActiveClass));\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        elementChildren(thumbsSwiper.slidesEl, `[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).forEach(slideEl => {\n          slideEl.classList.add(thumbActiveClass);\n        });\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        if (thumbsSwiper.slides[swiper.realIndex + i]) {\n          thumbsSwiper.slides[swiper.realIndex + i].classList.add(thumbActiveClass);\n        }\n      }\n    }\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      const currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n      if (thumbsSwiper.params.loop) {\n        const newThumbsSlide = thumbsSwiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') === `${swiper.realIndex}`)[0];\n        newThumbsIndex = thumbsSwiper.slides.indexOf(newThumbsSlide);\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {\n          // newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    if (typeof thumbs.swiper === 'string' || thumbs.swiper instanceof HTMLElement) {\n      const document = getDocument();\n      const getThumbsElementAndInit = () => {\n        const thumbsElement = typeof thumbs.swiper === 'string' ? document.querySelector(thumbs.swiper) : thumbs.swiper;\n        if (thumbsElement && thumbsElement.swiper) {\n          thumbs.swiper = thumbsElement.swiper;\n          init();\n          update(true);\n        } else if (thumbsElement) {\n          const onThumbsSwiper = e => {\n            thumbs.swiper = e.detail[0];\n            thumbsElement.removeEventListener('init', onThumbsSwiper);\n            init();\n            update(true);\n            thumbs.swiper.update();\n            swiper.update();\n          };\n          thumbsElement.addEventListener('init', onThumbsSwiper);\n        }\n        return thumbsElement;\n      };\n      const watchForThumbsToAppear = () => {\n        if (swiper.destroyed) return;\n        const thumbsElement = getThumbsElementAndInit();\n        if (!thumbsElement) {\n          requestAnimationFrame(watchForThumbsToAppear);\n        }\n      };\n      requestAnimationFrame(watchForThumbsToAppear);\n    } else {\n      init();\n      update(true);\n    }\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}"],"mappings":"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"}