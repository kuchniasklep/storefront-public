{"version":3,"names":["Image","exports","class_1","hostRef","this","sync","cover","contain","loaded","loadAnimated","prototype","loadCheck","e","target","HTMLElement","getAttribute","includes","componentDidUpdate","_this","setTimeout","srcListener","render","imageStyle","h","src","width","height","alt","class","onLoad"],"sources":["src/components/elements/image.tsx"],"sourcesContent":["import { Component, h, Prop, State, Method, Watch } from '@stencil/core';\n\n/** @deprecated Ks-image is deprecated. Use ks-img instead. */\n\n@Component({\n\ttag: 'ks-image'\n})\nexport class Image {\n    @Prop() src: string;\n    @Prop() alt: string;\n\n    @Prop() width: string;\n    @Prop() height: string;\n\n    @Prop() sync: boolean = false;\n    @Prop() cover: boolean = false;\n    @Prop() contain: boolean = false;\n\n    @State() loaded: boolean = false;\n    @State() loadAnimated: boolean = false;\n    \n    @Method() async loadCheck(e: Event) {\n        if (e.target instanceof HTMLElement && !e.target.getAttribute(\"src\").includes('data:image'))\n            this.loaded = true;\n    }\n\n    componentDidUpdate() {\n        if (this.loaded && !this.loadAnimated) {\n            setTimeout(() => {\n               this.loadAnimated = true;\n            }, 1000);\n        }\n    }\n\n    @Watch('src') srcListener() {\n        this.loaded = false;\n        this.loadAnimated = false;\n    }\n\n\trender() {\n        let imageStyle = \"\";\n\n        if (!this.loaded)\n            imageStyle = \"uk-invisible uk-position-center\";\n            \n        else if (!this.loadAnimated) \n            imageStyle = \"uk-animation-fade\"\n        \n        if(this.sync)\n            return <img src={this.src} width={this.width} height={this.height} alt={this.alt}/>;\n\n        else if(this.cover) return (\n            <div class={\"uk-cover-container\"}>\n                <canvas width={this.width} height={this.height}></canvas>\n                {!this.loaded ? <div class=\"ks-spinner uk-position-center\"></div> : null}\n                <img uk-cover onLoad={e => this.loadCheck(e)} class={imageStyle} width={this.width} height={this.height} data-src={this.src} alt={this.alt} uk-img=\"target: !ks-image\"/>\n            </div>\n        );\n\n        else if(this.contain) return (\n\t\t\t<div class={\"uk-position-relative\"}>\n                <canvas width={this.width} height={this.height}></canvas>\n                {!this.loaded ? <div class=\"ks-spinner uk-position-center\"></div> : null}\n                <img onLoad={e => this.loadCheck(e)} class={imageStyle + \" uk-position-center uk-responsive-height\"} data-src={this.src} width={this.width} height={this.height} alt={this.alt} uk-img=\"target: !ks-image\"/>\n            </div>\n\t\t);\n\n        else return (\n\t\t\t<div class={\"uk-position-relative\"}>\n                {!this.loaded ? [\n                    <canvas width={this.width} height={this.height}></canvas>,\n                    <div class=\"ks-spinner uk-position-center\"></div>\n                ]: null}\n                <img onLoad={e => this.loadCheck(e)} class={imageStyle} data-src={this.src} width={this.width} height={this.height} alt={this.alt} uk-img=\"target: !ks-image\"/>\n            </div>\n\t\t);\n\t}\n}\n"],"mappings":"gmDAOaA,EAAKC,EAAA,sBAHlB,SAAAC,EAAAC,G,UAUYC,KAAIC,KAAY,MAChBD,KAAKE,MAAY,MACjBF,KAAOG,QAAY,MAElBH,KAAMI,OAAY,MAClBJ,KAAYK,aAAY,KA0DpC,CAxDmBP,EAAAQ,UAAAC,UAAN,SAAgBC,G,qFACtB,GAAIA,EAAEC,kBAAkBC,cAAgBF,EAAEC,OAAOE,aAAa,OAAOC,SAAS,cAC1EZ,KAAKI,OAAS,K,iBAGtBN,EAAAQ,UAAAO,mBAAA,eAAAC,EAAAd,KACI,GAAIA,KAAKI,SAAWJ,KAAKK,aAAc,CACnCU,YAAW,WACRD,EAAKT,aAAe,I,GACpB,I,GAIGP,EAAAQ,UAAAU,YAAA,WACVhB,KAAKI,OAAS,MACdJ,KAAKK,aAAe,K,EAG3BP,EAAAQ,UAAAW,OAAA,eAAAH,EAAAd,KACO,IAAIkB,EAAa,GAEjB,IAAKlB,KAAKI,OACNc,EAAa,uCAEZ,IAAKlB,KAAKK,aACXa,EAAa,oBAEjB,GAAGlB,KAAKC,KACJ,OAAOkB,EAAA,OAAKC,IAAKpB,KAAKoB,IAAKC,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,OAAQC,IAAKvB,KAAKuB,WAE5E,GAAGvB,KAAKE,MAAO,OAChBiB,EAAA,OAAKK,MAAO,sBACRL,EAAQ,UAAAE,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,UACtCtB,KAAKI,OAASe,EAAA,OAAKK,MAAM,kCAAyC,KACpEL,EAAA,uBAAcM,OAAQ,SAAAjB,GAAK,OAAAM,EAAKP,UAAUC,EAAf,EAAmBgB,MAAON,EAAYG,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,OAAkB,WAAAtB,KAAKoB,IAAKG,IAAKvB,KAAKuB,IAAG,SAAS,4BAItJ,GAAGvB,KAAKG,QAAS,OAC3BgB,EAAA,OAAKK,MAAO,wBACCL,EAAQ,UAAAE,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,UACtCtB,KAAKI,OAASe,EAAA,OAAKK,MAAM,kCAAyC,KACpEL,EAAK,OAAAM,OAAQ,SAAAjB,GAAK,OAAAM,EAAKP,UAAUC,EAAf,EAAmBgB,MAAON,EAAa,2CAA0C,WAAYlB,KAAKoB,IAAKC,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,OAAQC,IAAKvB,KAAKuB,IAAG,SAAS,4BAI1L,OACVJ,EAAA,OAAKK,MAAO,yBACGxB,KAAKI,OAAS,CACZe,EAAQ,UAAAE,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,SACxCH,EAAK,OAAAK,MAAM,mCACZ,KACHL,EAAA,OAAKM,OAAQ,SAAAjB,GAAK,OAAAM,EAAKP,UAAUC,EAAf,EAAmBgB,MAAON,EAAsB,WAAAlB,KAAKoB,IAAKC,MAAOrB,KAAKqB,MAAOC,OAAQtB,KAAKsB,OAAQC,IAAKvB,KAAKuB,IAAG,SAAS,sB,gIAlExI,G","ignoreList":[]}