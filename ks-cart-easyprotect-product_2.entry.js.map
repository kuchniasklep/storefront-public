{"version":3,"names":["cartEasyprotectProductCss","CartEasyprotectProduct","render","h","class","src","this","image","width","height","innerHTML","name","warranty","cartEasyprotectWarrantyCss","CartEasyprotectWarranty","componentWillLoad","productId","active","Object","keys","cart","get","update","onChange","componentWillUpdate","root","querySelector","value","undefined","options","entries","price","priceFormat","replace","title","change","map","months","_","selected","parseInt","time","insured","onClick","remove","easyprotectChange","easyprotectRemove","x","digit","length","month"],"sources":["src/components/cart/easyprotect/cart-easyprotect-product.css?tag=ks-cart-easyprotect-product","src/components/cart/easyprotect/cart-easyprotect-product.tsx","src/components/cart/easyprotect/cart-easyprotect-warranty.css?tag=ks-cart-easyprotect-warranty","src/components/cart/easyprotect/cart-easyprotect-warranty.tsx"],"sourcesContent":["ks-cart-easyprotect-product {\n    display: flex;\n    align-items: center;\n}\n\nks-cart-easyprotect-product .image {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 100%;\n    max-width: 80px;\n    max-height: 80px;\n\n    margin-right: 10px;\n}\n\nks-cart-easyprotect-product .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    width: 100%;\n    border-radius: 10px;\n    padding: 10px 20px;\n    box-sizing: border-box;\n    margin: 5px 0;\n    min-height: 68px;\n\n    font-family: var(--font-emphasis);\n\n    user-select: none;\n    background-color: #f2f2f2;\n    transition: var(--transition-background-color);\n}\n\nks-cart-easyprotect-product:hover .info {\n    background-color: #e2e2e2;\n}\n\nks-cart-easyprotect-product[active] .info {\n    color: white;\n    background-color: #4e2e82;\n}\n\n\nks-cart-easyprotect-product .info .warranty {\n    font-weight: 700;\n}\n\n\n\n\n@media (max-width: 420px) {\n    ks-cart-easyprotect-product {\n        font-size: 15px;\n    }\n\n    ks-cart-easyprotect-product .image {\n        max-width: 50px;\n        max-height: 50px;\n        margin: 0 5px;\n    }\n\n    ks-cart-easyprotect-product .info {\n        padding: 8px 10px 8px 15px;\n    }\n\n    ks-cart-easyprotect-product .info .warranty {\n        font-size: 14px;\n    }\n}","import { Component, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-easyprotect-product',\n  styleUrl: 'cart-easyprotect-product.css'\n})\nexport class CartEasyprotectProduct {\n    @Prop() image: string;\n    @Prop() name: string;\n    @Prop() warranty: string = \"\";\n    @Prop({reflect: true, mutable: true}) active: boolean = false;\n\n    render() {\n        return [\n            <div class=\"image\">\n                <ks-img2 src={this.image} width={200} height={200} />\n            </div>,\n            <div class=\"info\">\n                <div class=\"name\" innerHTML={this.name}></div>\n                {this.warranty ? \n                    <div class=\"warranty\">{this.warranty}</div>\n                : null}\n            </div>\n        ]\n    }\n}","ks-cart-easyprotect-warranty {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    background-color: #f2f2f2;\n    margin-bottom: 10px;\n}\n\nks-cart-easyprotect-warranty .name {\n    position: relative;\n    margin: 8px 15px;\n    max-height: 50px;\n    box-sizing: border-box;\n\n    overflow: hidden;\n\n    font-family: var(--font-emphasis);\n}\n\nks-cart-easyprotect-warranty .name:after {\n    content: \"\";\n    position: absolute;\n    top: 30px;\n    right: 0;\n    width: 30%;\n    height: 20px;\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), rgb(242, 242, 242) 90%);\n  }\n\nks-cart-easyprotect-warranty .control {\n    display: flex;\n}\n\nks-cart-easyprotect-warranty .info {\n    min-width: 135px;\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n\n    background-color: var(--easyprotect-color);\n}\n\nks-cart-easyprotect-warranty .price {\n    height: 40px;\n    min-width: 80px;\n    line-height: 40px;\n    text-align: center;\n\n    \n    background-color: #64419c !important;\n    color: #ffffff;\n}\n\nks-cart-easyprotect-warranty .select {\n    position: relative;\n}\n\nks-cart-easyprotect-warranty .select ks-icon {\n    position: absolute;\n    top: 8px;\n    right: 5px;\n    color: white;\n    pointer-events: none;\n}\n\nks-cart-easyprotect-warranty ks-input-select div {\n    margin-bottom: 0 !important;\n    margin-right: 3px;\n}\n\nks-cart-easyprotect-warranty ks-input-select select {\n    background-image: none !important;\n    border: none !important;\n\n    padding-right: 30px !important;\n    margin: 0 !important;\n    background-color: transparent !important;\n    color: white !important;\n}\n\nks-cart-easyprotect-warranty:not([product-id]) .select {\n    color: white !important;\n    padding: 7px 20px;\n}\n\nks-cart-easyprotect-warranty .close {\n    align-self: stretch;\n    min-width: 40px;\n    \n    border-style: none;\n    outline-style: none;\n    \n    transition: background-color 0.3s ease;\n    background-color: var(--easyprotect-color);\n    color: #ffffff;\n    border-left: #64419c 1px solid;\n}\n\nks-cart-easyprotect-warranty .close ks-icon {\n    line-height: unset !important;\n}\n\nks-cart-easyprotect-warranty .close:hover {\n    background-color: var(--easyprotect-color-hover);\n}\n\nks-cart-easyprotect-warranty .close:active {\n    background-color: var(--easyprotect-color-active);\n}\n\n\n@media (min-width: 860px) {\n    ks-cart-easyprotect-warranty[insured] .info,\n    ks-cart-easyprotect-warranty:not([product-id]) .info {\n        display: flex;\n        min-width: 200px;\n    }\n\n    ks-cart-easyprotect-warranty .name {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        width: 100%;\n    }\n\n    ks-cart-easyprotect-warranty .control {\n        flex: 1 0 auto;\n    }\n}\n\n@media (max-width: 420px) {\n    ks-cart-easyprotect-warranty {\n        display: inline-block;\n    }\n\n    ks-cart-easyprotect-warranty .info {\n        display: flex;\n        width: 100%;\n    }\n\n    ks-cart-easyprotect-warranty .select {\n        width: 100%;\n    }\n\n    ks-cart-easyprotect-warranty .name {\n        margin: 12px 15px;\n    }\n\n    ks-cart-easyprotect-warranty .price {\n        width: 50%;\n    }\n}","import { Component, h, Prop, Element } from '@stencil/core';\nimport { cart } from '../../../global/data/cart';\nimport { easyprotectChange, easyprotectRemove } from '../../../global/functions/cart';\nimport priceFormat from '../../../global/functions/price';\n\n\n@Component({\n  tag: 'ks-cart-easyprotect-warranty',\n  styleUrl: 'cart-easyprotect-warranty.css'\n})\nexport class CartEasyprotectWarranty {\n    @Element() root: HTMLElement;\n    @Prop({reflect: true}) productId: string;\n    @Prop({reflect: true}) insured: boolean;\n    @Prop({reflect: true, mutable: true}) active: string;\n\n    @Prop({mutable: true}) name: string;\n    @Prop({mutable: true}) time: number;\n    @Prop({mutable: true}) price: number;\n\n    entries: [string, number][];\n    options: {[index: string]: number};\n\n    componentWillLoad() {\n        if(this.productId) {\n            if(!this.active)\n                this.active = Object.keys(cart.get(\"easyprotect\")[this.productId])[0];\n\n            this.update();\n            cart.onChange(\"easyprotect\", ()=>this.update());\n        }\n    }\n\n    componentWillUpdate() {\n        if(this.productId) {\n            this.root.querySelector(\"select\").value = this.active;\n            this.update();\n        }\n    }\n\n    update() {\n        if(cart.get(\"easyprotect\")[this.productId] === undefined)\n            return;\n\n        this.name = cart.get(\"products\")[this.productId].name;\n        this.options = cart.get(\"easyprotect\")[this.productId];\n        this.entries = Object.entries(this.options);\n        this.price = this.options[this.active];\n    }\n\n    render() {\n        const price = priceFormat(this.price);\n\n        return [\n            <div class=\"name\" innerHTML={this.name.replace(\"<br>\", \" \")}\n                 title={this.name.replace(\"<br>\", \" \").replace(/(<([^>]+)>)/gi, \"\")}\n            ></div>,\n            \n            <div class=\"control\">\n                <div class=\"info\">\n                    <div class=\"select\">\n                        {this.productId ? [\n                            <ks-input-select onChange={() => this.change()}>\n                                {this.entries.map(([months, _]) =>\n                                    <option value={months} selected={this.active == months}>\n                                        {this.months(parseInt(months))}\n                                    </option>    \n                                )}\n                            </ks-input-select>,\n                            <ks-icon name=\"chevron-down\"/>\n                        ] :\n                            this.months(this.time)\n                        }\n                    </div>\n                    <div class=\"price\">{price}</div>\n                </div>\n\n                {this.productId && this.insured ? \n                    <button class=\"close\" onClick={()=>this.remove()}>\n                        <ks-icon name=\"x\"/>\n                    </button> \n                : null}\n            </div>,\n        ];\n    }\n\n    change() {\n        this.active = this.root.querySelector(\"select\").value;\n        if(this.insured) easyprotectChange({[this.productId]: this.active});\n    }\n\n    remove() {\n        easyprotectRemove(this.productId);\n    }\n\n    months(x: number) {\n        const digit = parseInt(`${x}`[`${x}`.length-1]);\n\n        let month = \"miesięcy\";\n        if(x == 0) month = \"miesiąc\" \n        else if(x >= 5 && x <= 21) month = \"miesięcy\" \n        else if(x > 21 && digit >= 2 && digit <= 4) month =\"miesiące\"\n\n        return `${x} ${month}`;\n    }\n}"],"mappings":"wQAAA,MAAMA,EAA4B,qzC,MCMrBC,EAAsB,M,gFAGJ,G,YAC6B,K,CAExDC,SACI,MAAO,CACHC,EAAA,OAAKC,MAAM,SACPD,EAAA,WAASE,IAAKC,KAAKC,MAAOC,MAAO,IAAKC,OAAQ,OAElDN,EAAA,OAAKC,MAAM,QACPD,EAAA,OAAKC,MAAM,OAAOM,UAAWJ,KAAKK,OACjCL,KAAKM,SACFT,EAAA,OAAKC,MAAM,YAAYE,KAAKM,UAC9B,M,aCrBlB,MAAMC,EAA6B,qxF,MCUtBC,EAAuB,M,4JAahCC,oBACI,GAAGT,KAAKU,UAAW,CACf,IAAIV,KAAKW,OACLX,KAAKW,OAASC,OAAOC,KAAKC,EAAKC,IAAI,eAAef,KAAKU,YAAY,GAEvEV,KAAKgB,SACLF,EAAKG,SAAS,eAAe,IAAIjB,KAAKgB,U,EAI9CE,sBACI,GAAGlB,KAAKU,UAAW,CACfV,KAAKmB,KAAKC,cAAc,UAAUC,MAAQrB,KAAKW,OAC/CX,KAAKgB,Q,EAIbA,SACI,GAAGF,EAAKC,IAAI,eAAef,KAAKU,aAAeY,UAC3C,OAEJtB,KAAKK,KAAOS,EAAKC,IAAI,YAAYf,KAAKU,WAAWL,KACjDL,KAAKuB,QAAUT,EAAKC,IAAI,eAAef,KAAKU,WAC5CV,KAAKwB,QAAUZ,OAAOY,QAAQxB,KAAKuB,SACnCvB,KAAKyB,MAAQzB,KAAKuB,QAAQvB,KAAKW,O,CAGnCf,SACI,MAAM6B,EAAQC,EAAY1B,KAAKyB,OAE/B,MAAO,CACH5B,EAAA,OAAKC,MAAM,OAAOM,UAAWJ,KAAKK,KAAKsB,QAAQ,OAAQ,KAClDC,MAAO5B,KAAKK,KAAKsB,QAAQ,OAAQ,KAAKA,QAAQ,gBAAiB,MAGpE9B,EAAA,OAAKC,MAAM,WACPD,EAAA,OAAKC,MAAM,QACPD,EAAA,OAAKC,MAAM,UACNE,KAAKU,UAAY,CACdb,EAAA,mBAAiBoB,SAAU,IAAMjB,KAAK6B,UACjC7B,KAAKwB,QAAQM,KAAI,EAAEC,EAAQC,KACxBnC,EAAA,UAAQwB,MAAOU,EAAQE,SAAUjC,KAAKW,QAAUoB,GAC3C/B,KAAK+B,OAAOG,SAASH,QAIlClC,EAAA,WAASQ,KAAK,kBAEdL,KAAK+B,OAAO/B,KAAKmC,OAGzBtC,EAAA,OAAKC,MAAM,SAAS2B,IAGvBzB,KAAKU,WAAaV,KAAKoC,QACpBvC,EAAA,UAAQC,MAAM,QAAQuC,QAAS,IAAIrC,KAAKsC,UACpCzC,EAAA,WAASQ,KAAK,OAEpB,M,CAKdwB,SACI7B,KAAKW,OAASX,KAAKmB,KAAKC,cAAc,UAAUC,MAChD,GAAGrB,KAAKoC,QAASG,EAAkB,CAAC,CAACvC,KAAKU,WAAYV,KAAKW,Q,CAG/D2B,SACIE,EAAkBxC,KAAKU,U,CAG3BqB,OAAOU,GACH,MAAMC,EAAQR,SAAS,GAAGO,IAAI,GAAGA,IAAIE,OAAO,IAE5C,IAAIC,EAAQ,WACZ,GAAGH,GAAK,EAAGG,EAAQ,eACd,GAAGH,GAAK,GAAKA,GAAK,GAAIG,EAAQ,gBAC9B,GAAGH,EAAI,IAAMC,GAAS,GAAKA,GAAS,EAAGE,EAAO,WAEnD,MAAO,GAAGH,KAAKG,G"}