{"version":3,"names":["DataLayer","resolvepageview","pageviewed","Promise","resolve","facebookConversionAPI","dataLayer","jsonfetch","customerData","customer","commonDynamic","get","customerDataAvaliable","customerDataAvailable","customerEmail","email","undefined","customerFirstName","firstName","customerLastName","lastName","customerSubscriberStatus","subscriber","customerCountryISO2","countryISO2","customerCity","city","customerPhone","phone","customerCurrency","currency","pageview","eventID","crypto","randomUUID","data","Object","assign","event","facebookEventId","_a","window","push","product","_e","sent","categories","breadcrumbs","productId","id","productName","name","productPrice","currentPrice","productCurrency","productImage","images","length","relativeToAbsolute","full","url","productURL","document","location","href","productSKU","model","productBrand","brand","productCategory","productAvailability","shippingTime","productQuantity","productCategories","ecomm_prodid","ecomm_pagetype","ecomm_totalvalue","ecommerce","items","enchancedEcommerceItems","uaecommerce","currencyCode","impressions","UAenchancedEcommerceItems","_b","listing","type","listingCategories","filter","category","listingProducts","products","_d","_c","addToCart","quantity","imageFull","link","sku","add","removeFromCart","remove","addToFavourites","value","view_cart","cart","cartCurrency","cartProductValue","productValue","cartValue","totalValue","cartProducts","JSON","stringify","values","map","checkout","actionField","step","order_checkout","order","orderProducts","orderValue","orderProductValue","orderCurrency","orderShipping","shippingValue","orderCoupon","coupon","order_form","order_placed","orderId","transaction_id","shipping","purchase","revenue","search","query","searchQuery","subscribe","subscription","subscriptionPlace","place","subscriptionEmail","subscriptionName","subscriptionStatus","recipe","recipeName","title","recipeCategory","recipeCuisine","cuisine","includes","baseURI","index","reverse","item_id","item_name","price","item_brand","brandName","item_category","item_category2","item_category3","item_category4","item_category5","join","position","exports"],"sources":["src/global/dataLayer.ts"],"sourcesContent":["import { ProductData, ProductShortData } from './data/product';\nimport { ProductCardData } from './data/listing';\nimport { ListingData } from './data/listing';\nimport { OrderData } from './data/order';\nimport { commonDynamic, SubscriptionData } from './data/commonDynamic';\nimport { RecipeData } from './data/recipe';\nimport { CartData } from './data/cart';\n\nimport { jsonfetch } from './functions/fetch';\n\nexport namespace DataLayer {\n\n    var resolvepageview: ()=>void;\n    var pageviewed = new Promise<void>(resolve => {\n        resolvepageview = () => {\n            resolve();\n        }\n    });\n\n    function facebookConversionAPI(dataLayer: any) {\n        jsonfetch('https://kuchniasklep.pl/api/fbconversion.php', dataLayer);\n    }\n\n    function customerData() {\n        const customer = commonDynamic.get('customer');\n        const customerDataAvaliable = commonDynamic.get('loggedIn') && customer;\n\n        return {\n            customerDataAvailable: customerDataAvaliable,\n            customerEmail: customerDataAvaliable ? customer.email : undefined,\n            customerFirstName: customerDataAvaliable ? customer.firstName : undefined,\n            customerLastName: customerDataAvaliable ? customer.lastName : undefined,\n            customerSubscriberStatus: customerDataAvaliable ? (customer.subscriber ? 1 : 0) : undefined,\n            customerCountryISO2: customerDataAvaliable ? customer.countryISO2 : undefined,\n            customerCity: customerDataAvaliable ? customer.city : undefined,\n            customerPhone: customerDataAvaliable ? customer.phone : undefined,\n            customerCurrency: customerDataAvaliable ? customer.currency : undefined,\n        }\n    }\n\n    export async function pageview(eventID: string) {\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const data = {\n            event: 'ks.pageview',\n            facebookEventId: eventID,\n            ...customerData()\n        };\n\n        window.dataLayer?.push(data);\n        resolvepageview();\n        facebookConversionAPI(data);\n    }\n\n    export async function product(product: ProductData, eventID: string = \"\") {\n        await pageviewed;\n\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const categories = product.breadcrumbs;\n        const data = {\n            event: 'ks.product',\n            facebookEventId: eventID,\n            ...customerData(),\n\n            productId: product.id,\n            productName: product.name,\n            productPrice: product.currentPrice,\n            productCurrency: product.currency,\n            productImage: product?.images.length > 0 ? relativeToAbsolute(product.images[0].full.url) : undefined,\n            productURL: relativeToAbsolute(document.location.href),\n            productSKU: product.model,\n            productBrand: product.brand.name,\n            productCategory: categories[categories.length-1].name,\n            productAvailability: product.shippingTime,\n            productQuantity: 1,\n            productCategories: product.categories,\n\n            ecomm_prodid: product.id,\n            ecomm_pagetype: 'product',\n            ecomm_totalvalue: product.currentPrice,\n\n            ecommerce: {\n                items: enchancedEcommerceItems([product])\n            },\n\n            uaecommerce: { ecommerce: {\n                currencyCode: product.currency,\n                impressions: UAenchancedEcommerceItems([product])\n            }}\n        };\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push(data);\n        facebookConversionAPI(data);\n    }\n\n    export async function listing(listing: ListingData) {\n        await pageviewed;\n\n        const type = listing.type == \"category\" ? \"category\" :\n                     listing.type == \"manufacturer\" ? \"manufacturer\" :\n                     listing.type == \"search\" ? \"search\" :\n                     null;\n\n        if(!type) return;\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push({\n            event: `ks.listing`,\n            ...customerData(),\n\n            type: type,\n            listingCategories: type == \"category\" ? listing.breadcrumbs.filter(category => category.id != \"0\") : undefined,\n            listingProducts: listing.products,\n            ecommerce: {\n                items: enchancedEcommerceItems(listing.products)\n            },\n            uaecommerce: { ecommerce: {\n                currencyCode: listing.products?.[0]?.currency,\n                impressions: UAenchancedEcommerceItems(listing.products)\n            }}\n        });\n    }\n\n    export async function addToCart(product: ProductShortData, eventID: string) {\n        await pageviewed;\n\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const data = {\n            event: 'ks.addToCart',\n            facebookEventId: eventID,\n            ...customerData(),\n\n            productId: product.id,\n            productName: product.name,\n            productPrice: product.currentPrice,\n            productCurrency: product.currency,\n            productQuantity: product.quantity,\n            productImage: relativeToAbsolute(product.imageFull),\n            productURL: relativeToAbsolute(product.link),\n            productSKU: product.sku,\n            productCategories: product.categories,\n\n            ecommerce: {\n                items: enchancedEcommerceItems([product])\n            },\n\n            uaecommerce: { ecommerce: {\n                currencyCode: product.currency,\n                add: {\n                    products: UAenchancedEcommerceItems([product])\n                }\n            }}\n        };\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push(data);\n        facebookConversionAPI(data);\n    }\n\n    export async function removeFromCart(product: ProductShortData) {\n        await pageviewed;\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push({\n            event: 'ks.removeFromCart',\n            ...customerData(),\n\n            productId: product.id,\n            productName: product.name,\n            productPrice: product.currentPrice,\n            productCurrency: product.currency,\n            productQuantity: product.quantity,\n            productImage: relativeToAbsolute(product.imageFull),\n            productURL: relativeToAbsolute(product.link),\n            productSKU: product.sku,\n            productCategories: product.categories,\n\n            ecommerce: {\n                items: enchancedEcommerceItems([product])\n            },\n\n            uaecommerce: { ecommerce: {\n                currencyCode: product.currency,\n                remove: {\n                    products: UAenchancedEcommerceItems([product])\n                }\n            }}\n        });\n    }\n\n    export async function addToFavourites(product: ProductShortData) {\n        await pageviewed;\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push({\n            event: 'ks.addToFavourites',\n            ...customerData(),\n\n            productId: product.id,\n            productName: product.name,\n            productPrice: product.currentPrice,\n            productCurrency: product.currency,\n            productQuantity: product.quantity,\n            productImage: relativeToAbsolute(product.imageFull),\n            productURL: relativeToAbsolute(product.link),\n            productSKU: product.sku,\n            productCategories: product.categories,\n\n            ecommerce: {\n                items: enchancedEcommerceItems([product]),\n                value: product.currentPrice,\n                currency: product.currency\n            }\n        });\n    }\n\n    export async function view_cart(cart: CartData) {\n        await pageviewed;\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push({\n            event: 'ks.viewCart',\n            ...customerData(),\n\n            cartCurrency: cart.currency,\n            cartProductValue: cart.productValue,\n            cartValue: cart.totalValue,\n            cartProducts: cart.products,\n\n            ecomm_prodid: JSON.stringify(Object.values(cart.products).map(product => product.id)),\n            ecomm_pagetype: 'cart',\n            ecomm_totalvalue: cart.productValue,\n\n            ecommerce: {\n                items: enchancedEcommerceItems(Object.values(cart.products)),\n                value: cart.productValue,\n                currency: cart.currency\n            },\n\n            uaecommerce: { ecommerce: {\n                checkout: {\n                    actionField: {step: 1},\n                    currencyCode: cart.currency,\n                    products: UAenchancedEcommerceItems(Object.values(cart.products))\n                }\n            }}\n        });\n    }\n\n    export async function order_checkout(order: OrderData, eventID: string) {\n        await pageviewed;\n\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const data = {\n            event: 'ks.checkout',\n            facebookEventId: eventID,\n            ...customerData(),\n\n            orderProducts: order.products,\n            orderValue: order.totalValue,\n            orderProductValue: order.productValue,\n            orderCurrency: order.currency,\n            orderShipping: order.shippingValue,\n            orderCoupon: order.coupon,\n\n            ecommerce: {\n                items: enchancedEcommerceItems(order.products)\n            },\n\n            uaecommerce: { ecommerce: {\n                checkout: {\n                    actionField: {step: 3},\n                    currencyCode: order.currency,\n                    products: UAenchancedEcommerceItems(order.products)\n                }\n            }}\n        };\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push(data);\n        facebookConversionAPI(data);\n    }\n\n    export async function order_form(order: OrderData, eventID: string) {\n        await pageviewed;\n\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const data = {\n            event: 'ks.orderForm',\n            facebookEventId: eventID,\n            ...customerData(),\n\n            orderProducts: order.products,\n            orderValue: order.totalValue,\n            orderProductValue: order.productValue,\n            orderCurrency: order.currency,\n            orderShipping: order.shippingValue,\n            orderCoupon: order.coupon,\n\n            ecommerce: {\n                items: enchancedEcommerceItems(order.products)\n            },\n\n            uaecommerce: { ecommerce: {\n                checkout: {\n                    actionField: {step: 2},\n                    currencyCode: order.currency,\n                    products: UAenchancedEcommerceItems(order.products)\n                }\n            }}\n        };\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push(data);\n        facebookConversionAPI(data);\n    }\n    \n    export async function order_placed(order: OrderData, eventID: string) {\n        await pageviewed;\n\n        // @ts-ignore: Crypto type error\n        eventID = crypto.randomUUID();\n\n        const data = {\n            event: 'ks.order',\n            facebookEventId: eventID,\n            ...customerData(),\n\n            orderProducts: order.products,\n            orderId: order.id,\n            orderValue: order.totalValue,\n            orderProductValue: order.productValue,\n            orderCurrency: order.currency,\n            orderShipping: order.shippingValue,\n            orderCoupon: order.coupon,\n\n            ecomm_prodid: JSON.stringify(Object.values(order.products).map(product => product.id)),\n            ecomm_pagetype: 'purchase',\n            ecomm_totalvalue: order.productValue,\n\n            ecommerce: {\n                transaction_id: order.id,\n                value: order.totalValue,\n                currency: order.currency,\n                shipping: order.shippingValue,\n                coupon: order.coupon,\n                items: enchancedEcommerceItems(order.products)\n            },\n\n            uaecommerce: { ecommerce: {\n                purchase: {\n                    currencyCode: order.currency,\n                    actionField: {\n                        id: order.id,\n                        revenue: order.totalValue,\n                        shipping: order.shippingValue,\n                        coupon: order.coupon\n                    },\n                    products: UAenchancedEcommerceItems(order.products)\n                }\n            }}\n        };\n\n        window.dataLayer?.push({ ecommerce: null });\n        window.dataLayer?.push(data);\n        facebookConversionAPI(data);\n    }\n\n    export async function search(query: string) {\n        await pageviewed;\n\n        window.dataLayer?.push({\n            event: 'ks.search',\n            searchQuery: query,\n            ...customerData(),\n        });\n    }\n\n    export async function subscribe(subscription: SubscriptionData) {\n        await pageviewed;\n\n        window.dataLayer?.push({\n            event: 'ks.subscribe',\n            ...customerData(),\n\n            subscriptionPlace: subscription.place,\n            subscriptionEmail: subscription.email,\n            subscriptionName: subscription?.name,\n            subscriptionStatus: subscription.subscriber ? 1 : 0\n        });\n    }\n\n    export async function recipe(recipe: RecipeData) {\n        await pageviewed;\n\n        window.dataLayer?.push({\n            event: 'ks.recipe',\n            ...customerData(),\n\n            recipeName: recipe.title,\n            recipeCategory: recipe.category,\n            recipeCuisine: recipe.cuisine\n        });\n    }\n\n    function relativeToAbsolute(url: string) {\n        return url.includes('http') ? url : document.baseURI + url;\n    }\n\n    function enchancedEcommerceItems(products: ProductData[] | ProductShortData[] | ProductCardData[]) {\n        return products.map( (product, index) => { \n            const categories = (product as ProductShortData).breadcrumbs.filter(category => category.name != \"Strona główna\").map(category => category.name).reverse();\n\n            return {\n                item_id: product.id,\n                item_name: product.name,\n                currency: product.currency,\n                index: index,\n                price: product.currentPrice,\n                item_brand: product.brandName,\n                item_category: categories?.[0],\n                item_category2: categories?.[1],\n                item_category3: categories?.[2],\n                item_category4: categories?.[3],\n                item_category5: categories?.[4],\n            }\n        })\n    }\n\n    function UAenchancedEcommerceItems(products: ProductData[] | ProductShortData[] | ProductCardData[]) {\n        return products.map( (product, index) => { \n\n\n            const categories = (product as ProductShortData).breadcrumbs.filter(category => category.name != \"Strona główna\").map(category => category.name);\n\n            return {\n                name: product.name,\n                id: product.id,\n                price: product.currentPrice,\n                brand: product.brandName,\n                category: categories.join('/'),\n                position: index+1,\n                quantity: product.quantity\n            };\n        })\n    }\n}"],"mappings":"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"}