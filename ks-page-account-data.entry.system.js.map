{"version":3,"file":"ks-page-account-data.entry.system.js","sources":["src/components/pages/account/data.css?tag=ks-page-account-data","src/components/pages/account/data.tsx"],"sourcesContent":["ks-page-account-data {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 auto;\n    \n}\n\nks-page-account-data .container {\n    max-width: 100%;\n    width: 1000px;\n    box-sizing: border-box;\n    padding: 30px;\n    margin: 30px 0px;\n    background-color: #fff;\n    border-radius: 10px;\n}\n\nks-page-account-data .buttons {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin-top: 30px;\n}\n\nks-page-account-data .container > h1 {\n    text-align: center;\n    margin: 10px 0px 5px 0px;\n}\n\nks-page-account-data form > h2 {\n    margin-top: 30px;\n}\n\nks-page-account-data form > ks-button {\n    margin-top: 40px;\n}\n\n\nks-page-account-data .columns {\n    display: flex;\n    gap: 20px;\n    margin-bottom: 15px;\n}\n\nks-page-account-data .columns > * {\n    width: 100%;\n}\n\nks-page-account-data .radio {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n}\n\nks-page-account-data .success {\n    text-align: center;\n}\n\nks-page-account-data .success .loader {\n    position: relative;\n    width: 100px;\n    height: 100px;\n    margin: auto;\n}\n\nks-page-account-data ks-dialog .content {\n    width: 100%;\n}\n\nks-page-account-data #notification-dialog section ks-button {\n    margin-top: 20px;\n}\n\n@media (max-width: 1060px) {\n    ks-page-account-data {\n        background-color: #fff;\n    }\n\n    ks-page-account-data .container {\n        padding: 20px;\n        margin: 0px;\n    }\n}\n\n@media (max-width: 960px) {\n    ks-page-account-data .columns {\n        flex-direction: column;\n        gap: 20px;\n    }\n}","import { Component, h, Host, Prop, Element, State, Watch } from '@stencil/core';\n\n@Component({\n    tag: 'ks-page-account-data',\n    styleUrl: 'data.css'\n})\nexport class PageRegister {\n    @Element() root: HTMLElement;\n    \n    @Prop() heading: string = \"Moje dane\";\n    @Prop() update: string = \"Aktualizuj dane\";\n    @Prop() removeInfo: string = \"W celu usunięcia konta skontaktuj się z naszym działem obsługi klienta drogą mailową lub telefoniczną.\";\n\n    @Prop() address_id: string;\n    @Prop() customer_id: string;\n    @Prop() token: string;\n    \n    @Prop() accountLink: string;\n    @Prop() updateApi: string = \"\";\n    @Prop() emailApi: string = \"res/true?email=\";\n    @Prop() emailError: string = \"Podany email został już wykorzystany.\";\n    @Prop() postcodeError: string = \"Wprowadź kod pocztowy w formacie XX-XXX\";\n    @Prop() streetError: string = \"Wprowadź conajmniej nazwę ulicy oraz numer domu\";\n    @Prop() phoneError: string = \"Wprowadź prawidłowy numer telefonu\";\n\n    @Prop({mutable: true}) country: string = \"170\";\n    @Prop({mutable: true}) company: string = \"1\";\n    @Prop() email: string = \"\";\n    @Prop() companyName: string = \"\";\n    @Prop() companyNip: string = \"\";\n    @Prop() firstname: string = \"\";\n    @Prop() lastname: string = \"\";\n    @Prop() phone: string = \"\";\n    @Prop() city: string = \"\";\n    @Prop() street: string = \"\";\n    @Prop() postcode: string = \"\";\n    \n    @State() loading: boolean = false;\n\n    @Watch(\"country\") async countryWatcher() {\n        setTimeout(() => {\n            (this.root.querySelector(\"#postcode_input\") as HTMLKsInputTextElement).Validate();\n        }, 100);\n    }\n\n    render() {\n        const postcodeRegex = this.country == \"170\" ? \"^[0-9]{2}-[0-9]{3}$\" : undefined;\n\n        return <Host>\n            <section class=\"container\">\n                <h1>{this.heading}</h1>\n\n                <form action={this.updateApi} method=\"post\" enctype=\"application/x-www-form-urlencoded\" onSubmit={()=>this.submit()}>\n                    <ks-input-dynamic api={this.emailApi} message={this.emailError}>\n                        <ks-input-text email required name='email' label=\"Adres email\" icon=\"mail\" value={this.email} />\n                    </ks-input-dynamic>\n\n                    <div class=\"radio\">\n                        <ks-input-check radio name=\"osobowosc\" value=\"1\" label=\"Osoba fizyczna\" checked={this.company == \"1\"} onChange={() => this.company = \"1\"} />\n                        <ks-input-check radio name=\"osobowosc\" value=\"0\" label=\"Firma\"          checked={this.company == \"0\"} onChange={() => this.company = \"0\"}/>\n                    </div>\n\n                    {this.company == \"0\" && <div class=\"columns\">\n                        <ks-input-text required name='nazwa_firmy' label=\"Nazwa Firmy\" icon=\"briefcase\" value={this.companyName} />\n                        <ks-input-text required name='nip_firmy' label=\"Numer NIP\" icon=\"briefcase\" value={this.companyNip}  />\n                    </div>}\n\n                    <ks-input-select name='panstwo' label=\"Kraj\" onChange={e => this.country = (e.target as HTMLSelectElement).value}>\n                        <slot name=\"country\" />\n                    </ks-input-select>\n\n                    <div class=\"columns\">\n                        <div>\n                            <ks-input-text required name='imie' label=\"Imię\" icon=\"user\" value={this.firstname} />\n                            <ks-input-text required name='nazwisko' label=\"Nazwisko\" icon=\"user\" value={this.lastname} />\n                            <ks-input-text required phone name='telefon' label=\"Numer Telefonu\" icon=\"phone\" value={this.phone} />\n                        </div>\n\n                        <div>\n                            <ks-input-text required name='miasto' label=\"Miasto\" icon=\"map-pin\" value={this.city} />\n                            <ks-input-text required name='ulica' label=\"Ulica i numer domu / lokalu\" icon=\"map-pin\" value={this.street} regex=\"[a-zа-я].*[0-9]|[0-9].*[a-zа-я]\" regexMessage={this.streetError}/>\n                            <ks-input-text required id=\"postcode_input\" name='kod_pocztowy' label=\"Kod Pocztowy\" icon=\"map-pin\" value={this.postcode} regex={postcodeRegex} regexMessage={this.postcodeError} />\n                        </div>\n                    </div>\n\n                    <input type=\"hidden\" value=\"1\" name=\"przetwarzanie\" />\n                    <input type=\"hidden\" value=\"1\" name=\"przetwarzanie_dodatkowe\" />\n                    <input type=\"hidden\" name=\"adres_id\" value={this.address_id} />\n                    <input type=\"hidden\" name=\"id_klienta\" id=\"id_klienta\" value={this.customer_id} />\n                    <input type=\"hidden\" name=\"tok\" value={this.token} />\n                    <input type=\"hidden\" name=\"akcja\" value=\"zapisz\" />\n\n\n                    <p>{this.removeInfo}</p>\n\n                    <div class=\"buttons\">\n                        <ks-button rounded submit name={this.update} loading={this.loading} />\n                        <ks-button rounded border link={this.accountLink} name=\"Wróć do panelu klienta\" loading={this.loading} />\n                    </div>\n                </form>\n            </section>\n        </Host>;\n    }\n\n    async submit() {\n        this.loading = true;\n    }\n}\n"],"names":[],"mappings":"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"}