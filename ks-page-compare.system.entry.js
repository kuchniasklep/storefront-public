var __spreadArray=this&&this.__spreadArray||function(e,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,c;r<o;r++){if(c||!(r in a)){if(!c)c=Array.prototype.slice.call(a,0,r);c[r]=a[r]}}return e.concat(c||Array.prototype.slice.call(a))};System.register(["./index-c1zuSwDW.system.js","./index-BljFg8DE.system.js","./price-Oif1HvNP.system.js","./js.cookie-DYa23sGK.system.js","./common-BwSiL-IM.system.js"],(function(e){"use strict";var a,t,r,o,c;return{setters:[function(e){a=e.r;t=e.h},function(e){r=e.c},function(e){o=e.p},function(e){c=e.a},null],execute:function(){var p=r({});var n="ks-page-compare{display:block;background-color:#ffffff}ks-page-compare .compare-products{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:20px 20px 0px 20px}ks-page-compare .compare-attributes{padding:0px 20px 20px 20px}ks-page-compare .compare-products,ks-page-compare .compare-attributes{width:100%;max-width:1400px;-webkit-box-sizing:border-box;box-sizing:border-box;margin:auto;background-color:white}ks-page-compare .compare-products>*{-ms-flex:1;flex:1}ks-page-compare .compare-products .product{text-align:center;position:relative}ks-page-compare .compare-products .product a{color:#151515;text-decoration:none}ks-page-compare .compare-products .product ks-img3{max-width:120px;max-height:120px;margin:auto}ks-page-compare .compare-products .product ks-button{position:absolute;top:0;right:0;opacity:0.3}ks-page-compare .compare-products .add{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}ks-page-compare .compare-products .add ks-button{opacity:0.5}ks-page-compare .compare-products * ks-input-check{margin-top:10px;margin-bottom:0px}ks-page-compare .compare-products * h1{margin:0px}ks-page-compare .compare-products * h2{margin:10px 0px 0px 0px}ks-page-compare .compare-products * p{margin:5px 0px 0px 0px}ks-page-compare .compare-attributes .category{position:relative}ks-page-compare .compare-attributes .category>ks-icon{top:5px;right:15px;position:absolute}ks-page-compare .compare-attributes .category h3{border-bottom:1px solid #e7e7e7;padding:5px;margin-bottom:0px;margin-top:20px;font-weight:700}ks-page-compare .compare-attributes .category.interactable h3{cursor:pointer;-webkit-transition:background-color 0.3s ease;transition:background-color 0.3s ease}ks-page-compare .compare-attributes .category.interactable h3:hover{background-color:#f2f2f2}ks-page-compare .compare-attributes .category.interactable h3:active{background-color:#e6e6e6}ks-page-compare table{width:100%;table-layout:fixed;border-spacing:0px}ks-page-compare table th,ks-page-compare table td{text-align:center;width:25%;padding:5px;border-bottom:1px solid #e7e7e7}ks-page-compare table th{text-align:left;font-family:var(--font-emphasis)}ks-page-compare table tr:nth-child(even) td{background-color:#f2f2f2}ks-page-compare table tr td:not(:last-child),ks-page-compare table tr th:not(:last-child){border-right:1px solid #e7e7e7}ks-page-compare[differences] .identical{display:none}ks-page-compare table.hidden{display:none}@media screen and (min-width: 960px){ks-page-compare .compare-products{padding:50px 50px 0px 50px}ks-page-compare .compare-attributes{padding:0px 50px 20px 50px}}@media screen and (max-width: 960px){ks-page-compare .compare-products .product ks-img3{max-width:90px}}@media screen and (max-width: 640px){ks-page-compare .compare-products{display:block;margin-bottom:20px}ks-page-compare .compare-products .product a{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:left}ks-page-compare .compare-products .add{display:block;margin-top:15px}ks-page-compare .compare-products .product .text{width:100%}ks-page-compare .compare-products .product ks-button{position:static}ks-page-compare .compare-products .product ks-img3{max-width:60px;margin:0px 10px 0px 0px}ks-page-compare .compare-attributes .category h3{padding:12px 5px}ks-page-compare .compare-attributes .category>ks-icon{top:12px}ks-page-compare .compare-attributes .category td ks-icon{line-height:15px !important}ks-page-compare .compare-attributes .category td ks-icon svg{stroke-width:3;width:15px;height:15px}ks-page-compare .compare-products .info{width:100%;margin-bottom:20px}ks-page-compare .compare-attributes{padding:0px 10px 10px 10px}ks-page-compare .compare-attributes .category{margin-bottom:20px}ks-page-compare table tr{position:relative}ks-page-compare table th{position:absolute;font-size:12px;width:100%;border-bottom:none;top:2px}ks-page-compare table td{width:33.33%;padding:25px 5px 5px 5px;font-size:14px;border-right:none !important}}@media screen and (max-width: 420px){ks-page-compare .compare-products>div:nth-child(n+4),ks-page-compare table td:nth-child(n+4){display:none}ks-page-compare table td{width:50%}}";var i=e("ks_page_compare",function(){function e(e){a(this,e);this.differences=false;this.hidden=[]}e.prototype.componentWillLoad=function(){var e=document.getElementById(this.compareData);var a=JSON.parse(e.innerHTML);Object.keys(a).map((function(e){p.set(e,a[e])}))};e.prototype.removeProduct=function(e){var a=p.get("products").findIndex((function(a){return a.id==e}));if(a==-1)return;var t=p.get("products");t.splice(a,1);p.set("products",__spreadArray([],t,true));this.removeProductCookie(e);if(t.length==0)this.addProduct();else window.location.href="/porownaj-"+t.map((function(e){return e.id})).join("-")+".html"};e.prototype.removeProductCookie=function(e){var a=JSON.parse(c.get("product-comparison"));var t=a===null||a===void 0?void 0:a.findIndex((function(a){return a.id==e}));if(t==-1)return;a.splice(t,1);c.set("product-comparison",JSON.stringify(a),{expires:60})};e.prototype.addProduct=function(){window.location.href=p.get("addProductLink")};e.prototype.render=function(){var e=this;var a=p.get("products");var r=a.map((function(e){return e.id}));if(r.length<3)r=__spreadArray(__spreadArray([],r,true),new Array(3-r.length),true);var c=new Map;a.forEach((function(e){e.attributeCategories.forEach((function(a){if(!c.has(a.name))c.set(a.name,new Map);a.attributes.forEach((function(t){var r=c.get(a.name);if(!r.has(t.name))r.set(t.name,new Map);r.get(t.name).set(e.id,t.value)}))}))}));return t("ks-page-base",{key:"f5edc4b43e188deb7dd4b63f26416ce995da2579",skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t("div",{key:"51375ba32a351ecc4cafd2fe3002af0e8ba82b8c",class:"compare-products"},t("div",{key:"4e893647c337701f8bace42d7a258bdb47a7e716",class:"info"},t("h1",{key:"9d260f80ac2074ff754a280adfdc7b853dbddb56"},"Porównaj modele"),t("ks-input-check",{key:"67d8c8d70839562e596b0061dc81bb4ceaef2767",label:"Pokaż tylko różnice",onChange:function(a){return e.differences=a.target.checked}})),r.map((function(r){var o=a.find((function(e){return e.id==r}));if(!o)return t("div",{class:"add"},t("ks-button",{border:true,round:true,icon:"plus",onClick:function(){return e.addProduct()}}));return t("div",{class:"product"},t("a",{href:o.link},t("ks-img3",{image:o.image,fit:"contain"}),t("div",{class:"text"},t("h2",null,o.name),t("p",null,o.description))),t("ks-button",{border:true,round:true,narrower:true,icon:"x",onClick:function(){return e.removeProduct(o.id)}}))}))),t("div",{key:"298056ea535bf5b9370bbb8b562460cd78a7ecf4",class:"compare-attributes"},t("div",{key:"47038d29427f27a0fbb46876222a6996ba2b3dc8",class:"category"},t("h3",{key:"72f2e1fdd257650b4a848ebcecedcd9955e8d74e"},"Informacje Ogólne"),t("table",{key:"9048a0716251f548c9193ac125c45dbe507d1efc"},t("tbody",{key:"e1cb90bce479710fabfd678eda634fa1d6288f21"},t("tr",{key:"236889d2135362f84fe0f03d849becf3c5e87b8e"},t("th",{key:"3b652a7cb59407f10dfa613c2caf66a37d5af5a1"},"Kategoria"),r.map((function(e){var r;return t("td",null,(r=a.find((function(a){return a.id==e})))===null||r===void 0?void 0:r.category)}))),t("tr",{key:"897cc5bacf8ee56a84187e64345fc0695cf6a1c9"},t("th",{key:"db246f423cc847d77734d408b78d6ec39eaacb91"},"Cena"),r.map((function(e){var r;return t("td",null,o((r=a.find((function(a){return a.id==e})))===null||r===void 0?void 0:r.price))}))),t("tr",{key:"f2d045e1d899cea13ea0c5648d3643f47be1e6aa"},t("th",{key:"523ee9e7f750399f3869bd4bafa3ad15583cebba"},"Czas dostawy"),r.map((function(e){var r;return t("td",null,(r=a.find((function(a){return a.id==e})))===null||r===void 0?void 0:r.shipping)})))))),__spreadArray([],c.entries(),true).map((function(a,o){var c=a[0],p=a[1];return t("div",{class:"category interactable "+(e.same_attributes_in_category(p,r)?"identical ":"")},t("h3",{onClick:function(){return e.toggle_hidden(o)}},c),t("ks-icon",{name:e.hidden.includes(o)?"chevron-down":"chevron-up"}),t("table",{class:e.hidden.includes(o)?"hidden":""},t("tbody",null,__spreadArray([],p.entries(),true).map((function(a){var o=a[0],c=a[1];return t("tr",{class:e.same_attributes(c,r)?"identical":""},t("th",null,o),r.map((function(e){return t("td",null,c.has(e)?c.get(e)=="true"?t("ks-icon",{name:"check"}):c.get(e):"-")})))})))))}))))};e.prototype.toggle_hidden=function(e){var a=this.hidden.indexOf(e);if(a!=-1){var t=this.hidden;t.splice(a,1);this.hidden=__spreadArray([],t,true)}else this.hidden=__spreadArray(__spreadArray([],this.hidden,true),[e],false)};e.prototype.same_attributes=function(e,a){a=a.filter((function(e){return e!==undefined}));return __spreadArray([],e.values(),true).every((function(e,a,t){return e===t[0]}))&&e.size==a.length};e.prototype.same_attributes_in_category=function(e,a){var t=this;return __spreadArray([],e.entries(),true).map((function(e){var r=e[0],o=e[1];return t.same_attributes(o,a)})).every((function(e){return e==true}))};return e}());i.style=n}}}));
//# sourceMappingURL=ks-page-compare.system.entry.js.map