import{r as e,h as t,a as i,H as r}from"./index-0TTgkKkd.js";import{g as s,i as o,c as a,S as n,P as c,A as l}from"./a11y-BT_m41LL.js";import{p as d}from"./product-qCLVrWhE.js";import{K as p}from"./keyboard-5iGGkThc.js";import{A as u}from"./autoplay-CJ_Tkzeb.js";import{c as b}from"./common-JZ1KLzZ7.js";import{a as m}from"./price-DS9p83NV.js";import"./index-CZU_OQRD.js";function h(e){let{swiper:t,extendParams:i,on:r}=e;i({thumbs:{swiper:null,multipleActiveThumbs:true,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=false;let c=false;t.thumbs={swiper:null};function l(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const i=e.clickedIndex;const r=e.clickedSlide;if(r&&r.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(typeof i==="undefined"||i===null)return;let s;if(e.params.loop){s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10)}else{s=i}if(t.params.loop){t.slideToLoop(s)}else{t.slideTo(s)}}function d(){const{thumbs:e}=t.params;if(n)return false;n=true;const i=t.constructor;if(e.swiper instanceof i){if(e.swiper.destroyed){n=false;return false}t.thumbs.swiper=e.swiper;Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:true,slideToClickedSlide:false});Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:true,slideToClickedSlide:false});t.thumbs.swiper.update()}else if(o(e.swiper)){const r=Object.assign({},e.swiper);Object.assign(r,{watchSlidesProgress:true,slideToClickedSlide:false});t.thumbs.swiper=new i(r);c=true}t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass);t.thumbs.swiper.on("tap",l);return true}function p(e){const i=t.thumbs.swiper;if(!i||i.destroyed)return;const r=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():i.params.slidesPerView;let s=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides){s=t.params.slidesPerView}if(!t.params.thumbs.multipleActiveThumbs){s=1}s=Math.floor(s);i.slides.forEach((e=>e.classList.remove(o)));if(i.params.loop||i.params.virtual&&i.params.virtual.enabled){for(let e=0;e<s;e+=1){a(i.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(o)}))}}else{for(let e=0;e<s;e+=1){if(i.slides[t.realIndex+e]){i.slides[t.realIndex+e].classList.add(o)}}}const n=t.params.thumbs.autoScrollOffset;const c=n&&!i.params.loop;if(t.realIndex!==i.realIndex||c){const s=i.activeIndex;let o;let a;if(i.params.loop){const e=i.slides.find((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`));o=i.slides.indexOf(e);a=t.activeIndex>t.previousIndex?"next":"prev"}else{o=t.realIndex;a=o>t.previousIndex?"next":"prev"}if(c){o+=a==="next"?n:-1*n}if(i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(o)<0){if(i.params.centeredSlides){if(o>s){o=o-Math.floor(r/2)+1}else{o=o+Math.floor(r/2)-1}}i.slideTo(o,e?0:undefined)}}}r("beforeInit",(()=>{const{thumbs:e}=t.params;if(!e||!e.swiper)return;if(typeof e.swiper==="string"||e.swiper instanceof HTMLElement){const i=s();const r=()=>{const r=typeof e.swiper==="string"?i.querySelector(e.swiper):e.swiper;if(r&&r.swiper){e.swiper=r.swiper;d();p(true)}else if(r){const i=`${t.params.eventsPrefix}init`;const s=o=>{e.swiper=o.detail[0];r.removeEventListener(i,s);d();p(true);e.swiper.update();t.update()};r.addEventListener(i,s)}return r};const o=()=>{if(t.destroyed)return;const e=r();if(!e){requestAnimationFrame(o)}};requestAnimationFrame(o)}else{d();p(true)}}));r("slideChange update resize observerUpdate",(()=>{p()}));r("setTransition",((e,i)=>{const r=t.thumbs.swiper;if(!r||r.destroyed)return;r.setTransition(i)}));r("beforeDestroy",(()=>{const e=t.thumbs.swiper;if(!e||e.destroyed)return;if(c){e.destroy()}}));Object.assign(t.thumbs,{init:d,update:p})}const f="ks-lightbox{display:block}ks-lightbox .content{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;padding:10px;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none}ks-lightbox .close{position:absolute;top:15px;right:15px;-webkit-backdrop-filter:var(--lightbox-element-filter);backdrop-filter:var(--lightbox-element-filter);background-color:var(--lightbox-element-color);border-radius:100%;padding:5px;cursor:pointer;border:none;background-color:transparent;color:white;z-index:1000000;transition:var(--transition-background-color),\n                -webkit-transform 0.1s ease;-webkit-transition:var(--transition-background-color),\n                -webkit-transform 0.1s ease;transition:var(--transition-background-color),\n                transform 0.1s ease;transition:var(--transition-background-color),\n                transform 0.1s ease,\n                -webkit-transform 0.1s ease}ks-lightbox .close:hover{background-color:var(--lightbox-element-color-hover);-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}ks-lightbox .close:active{background-color:var(--lightbox-element-color-active);-webkit-transform:scale(0.95, 0.95);transform:scale(0.95, 0.95)}ks-lightbox .lightbox-full{width:100%;-ms-flex:1;flex:1;outline-style:none}ks-lightbox .lightbox-thumb{margin-top:10px;width:100%}ks-lightbox .lightbox-thumb .swiper-slide{height:70px;width:70px;overflow:hidden;opacity:0.6;-webkit-transition:var(--transition-opacity);transition:var(--transition-opacity)}ks-lightbox .lightbox-thumb .swiper-slide:hover{opacity:0.8}ks-lightbox .lightbox-thumb .swiper-slide-thumb-active{opacity:1 !important}ks-lightbox .swiper-pagination{display:none;width:100%}ks-lightbox .swiper-pagination{bottom:0px !important;padding:5px;-webkit-backdrop-filter:var(--lightbox-element-filter);backdrop-filter:var(--lightbox-element-filter);background-color:var(--lightbox-element-color)}ks-lightbox .swiper-pagination-bullet{margin:0px 2px;background-color:#ffffff}ks-lightbox .swiper-pagination-bullet-active{background-color:#ffffff}@media only screen and (max-width: 720px){ks-lightbox .content{padding:0}ks-lightbox .swiper-pagination{display:block}ks-lightbox .lightbox-thumb{display:none !important}ks-lightbox .lightbox-full .swiper-slide ks-img img{border-radius:0px}}";n.use([c,h,l]);const g=class{constructor(t){e(this,t)}componentDidRender(){this.overlay=this.root.querySelector("ks-overlay")}async show(e=0){this.overlay.show().then((()=>{if(this.carousel==undefined){this.thumbs=new n(".lightbox-thumb",{observer:true,observeParents:true,grabCursor:true,slidesPerView:"auto",centerInsufficientSlides:true,watchSlidesProgress:true,spaceBetween:10,resistanceRatio:.7});this.carousel=new n(".lightbox-full",{observer:true,observeParents:true,centeredSlides:true,slidesPerView:"auto",spaceBetween:20,preventInteractionOnTransition:true,thumbs:{swiper:this.thumbs},pagination:{el:".swiper-pagination"}})}this.carousel?.slideTo(e,0,false)}))}async hide(){this.overlay.hide()}render(){return t("ks-overlay",{key:"20ebf1903887c5d70f15a1257ee7605980c83e3b",dark:true},t("div",{key:"eb999729d4d523798cce06aed5f9f862b803eb0e",class:"content"},t("div",{key:"6233e8f4566a2c41dc4173e05a02f53c721aabb4",class:"swiper-container lightbox-full",tabindex:0,onFocusin:()=>this.carousel.keyboard.enable(),onFocusout:()=>this.carousel.keyboard.disable()},t("div",{key:"8fdd6e2480572ead7c6c823903b2834afa58db29",class:"swiper-wrapper"},this.data.map((e=>t("div",{class:"swiper-slide"},t("ks-img",{contained:true,center:true,target:".lightbox-full",src:e.full.url,width:e.full.width,height:e.full.height}))))),t("div",{key:"6323ea1ced21953fa36ea43f8b9db97dfb3a2bd6",class:"swiper-pagination"})),t("div",{key:"0e69cc1a65b3c32800bebd57167b100fcf1566b7",class:"swiper-container lightbox-thumb"},t("div",{key:"b143edde2a42ff6cad01f783b0f29140677d9c9d",class:"swiper-wrapper"},this.data.map((e=>t("div",{class:"swiper-slide"},t("ks-img",{contained:true,center:true,src:e.thumb.url,width:e.thumb.width,height:e.thumb.height}))))))),t("button",{key:"af624a235deb482d6c649257d0a02a29b6276d7d",class:"close",onClick:()=>this.overlay.hide()},t("ks-icon",{key:"647e6e3fd3b0704b86941e57c2d82869ab454872",name:"x",size:1.2})))}get root(){return i(this)}};g.style=f;const k='ks-product-images{display:block;margin-right:30px}ks-product-images .swiper-slide{position:relative;text-align:center}ks-product-images .swiper-slide canvas{max-width:100%;max-height:450px}ks-product-images .preview{padding:2px !important}ks-product-images .preview ks-img2{max-width:100%;max-height:450px}ks-product-images .preview .swiper-slide:not(.swiper-slide-active){display:none}ks-product-images[loaded] .preview .swiper-slide:not(.swiper-slide-active){display:block}ks-product-images .thumb{margin-top:20px;min-height:70px;position:relative}ks-product-images[loaded] .thumb>ks-loader{display:none}ks-product-images .thumb::after{content:"";position:absolute;top:0;bottom:0;right:0;left:-30px;background:-webkit-gradient(linear, left top, right top, from(rgba(255,255,255,0)), color-stop(85%, rgba(255,255,255,0)), to(rgba(255,255,255,1)));background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 85%, rgba(255,255,255,1) 100%);z-index:2;pointer-events:none}ks-product-images .thumb .swiper-slide{width:70px;height:70px;opacity:0.4;-webkit-transition:var(--transition-opacity);transition:var(--transition-opacity)}ks-product-images .thumb .swiper-slide-thumb-active{opacity:1}@media only screen and (max-width: 959px){ks-product-images{margin-right:0px;margin-top:30px}ks-product-images .thumb{margin-bottom:0px}}@media only screen and (max-width: 460px){ks-product-images .swiper-slide canvas{max-height:300px}ks-product-images .preview ks-img2{max-height:300px}}ks-product-images .preview:not(.swiper-container-initialized) .swiper-slide:nth-child(n+2){display:none}ks-product-images .thumb .swiper-wrapper{opacity:1;-webkit-animation:fade-in 0.3s ease;animation:fade-in 0.3s ease}ks-product-images .thumb:not(.swiper-initialized) .swiper-wrapper{opacity:0;-webkit-animation:none;animation:none}';n.use([h,u,p,l]);const w=class{constructor(t){e(this,t);this.delay=0;this.loaded=false;this.rendered=false}componentDidLoad(){if(this.rendered)return;this.rendered=true;this.initialize()}initialize(){const e=d.get("images").length>1;if(e){this.thumbs=new n(".thumb",{observer:true,observeParents:true,grabCursor:true,slidesPerView:"auto",preventInteractionOnTransition:true,centerInsufficientSlides:true,watchSlidesProgress:true,spaceBetween:3,on:{init:()=>{this.loaded=true}}})}this.carousel=new n(".preview",{observer:true,observeParents:true,spaceBetween:30,grabCursor:true,autoHeight:true,thumbs:e?{swiper:this.thumbs}:undefined})}showLightbox(e){this.root.querySelector("ks-lightbox").show(e)}render(){return[t("div",{key:"69f334e828ed4e563397e811e3f0bb45003e9442",class:"swiper-container preview swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events swiper-container-autoheight","aria-label":"Zdjęcia produktu",tabindex:0,onFocusin:()=>this.carousel.keyboard.enable(),onFocusout:()=>this.carousel.keyboard.disable()},t("div",{key:"39e7be54457b1993ec571dfaa8bd2af08dce8582",class:"swiper-wrapper"},d.get("images").map(((e,i)=>t("div",{class:["swiper-slide",i==0?"swiper-slide-active":null,i==1?"swiper-slide-next":null].join(" ")},t("ks-img2",{fill:true,sync:i==0,alt:`Zdjęcie produktu: ${i+1}`,src:e.preview.url,webp:e.preview.webp,width:e.preview.width,height:e.preview.height,onClick:()=>this.showLightbox(i)})))))),d.get("images").length>1?t("div",{class:"swiper-container thumb swiper-container-horizontal swiper-container-pointer-events swiper-container-thumbs"},t("div",{class:"swiper-wrapper"},d.get("images").map(((e,i)=>t("div",{class:["swiper-slide swiper-slide-visible",i==0?"swiper-slide-active swiper-slide-thumb-active":null,i==1?"swiper-slide-next":null].join(" ")},t("ks-img2",{sync:i<6,alt:`Podgląd zdjęcia: ${i+1}`,src:e.thumb.url,webp:e.thumb.webp,width:e.thumb.width,height:e.thumb.height})))))):null,t("ks-lightbox",{key:"d51c388c1aa9808d197e0626cc3e84866a72a6b8",data:d.get("images")})]}get root(){return i(this)}};w.style=k;const x="ks-product-price{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:12px 0 20px;font-family:var(--product-price-font);font-weight:700}ks-product-price .main{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:3px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}ks-product-price .secondary{display:block;font-weight:500;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}ks-product-price .secondary .price{font-size:var(--product-price-size);text-wrap:nowrap}ks-product-price .current{color:var(--color-secondary);font-size:var(--product-price-size-emphasis);line-height:var(--product-price-size)}@media only screen and (max-width: 960px){ks-product-price{-ms-flex-align:center;align-items:center}}@media only screen and (max-width: 560px){ks-product-price .secondary{font-size:15px;text-align:center}ks-product-price .secondary .price{font-size:16px}}ks-product-price .currency{width:26px;height:26px;margin:0 0 0 10px;border-radius:30px;background-color:var(--color-secondary);color:white;font-family:var(--product-price-font);-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:baseline;align-items:baseline}";const v=class{constructor(t){e(this,t)}render(){const e=d.get("strings");const i=b.get("currency").symbol;const s=m(d.get("currentPrice"));const o=m(d.get("previousPrice"));const a=m(d.get("lowestPrice"));return t(r,{key:"e408e4120222ca76416a9520eb7a8cb376fc9b41"},t("div",{key:"80cba73b22297abb96e22563180c626dc8235e63",class:"main","aria-label":`Cena produktu - ${s} ${i}`},t("div",{key:"7f0054f56106dd7760f0bc2c4c7e6e113b73859a",class:"current"},s),t("div",{key:"678754c97e2ffde8703c0c8b29930b9a728d6909",class:"currency"},i)),a&&o&&t("div",{key:"70f8f9739790872aa5bcbacc70e5b894e00d904b",class:"secondary"},"Sugerowana cena producenta: ",t("s",{key:"4b551ab834a27f5c95351403a9d28ae803c175d4",class:"price"},o," ",i)),a&&t("div",{key:"574c6f86824e91244c73e01567a2de278c4ca586",class:"secondary"},e.lowestPrice," ",t("s",{key:"8be9bd1c5211fd07a45814721861a45096790576",class:"price"},a," ",i)))}};v.style=x;const y='ks-product-title{display:block}ks-product-title h1{font-family:var(--product-title-font);font-size:var(--product-title-size);color:var(--product-title-color);font-weight:700;margin-bottom:2px}ks-product-title h1>a{text-decoration:none !important;color:var(--product-title-brand-color) !important;opacity:1;-webkit-transition:var(--transition-opacity);transition:var(--transition-opacity)}ks-product-title h1>a:hover{opacity:0.7}ks-product-title h1>a:active{opacity:0.5}ks-product-title>.breadcrumbs>a{font-family:var(--product-breadcrumb-font);font-size:14px !important;color:var(--product-breadcrumb-color);text-decoration:none}ks-product-title>.breadcrumbs>a:not(:last-child):after{content:"/";color:var(--product-breadcrumb-color);margin:0 15px}ks-product-title>.breadcrumbs>a:focus{color:var(--product-breadcrumb-color)}ks-product-title>.breadcrumbs>a:hover{color:var(--product-breadcrumb-color-hover)}ks-product-title>.breadcrumbs>a:active{color:var(--product-breadcrumb-color-active)}@media only screen and (max-width: 960px){ks-product-title{text-align:center}}@media only screen and (max-width: 1100px){ks-product-title>.breadcrumbs+*{font-size:var(--product-title-size-small)}}@media only screen and (max-width: 460px){ks-product-title>.breadcrumbs{margin-bottom:10px}ks-product-title>.breadcrumbs>a{font-size:14px}ks-product-title>.breadcrumbs>a:not(:last-child):after{margin:0 10px}}';const z=class{constructor(t){e(this,t);this.brandLink=false}render(){const e=d.get("name");const i=d.get("brand");let r=t("h1",null,e);if(this.brandLink&&i){const s=i.name.length;const o=i.link;const a=this.brandIndex();if(a!==-1){const i=e.substr(0,a);const n=e.substr(a,s);const c=e.substr(a+s);r=t("h1",null,i,t("a",{href:o},n),c)}}if(d.get("breadcrumbs"))return[t("div",{class:"breadcrumbs"},d.get("breadcrumbs").map((e=>t("a",{href:e.link},e.name," ")))),r];return r}brandIndex(){return d.get("name").toLowerCase().indexOf(d.get("brand").name.toLowerCase())}};z.style=y;export{g as ks_lightbox,w as ks_product_images,v as ks_product_price,z as ks_product_title};
//# sourceMappingURL=ks-lightbox_4.entry.js.map