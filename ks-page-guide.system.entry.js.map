{"version":3,"names":["guide","createStore","guideCss","PageGuide","exports","class_1","hostRef","_this","this","loading","active","summary","choices","choices_stage","h","_a","activeCategory","heading","class","_b","multiple","join","_c","map","choice","activeCategoryChoices","includes","id","onClick","selectChoice","fit","image","description","name","_d","nopreference","round","border","_e","length","nextCategory","summary_stage","dialog","category","categoryChoices","find","icon","reset","prototype","componentWillLoad","guideDataElement","document","getElementById","guideData","JSON","parse","innerHTML","Object","keys","key","set","resetActive","initialCategory","get","selectCategoryRelative","previousCategory","distance","activeIndex","selectCategory","index","findIndex","item","current","pos","indexOf","splice","push","__spreadArray","previousIndex","slice","dynamicResults","scroll","root","querySelector","nav_rect","getBoundingClientRect","in_view","top","left","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","setTimeout","y","scrollY","behavior","jsonfetch","data","sent","json","products","render","skipbase","commonData","commonDynamicData","Math","max","product","constheight","flat","linkOnly","conditions","items","marked"],"sources":["src/global/data/guide.ts","src/components/pages/guide/guide.css?tag=ks-page-guide","src/components/pages/guide/guide.tsx"],"sourcesContent":["import { createStore } from \"@stencil/store\";\nimport { ProductCardData } from \"./listing\";\n\nexport const guide = createStore({} as GuideData);\n\nexport interface GuideData {\n    dialog?: DialogData[];\n    api: string;\n    products?: GuideProductData[];\n    heading: string;\n    description: string;\n    bottom_description: string;\n}\n\nexport interface DialogData {\n    id: string;\n    name: string;\n    heading: string;\n    choices: DialogChoiceData[];\n    multiple: boolean;\n    nopreference: boolean;\n}\n\nexport interface DialogChoiceData {\n    id: string;\n    name: string;\n    description: string;\n    image: string;\n}\n\nexport interface GuideProductData extends ProductCardData {\n    conditions: GuideProductCategory[];\n}\n\nexport interface GuideProductCategory {\n    category: string;\n    items: string[];\n}\n\n","ks-page-guide { \n    display: block;\n    background-color: #f2f2f2;\n}\n\nks-page-guide .text { \n    max-width: 1000px;\n    padding: 20px;\n    margin: auto;\n}\n\nks-page-guide .dialog { \n    max-width: 1000px;\n    width: 100%;\n    padding: 20px;\n    margin: auto;\n    box-sizing: border-box;\n\n    background-color: #ffffff;\n    border: 1px solid #e9e9e9;\n    border-radius: 10px;\n\n    overflow: hidden;\n}\n\nks-page-guide .dialog .buttons {\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n    margin-top: 10px;\n}\n\nks-page-guide .dialog .choices {\n    display: flex;\n    gap: 10px;\n    flex-wrap: wrap;\n}\n\nks-page-guide .dialog .choice {\n    width: 100%;\n    max-width: 215px;\n    background-color: #f2f2f2;\n    border-radius: 10px;\n    overflow: hidden;\n    position: relative;\n    padding: 8px;\n    cursor: pointer;\n}\n\nks-page-guide .dialog .choice ks-img3 {\n    height: 140px;\n    border-radius: 10px;\n    overflow: hidden;\n}\n\nks-page-guide .dialog .choice .description {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\nks-page-guide .dialog .choice h3 {\n    font-size: 17px;\n    padding: 10px 10px 6px 10px;\n    margin: 0;\n}\n\nks-page-guide .dialog .choice p {\n    padding: 0px 10px 10px 10px;\n    margin: 0;\n    font-size: 14px;\n}\n\nks-page-guide .dialog .choice .select {\n    position: absolute;\n    top: 4px;\n    right: 4px;\n    width: 35px;\n    height: 35px;\n    background-color: #f2f2f2;\n    border-radius: 35px 0 35px 35px;\n}\n\nks-page-guide .dialog .choice .select::before {\n    content: \"\";\n    display: block;\n    width: 25px;\n    height: 25px;\n\n    position: absolute;\n    right: 5px;\n    top: 5px;\n\n    border-radius: 25px;\n    border: 1px solid #818181;\n    box-sizing: border-box;\n}\n\nks-page-guide .dialog .choice.active .select::after {\n    content: \"\";\n    display: block;\n    width: 17px;\n    height: 17px;\n    position: absolute;\n    \n    right: 9px;\n    top: 9px;\n    border-radius: 17px;\n    background-color: #212121;\n}\n\nks-page-guide .dialog .choices.multiple .choice .select {\n    border-radius: 0 0 0 8px;\n    top: 8px;\n    right: 8px;\n    width: 30px;\n    height: 30px;\n}\n\nks-page-guide .dialog .choices.multiple .choice .select::before {\n    right: 0px;\n    top: 0px;\n    border-radius: 5px;\n}\n\nks-page-guide .dialog .choices.multiple .select::after {\n    right: 4px;\n    top: 4px;\n    border-radius: 3px;\n}\n\nks-page-guide .dialog .navigation {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 10px;\n}\n\nks-page-guide .dialog .navigation .breadcrumbs {\n    display: flex;\n    gap: 5px;\n}\n\nks-page-guide .dialog .navigation .breadcrumbs > * {\n    background-color: #dddddd;\n    padding: 5px 10px;\n    border-radius: 7px;\n    cursor: pointer;\n}\n\nks-page-guide .dialog .navigation .back {\n    background-color: #dddddd;\n    padding: 5px 10px;\n    border-radius: 7px;\n    cursor: pointer;\n}\n\nks-page-guide .products {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 10px;\n    \n    width: 100%;\n    margin: 20px auto 0 auto;\n    padding: 0 10px;\n    box-sizing: border-box;\n}\n\nks-page-guide .products .product {\n    position: relative;\n    max-width: 300px;\n    flex: 1 1 260px;\n}\n\nks-page-guide .products .product ks-product-card {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\nks-page-guide .products .product .condition {\n    padding: 5px 0;\n    font-size: 14px;\n}\n\nks-page-guide .products .product .condition ks-icon {\n    margin-right: 5px;\n}\n\nks-page-guide .products .product .best {\n    position: absolute;\n    z-index: 1;\n    top: 10px;\n    left: -5px;\n    background-color: #151515;\n    color: #ffffff;\n    padding: 5px 15px;\n    border-radius: 5px;\n}\n\nks-page-guide .summary > div {\n    margin: 0 0 10px 0;\n}\n\nks-page-guide .summary > div > div {\n    display: inline-block;\n    background-color: #dddddd;\n    padding: 3px 7px;\n    border-radius: 5px;\n    margin: 2px;\n}\n\nks-page-guide .summary ks-button {\n    margin: 20px -20px -20px -20px;\n}\n\n\nks-page-guide .dialog .choice,\nks-page-guide .dialog .navigation .breadcrumbs > * {\n    transition: opacity 0.3s ease;\n    opacity: 1;\n}\n\nks-page-guide .dialog .navigation .breadcrumbs > *:hover {\n    opacity: 0.8;\n}\n\nks-page-guide .dialog .choice:hover {\n    opacity: 0.95;\n}\n\nks-page-guide .dialog .choice:hover,\nks-page-guide .dialog .navigation .breadcrumbs > *:active {\n    opacity: 0.7;\n}\n\nks-page-guide[loading] .dialog .choices,\nks-page-guide[loading] .products {\n    opacity: 0;\n    transition: none;\n}\n\nks-page-guide .dialog .choices,\nks-page-guide .products {\n    transition: opacity 0.3s ease;\n}\n\nks-page-guide .dialog .navigation .back {\n    display: none;\n}\n\n@media screen and (max-width: 1010px) {\n    ks-page-guide .dialog .navigation .breadcrumbs {\n        display: none;\n    }\n\n    ks-page-guide .dialog .navigation .back {\n        display: block;\n    }\n\n    ks-page-guide .dialog .choices .choice {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        max-width: 100%;\n    }\n\n    ks-page-guide .dialog .choice ks-img3 {\n        height: 50px;\n        width: 80px;\n    }\n\n    ks-page-guide .dialog .choice ks-img3.large {\n        height: 80px;\n        width: 80px;\n    }\n\n    ks-page-guide .dialog .choices .choice .select {\n        position: relative;\n        top: 0;\n        right: 0;\n    }\n    \n    ks-page-guide .dialog .choices.multiple .choice .select {\n        position: relative;\n        top: 2.5px;\n    }\n    \n    ks-page-guide .product .condition {\n        padding: 2px 0;\n    }\n\n    ks-page-guide .product .condition ks-icon {\n        transform: scale(0.9);\n        margin: 0;\n    }\n}\n\n@media screen and (min-width: 701px) {\n    ks-page-guide > ks-page-base > .content { \n        padding: 0 40px;\n    }\n}","import { Component, h, Prop, State, Element } from '@stencil/core';\nimport { DialogChoiceData, DialogData, guide, GuideData } from \"../../../global/data/guide\";\nimport { jsonfetch } from '../../../global/functions/fetch';\nimport { marked } from 'marked';\n\ndeclare global { interface Window { dataLayer: any[] }}\n@Component({\n    tag: 'ks-page-guide',\n    styleUrl: 'guide.css'\n})\nexport class PageGuide {\n    @Element() root: HTMLElement;\n    @Prop() skipbase: boolean;\n    @Prop() commonData: string;\n    @Prop() commonDynamicData: string;\n\n    @Prop() guideData: string;\n    @Prop({mutable: true, reflect: true}) loading: boolean = false;\n\n    @State() active: string = null;\n    @State() summary: boolean = false;\n    @State() choices: {category: string, choices: string[]}[] = [];\n\n    componentWillLoad() {\n        const guideDataElement = document.getElementById(this.guideData);\n\t\tconst guideData = JSON.parse(guideDataElement.innerHTML) as GuideData;\n\n        Object.keys(guideData).map(key => {\n\t\t\tguide.set(key as keyof GuideData, guideData[key]);\n\t\t});\n\n        this.resetActive();\n    }\n\n    initialCategory() {\n        return guide.get(\"dialog\")?.[0]?.id;\n    }\n\n    resetActive() {\n        this.active = this.initialCategory();\n    }\n\n    nextCategory() {\n        this.selectCategoryRelative(1);\n    }\n    \n    previousCategory() {\n        this.selectCategoryRelative(-1);\n    }\n\n    selectCategoryRelative(distance: number) {\n        const category = guide.get(\"dialog\")?.[this.activeIndex() + distance];\n        this.selectCategory(category?.id);\n    }\n\n    activeIndex() {\n        return this.index(this.active);\n    }\n\n    index(category: string) {\n        return guide.get(\"dialog\")?.findIndex(item => item.id == category);\n    }\n\n    activeCategory() {\n        return this.category(this.active);\n    }\n\n    category(category: string) {\n        return guide.get(\"dialog\")?.find(item => item.id == category);\n    }\n\n    activeCategoryChoices() {\n        return this.categoryChoices(this.active);\n    }\n\n    categoryChoices(category: string) {\n        return this.choices.find(item => item.category == category)?.choices;\n    }\n\n    selectChoice(category: string, choice: DialogChoiceData) {\n        let choices = this.choices;\n        const id = choice?.id ?? null;\n        const multiple = this.category(category)?.multiple;\n\n        const current = this.choices.find(item => item.category == category);\n\n        if(current) {\n            if(multiple) {\n                const pos = current.choices.indexOf(id);\n                if(pos != -1) current.choices.splice(pos, 1);\n                else current.choices.push(id);\n            }\n            else current.choices = [id];\n        }\n        \n        else {\n            this.choices.push({\n                category: category,\n                choices: [id]\n            });\n        }\n\n        this.choices = [...choices];\n        if(choice == null) this.nextCategory();\n    }\n\n    selectCategory(category: string) {\n        const previousIndex = this.activeIndex();\n        const index = this.index(category);\n\n        if(index == -1)\n            this.summary = true;\n\n        else {\n            if(this.choices.length > index)\n                this.choices = [...this.choices.slice(0, index)];\n\n            this.active = category;\n            this.summary = false;\n        }\n\n        if(this.active == this.initialCategory())\n            this.componentWillLoad();\n\n        else this.dynamicResults(previousIndex);\n\n        this.scroll();\n    }\n\n    scroll() {\n        const dialog = this.root.querySelector(\".dialog\");\n        const nav_rect = dialog.querySelector(\".navigation\")?.getBoundingClientRect();\n\n        const in_view = nav_rect.top >= 0 &&\n            nav_rect.left >= 0 &&\n            nav_rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            nav_rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n\n        if(!in_view) setTimeout(() => {\n            const y = dialog?.getBoundingClientRect()?.top + window.scrollY;\n            window.scroll({top: y, behavior: 'smooth'});\n        }, 300);\n    }\n\n    reset() {\n        this.summary = false;\n        this.resetActive();\n        this.choices = [];\n        this.componentWillLoad();\n    }\n\n    async dynamicResults(previousIndex) {\n        this.loading = true;\n\n        const data = await jsonfetch(guide.get(\"api\"), {\n            \"choices\": this.choices\n        });\n        const guideData = await data?.json();\n\n        if(guideData) {\n            guide.set(\"dialog\", guideData?.dialog);\n            guide.set(\"products\", guideData?.products);\n        }\n\n        this.loading = false;\n\n        if(!this.activeCategory()) {\n            const category = guide.get(\"dialog\")?.[previousIndex+1];\n\n            if(category) this.active = category.id;\n            else this.summary = true;\n        }\n    }\n\n\trender() {\n        const dialog = guide.get(\"dialog\");\n        const products = guide.get(\"products\");\n\n\t\treturn <ks-page-base skipbase={this.skipbase} commonData={this.commonData} commonDynamicData={this.commonDynamicData}>\n            <div class=\"content\">\n                <div class=\"text\">\n                    <h1>{guide.get(\"heading\")}</h1>\n                    <p>{guide.get(\"description\")}</p>\n                </div>\n\n                <div class=\"dialog\">\n                    <div class=\"navigation\">\n                        <div class=\"breadcrumbs\">\n                            {dialog.slice(0, Math.max(this.choices.length, this.activeIndex())).map(category =>\n                                <div onClick={()=>this.selectCategory(category.id)}>{category?.name}</div>\n                            )}\n                        </div>\n                        <div class=\"back\" onClick={()=>this.previousCategory()}>\n                            <ks-icon name=\"chevron-left\" />\n                        </div>\n                        <div>{this.summary ? dialog.length : this.activeIndex()+1} z {dialog.length}</div>\n                    </div>\n                    \n                    {this.summary ? this.summary_stage(dialog) : this.choices_stage()}\n                </div>\n\n                {products && products?.length > 0 && (this.activeIndex() > 0 || this.summary) ?\n                    <div class=\"products\">\n                        {products?.map((product, index) => \n                            <div class=\"product\" key={product.id}>\n                                {index == 0 ? <div class=\"best\">Najlepszy wybór</div> : null}\n                                <ks-product-card constheight flat linkOnly product={product} />\n                                {product?.conditions?.map(category =>\n                                    <div class=\"condition\"> \n                                        <ks-icon name=\"check-circle\" />\n                                        {category.category}: {category.items.join(\", \")}\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                : null}\n                \n                <div class=\"text\" innerHTML={marked.parse(guide.get(\"bottom_description\"))} />\n            </div>\n        </ks-page-base>;\n\t}\n\n    choices_stage = () => [\n        <h2>{this.activeCategory()?.heading}</h2>,\n        <div class={[\"choices\", this.activeCategory()?.multiple ? \"multiple\" : null].join(\" \")}>\n\n            {this.activeCategory()?.choices.map(choice => \n                <div class={[\"choice\", this.activeCategoryChoices()?.includes(choice.id) ? \"active\" : null].join(\" \")}\n                    onClick={()=>this.selectChoice(this.active, choice)}\n                >\n                    <ks-img3 fit='cover' image={choice.image} class={choice.description ? \"large\" : null}/>\n                    <div class=\"description\">\n                        <h3>{choice.name}</h3>\n                        {choice.description ? <p>{choice.description}</p> : null}\n                    </div>\n                    <div class=\"select\" />\n                </div>\n            )}\n\n            {this.loading}\n\n        </div>,\n        <div class=\"buttons\">\n            {this.activeCategory()?.nopreference ? \n                <ks-button round border name=\"Nie mam preferencji\" onClick={()=>this.selectChoice(this.active, null)} />\n            : null}\n\n            {this.activeCategoryChoices()?.length > 0 ? \n                <ks-button round name=\"Kontynuuj\" onClick={()=>this.nextCategory()} />\n            : null}\n        </div>\n    ];\n\n    summary_stage = (dialog: DialogData[]) => [\n        <h2>Dziękujemy za Twoją opinię!</h2>,\n        <p>Na podstawie Twoich odpowiedzi możemy polecić Ci kilka świetnych rozwiązań. Sprawdź je poniżej.</p>,\n        <div class=\"summary\">\n            {dialog?.map((category) => this.categoryChoices(category.id)?.includes(null) ? null :\n                <div>{category.name}: {\n                    this.categoryChoices(category.id)?.map(id =>\n                        category.choices?.find(choice => choice.id == id)?.name\n                    )?.map(name => <div>{name}</div>)\n                }</div> \n            )}\n            <ks-button name=\"Rozpocznij ponownie\" icon=\"edit-3\" onClick={()=>this.reset()}/>\n        </div>\n    ];\n}\n\n\n\n\n"],"mappings":"i/DAGO,IAAMA,EAAQC,EAAY,ICHjC,IAAMC,EAAW,s1J,ICUJC,EAASC,EAAA,2BAJtB,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,K,UAW0CA,KAAOC,QAAY,MAEhDD,KAAME,OAAW,KACjBF,KAAOG,QAAY,MACnBH,KAAOI,QAA4C,GA0M5DJ,KAAaK,cAAG,W,cAAM,OAClBC,EAAA,WAAKC,EAAAR,EAAKS,oBAAgB,MAAAD,SAAA,SAAAA,EAAEE,SAC5BH,EAAK,OAAAI,MAAO,CAAC,YAAWC,EAAAZ,EAAKS,oBAAgB,MAAAG,SAAA,SAAAA,EAAEC,UAAW,WAAa,MAAMC,KAAK,OAE7EC,EAAAf,EAAKS,oBAAgB,MAAAM,SAAA,SAAAA,EAAEV,QAAQW,KAAI,SAAAC,GAAM,IAAAT,EACtC,OAAAD,EAAA,OAAKI,MAAO,CAAC,WAAUH,EAAAR,EAAKkB,2BAAuB,MAAAV,SAAA,SAAAA,EAAEW,SAASF,EAAOG,KAAM,SAAW,MAAMN,KAAK,KAC7FO,QAAS,WAAI,OAAArB,EAAKsB,aAAatB,EAAKG,OAAQc,EAA/B,GAEbV,EAAS,WAAAgB,IAAI,QAAQC,MAAOP,EAAOO,MAAOb,MAAOM,EAAOQ,YAAc,QAAU,OAChFlB,EAAK,OAAAI,MAAM,eACPJ,EAAK,UAAAU,EAAOS,MACXT,EAAOQ,YAAclB,EAAI,SAAAU,EAAOQ,aAAmB,MAExDlB,EAAA,OAAKI,MAAM,WACT,IAGTX,EAAKE,SAGVK,EAAK,OAAAI,MAAM,aACNgB,EAAA3B,EAAKS,oBAAgB,MAAAkB,SAAA,SAAAA,EAAEC,cACpBrB,EAAW,aAAAsB,MAAK,KAACC,OAAM,KAACJ,KAAK,sBAAsBL,QAAS,WAAI,OAAArB,EAAKsB,aAAatB,EAAKG,OAAQ,KAA/B,IAClE,OAED4B,EAAA/B,EAAKkB,2BAAuB,MAAAa,SAAA,SAAAA,EAAEC,QAAS,EACpCzB,EAAA,aAAWsB,MAAK,KAACH,KAAK,YAAYL,QAAS,WAAI,OAAArB,EAAKiC,cAAL,IACjD,M,EAIVhC,KAAAiC,cAAgB,SAACC,GAAyB,OACtC5B,EAAoC,yCACpCA,EAAsG,4GACtGA,EAAK,OAAAI,MAAM,WACNwB,IAAM,MAANA,SAAM,SAANA,EAAQnB,KAAI,SAACoB,G,UAAa,QAAA5B,EAAAR,EAAKqC,gBAAgBD,EAAShB,OAAG,MAAAZ,SAAA,SAAAA,EAAEW,SAAS,OAAQ,KAC3EZ,EAAA,WAAM6B,EAASV,KAAI,MACfX,GAAAH,EAAAZ,EAAKqC,gBAAgBD,EAAShB,OAAG,MAAAR,SAAA,SAAAA,EAAEI,KAAI,SAAAI,GAAE,IAAAZ,EAAAI,EACrC,OAAAA,GAAAJ,EAAA4B,EAAS/B,WAAO,MAAAG,SAAA,SAAAA,EAAE8B,MAAK,SAAArB,GAAU,OAAAA,EAAOG,IAAMA,CAAb,OAAgB,MAAAR,SAAA,SAAAA,EAAEc,IAAI,OAC1D,MAAAX,SAAA,SAAAA,EAAEC,KAAI,SAAAU,GAAQ,OAAAnB,EAAA,WAAMmB,EAAN,I,IAGvBnB,EAAA,aAAWmB,KAAK,sBAAsBa,KAAK,SAASlB,QAAS,WAAI,OAAArB,EAAKwC,OAAL,KAX/B,CAc7C,CArPG1C,EAAA2C,UAAAC,kBAAA,WACI,IAAMC,EAAmBC,SAASC,eAAe5C,KAAK6C,WAC5D,IAAMA,EAAYC,KAAKC,MAAML,EAAiBM,WAExCC,OAAOC,KAAKL,GAAW9B,KAAI,SAAAoC,GAChC3D,EAAM4D,IAAID,EAAwBN,EAAUM,GAC7C,IAEMnD,KAAKqD,a,EAGTxD,EAAA2C,UAAAc,gBAAA,W,QACI,OAAO3C,GAAAJ,EAAAf,EAAM+D,IAAI,aAAS,MAAAhD,SAAA,SAAAA,EAAG,MAAE,MAAAI,SAAA,SAAAA,EAAEQ,E,EAGrCtB,EAAA2C,UAAAa,YAAA,WACIrD,KAAKE,OAASF,KAAKsD,iB,EAGvBzD,EAAA2C,UAAAR,aAAA,WACIhC,KAAKwD,uBAAuB,E,EAGhC3D,EAAA2C,UAAAiB,iBAAA,WACIzD,KAAKwD,wBAAuB,E,EAGhC3D,EAAA2C,UAAAgB,uBAAA,SAAuBE,G,MACnB,IAAMvB,GAAW5B,EAAAf,EAAM+D,IAAI,aAAS,MAAAhD,SAAA,SAAAA,EAAGP,KAAK2D,cAAgBD,GAC5D1D,KAAK4D,eAAezB,IAAQ,MAARA,SAAQ,SAARA,EAAUhB,G,EAGlCtB,EAAA2C,UAAAmB,YAAA,WACI,OAAO3D,KAAK6D,MAAM7D,KAAKE,O,EAG3BL,EAAA2C,UAAAqB,MAAA,SAAM1B,G,MACF,OAAO5B,EAAAf,EAAM+D,IAAI,aAAS,MAAAhD,SAAA,SAAAA,EAAEuD,WAAU,SAAAC,GAAQ,OAAAA,EAAK5C,IAAMgB,CAAX,G,EAGlDtC,EAAA2C,UAAAhC,eAAA,WACI,OAAOR,KAAKmC,SAASnC,KAAKE,O,EAG9BL,EAAA2C,UAAAL,SAAA,SAASA,G,MACL,OAAO5B,EAAAf,EAAM+D,IAAI,aAAS,MAAAhD,SAAA,SAAAA,EAAE8B,MAAK,SAAA0B,GAAQ,OAAAA,EAAK5C,IAAMgB,CAAX,G,EAG7CtC,EAAA2C,UAAAvB,sBAAA,WACI,OAAOjB,KAAKoC,gBAAgBpC,KAAKE,O,EAGrCL,EAAA2C,UAAAJ,gBAAA,SAAgBD,G,MACZ,OAAO5B,EAAAP,KAAKI,QAAQiC,MAAK,SAAA0B,GAAQ,OAAAA,EAAK5B,UAAYA,CAAjB,OAA0B,MAAA5B,SAAA,SAAAA,EAAEH,O,EAGjEP,EAAA2C,UAAAnB,aAAA,SAAac,EAAkBnB,G,QAC3B,IAAIZ,EAAUJ,KAAKI,QACnB,IAAMe,GAAKZ,EAAAS,IAAM,MAANA,SAAM,SAANA,EAAQG,MAAE,MAAAZ,SAAA,EAAAA,EAAI,KACzB,IAAMK,GAAWD,EAAAX,KAAKmC,SAASA,MAAS,MAAAxB,SAAA,SAAAA,EAAEC,SAE1C,IAAMoD,EAAUhE,KAAKI,QAAQiC,MAAK,SAAA0B,GAAQ,OAAAA,EAAK5B,UAAYA,CAAjB,IAE1C,GAAG6B,EAAS,CACR,GAAGpD,EAAU,CACT,IAAMqD,EAAMD,EAAQ5D,QAAQ8D,QAAQ/C,GACpC,GAAG8C,IAAO,EAAID,EAAQ5D,QAAQ+D,OAAOF,EAAK,QACrCD,EAAQ5D,QAAQgE,KAAKjD,E,MAEzB6C,EAAQ5D,QAAU,CAACe,E,KAGvB,CACDnB,KAAKI,QAAQgE,KAAK,CACdjC,SAAUA,EACV/B,QAAS,CAACe,I,CAIlBnB,KAAKI,QAAOiE,cAAA,GAAOjE,EAAO,MAC1B,GAAGY,GAAU,KAAMhB,KAAKgC,c,EAG5BnC,EAAA2C,UAAAoB,eAAA,SAAezB,GACX,IAAMmC,EAAgBtE,KAAK2D,cAC3B,IAAME,EAAQ7D,KAAK6D,MAAM1B,GAEzB,GAAG0B,IAAS,EACR7D,KAAKG,QAAU,SAEd,CACD,GAAGH,KAAKI,QAAQ2B,OAAS8B,EACrB7D,KAAKI,QAAOiE,cAAA,GAAOrE,KAAKI,QAAQmE,MAAM,EAAGV,GAAM,MAEnD7D,KAAKE,OAASiC,EACdnC,KAAKG,QAAU,K,CAGnB,GAAGH,KAAKE,QAAUF,KAAKsD,kBACnBtD,KAAKyC,yBAEJzC,KAAKwE,eAAeF,GAEzBtE,KAAKyE,Q,EAGT5E,EAAA2C,UAAAiC,OAAA,W,MACI,IAAMvC,EAASlC,KAAK0E,KAAKC,cAAc,WACvC,IAAMC,GAAWrE,EAAA2B,EAAOyC,cAAc,kBAAc,MAAApE,SAAA,SAAAA,EAAEsE,wBAEtD,IAAMC,EAAUF,EAASG,KAAO,GAC5BH,EAASI,MAAQ,GACjBJ,EAASK,SAAWC,OAAOC,aAAexC,SAASyC,gBAAgBC,eACnET,EAASU,QAAUJ,OAAOK,YAAc5C,SAASyC,gBAAgBI,aAErE,IAAIV,EAASW,YAAW,W,MACpB,IAAMC,IAAInF,EAAA2B,IAAM,MAANA,SAAM,SAANA,EAAQ2C,2BAAuB,MAAAtE,SAAA,SAAAA,EAAEwE,KAAMG,OAAOS,QACxDT,OAAOT,OAAO,CAACM,IAAKW,EAAGE,SAAU,U,GAClC,I,EAGP/F,EAAA2C,UAAAD,MAAA,WACIvC,KAAKG,QAAU,MACfH,KAAKqD,cACLrD,KAAKI,QAAU,GACfJ,KAAKyC,mB,EAGH5C,EAAA2C,UAAAgC,eAAN,SAAqBF,G,4HACjBtE,KAAKC,QAAU,KAEF,SAAM4F,EAAUrG,EAAM+D,IAAI,OAAQ,CAC3CnD,QAAWJ,KAAKI,W,OADd0F,EAAOnF,EAAAoF,OAGK,SAAMD,IAAI,MAAJA,SAAI,SAAJA,EAAME,Q,OAAxBnD,EAAYlC,EAAAoF,OAElB,GAAGlD,EAAW,CACVrD,EAAM4D,IAAI,SAAUP,IAAS,MAATA,SAAS,SAATA,EAAWX,QAC/B1C,EAAM4D,IAAI,WAAYP,IAAS,MAATA,SAAS,SAATA,EAAWoD,S,CAGrCjG,KAAKC,QAAU,MAEf,IAAID,KAAKQ,iBAAkB,CACjB2B,GAAW5B,EAAAf,EAAM+D,IAAI,aAAS,MAAAhD,SAAA,SAAAA,EAAG+D,EAAc,GAErD,GAAGnC,EAAUnC,KAAKE,OAASiC,EAAShB,QAC/BnB,KAAKG,QAAU,I,mBAI/BN,EAAA2C,UAAA0D,OAAA,eAAAnG,EAAAC,KACO,IAAMkC,EAAS1C,EAAM+D,IAAI,UACzB,IAAM0C,EAAWzG,EAAM+D,IAAI,YAEjC,OAAOjD,EAAA,gBAAA6C,IAAA,2CAAcgD,SAAUnG,KAAKmG,SAAUC,WAAYpG,KAAKoG,WAAYC,kBAAmBrG,KAAKqG,mBACzF/F,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,WACPJ,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,QACPJ,EAAA,MAAA6C,IAAA,4CAAK3D,EAAM+D,IAAI,YACfjD,EAAA,KAAA6C,IAAA,4CAAI3D,EAAM+D,IAAI,iBAGlBjD,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,UACPJ,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,cACPJ,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,eACNwB,EAAOqC,MAAM,EAAG+B,KAAKC,IAAIvG,KAAKI,QAAQ2B,OAAQ/B,KAAK2D,gBAAgB5C,KAAI,SAAAoB,GACpE,OAAA7B,EAAA,OAAKc,QAAS,WAAI,OAAArB,EAAK6D,eAAezB,EAAShB,GAA7B,GAAmCgB,IAAQ,MAARA,SAAQ,SAARA,EAAUV,KAA/D,KAGRnB,EAAA,OAAA6C,IAAA,2CAAKzC,MAAM,OAAOU,QAAS,WAAI,OAAArB,EAAK0D,kBAAL,GAC3BnD,EAAA,WAAA6C,IAAA,2CAAS1B,KAAK,kBAElBnB,EAAA,OAAA6C,IAAA,4CAAMnD,KAAKG,QAAU+B,EAAOH,OAAS/B,KAAK2D,cAAc,EAAC,MAAKzB,EAAOH,SAGxE/B,KAAKG,QAAUH,KAAKiC,cAAcC,GAAUlC,KAAKK,iBAGrD4F,IAAYA,IAAQ,MAARA,SAAQ,SAARA,EAAUlE,QAAS,IAAM/B,KAAK2D,cAAgB,GAAK3D,KAAKG,SACjEG,EAAK,OAAAI,MAAM,YACNuF,IAAQ,MAARA,SAAQ,SAARA,EAAUlF,KAAI,SAACyF,EAAS3C,GAAK,IAAAtD,EAC1B,OAAAD,EAAK,OAAAI,MAAM,UAAUyC,IAAKqD,EAAQrF,IAC7B0C,GAAS,EAAIvD,EAAA,OAAKI,MAAM,QAAM,mBAAyB,KACxDJ,EAAiB,mBAAAmG,YAAW,KAACC,KAAI,KAACC,SAAS,KAAAH,QAASA,KACnDjG,EAAAiG,IAAO,MAAPA,SAAO,SAAPA,EAASI,cAAU,MAAArG,SAAA,SAAAA,EAAEQ,KAAI,SAAAoB,GACtB,OAAA7B,EAAA,OAAKI,MAAM,aACPJ,EAAS,WAAAmB,KAAK,iBACbU,EAASA,SAAQ,KAAIA,EAAS0E,MAAMhG,KAAK,MAF9C,IAKF,KAGhB,KAEFP,EAAK,OAAA6C,IAAA,2CAAAzC,MAAM,OAAOsC,UAAW8D,EAAO/D,MAAMvD,EAAM+D,IAAI,0B,yHAhN9C,I","ignoreList":[]}