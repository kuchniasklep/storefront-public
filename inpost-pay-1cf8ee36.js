import{j as n}from"./fetch-bbb23998.js";import{c as t}from"./commonDynamic-5e51121d.js";function o(){const o=t.get("api").inpostFrontend;return n(`${o}/getbinding`,{}).then((n=>n.json()))}function i(n){window.iziCanBeBound(n).then((t=>t?window.iziAddToCart(n):null))}window.iziGetPayData=(o,i,e)=>{const r=t.get("api").inpostFrontend,c=window.iziGetBrowserData();return n(`${r}/getpaydata`,{browser:c,phonePrefix:o,phoneNumber:i,bindingPlace:e}).then((n=>n.json()))},window.iziGetIsBound=()=>{const o=t.get("api").inpostFrontend;return async function(n,t=10,o=200){const i=async(e,r,c)=>{if(c>t)return void r();const d=await n();d&&0!==Object.keys(d).length?e(d):setTimeout((()=>i(e,r,c+1)),o)};return new Promise(((n,t)=>i(n,t,1)))}((()=>n(`${o}/isbound`,{}).then((n=>n.json())).catch((()=>null))))},window.iziGetOrderComplete=()=>Promise.resolve({action:"string",redirect:"string"}),window.iziBindingDelete=()=>{const o=t.get("api").inpostFrontend;return n(`${o}/bindingdelete`,{}).then((n=>n.json()))},window.iziCanBeBound=o=>{const i=t.get("api").inpostFrontend;return n(`${i}/canbebound`,{product_id:o}).then((n=>n.json()))},window.iziAddToCart=o=>{const i=t.get("api").inpostFrontend;return n(`${i}/addtocart`,{product_id:o}).then((n=>n.json())).then((n=>function(n){console.log("InpostUpdateCount");const t=new CustomEvent("inpost-update-count",{detail:n});Array.from(document.getElementsByTagName("inpost-izi-button")).forEach((n=>n.dispatchEvent(t)))}(n.product_count)))},window.iziMobileLink=()=>{const o=t.get("api").inpostFrontend;return n(`${o}/mobilelink`,{}).then((n=>n.json()))};export{i as C,o as i}