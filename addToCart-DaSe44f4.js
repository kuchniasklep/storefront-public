import{c as o}from"./commonDynamic-uutiB2IM.js";import{F as a}from"./fetch-Cj4w559p.js";import{D as n}from"./dataLayer-BtunD6i_.js";async function s(s,c=1){const e=document.querySelector("ks-error-popup");const r=document.querySelector("ks-message-popup");const u=document.querySelector("ks-navbar");let m=new FormData;m.append("id",s.id);m.append("ilosc",s.quantity.toString());m.append("nazwa",s.name);m.append("value",s.currentPrice.toString());m.append("cechy",s.traitIDs);m.append("akcja","dodaj");m.append("miejsce",c.toString());const d=o.get("api").addToCart;return a(d,m).then((async o=>o.json())).then((async o=>{if(!o.status){if(o.productLink)r.show("Wymagany wybór cechy",o.message,"Przejdź do produktu",s.link);else r.show("Błąd dodawania produktu",o.message);return}u.IncrementCart(s.quantity.toString());t(s.id,s.name);n.addToCart(s,o.event)})).catch((o=>{e.show(o)}))}function t(o,a){const n=document.querySelector("ks-product-suggestions");n.show(o,a)}export{s as a};
//# sourceMappingURL=addToCart-DaSe44f4.js.map