{"version":3,"file":"ks-promotional-popup.entry.system.js","sources":["src/components/base/popups/promotional-popup.css?tag=ks-promotional-popup","src/components/base/popups/promotional-popup.tsx"],"sourcesContent":["ks-promotional-popup {\n    display: block;\n}\n\nks-promotional-popup .content {\n    width: 100%;\n}\n\nks-promotional-popup .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    position: relative;\n\n    height: 100%;\n    width: 100%;\n    max-width: 720px;\n\n    padding: 20px;\n    box-sizing: border-box;\n}\n\nks-promotional-popup .info ks-img2 {\n    max-height: 500px;\n}\n\nks-promotional-popup .texture {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}","import { Component, h, Prop, Element, Method } from '@stencil/core';\n\n@Component({\n  tag: 'ks-promotional-popup',\n  styleUrl: 'promotional-popup.css'\n})\nexport class PromotionalPopup{\n    @Element() root: HTMLElement;\n    dialog: HTMLKsDialogElement;\n\n    @Prop() name: string;\n    @Prop() href: string;\n    @Prop() image: string;\n    @Prop() color: string = \"#FFFFFF\";\n    @Prop() texture: string;\n    @Prop() textureOpacity: string = \"1.0\";\n    @Prop() textureSize: string = \"200\";\n\n    @Prop() displayOnLoad: boolean = false;\n\n    componentDidLoad() {\n        this.dialog = this.root.querySelector(\"ks-dialog\");\n        const cookieName = this.name + \"Popup\";\n        \n        if(this.displayOnLoad && document.cookie.search(`${cookieName}=tak`) == -1) {\n            setTimeout(() => {\n                this.Show();\n            }, 4000);\n        }\n    }\n\n    @Method()\n    async Show() {\n        this.dialog.show();\n    }\n\n    SetCookie() {\n        const cookieName = this.name + \"Popup\";\n\n        var expiration = \"\";\n        var expirationDate = new Date();\n        expirationDate.setMonth(expirationDate.getMonth() + 1);\n        expiration = \"expires=\" + expirationDate.toUTCString() + \"; \";\n\n        document.cookie = `${cookieName}=tak; ` + expiration + \"path=/\";\n    }\n\n    \n\n  render() {\n    const bgstyle = {\n        backgroundColor: this.color\n    }\n\n    const texturestyle = {\n        backgroundImage: `url(\"${this.texture}\")`,\n        backgroundSize: `${this.textureSize}px ${this.textureSize}px`,\n        opacity: this.textureOpacity\n    }\n\n    return [\n        <ks-dialog smallmobile dark nopadding onClosed={()=>this.SetCookie()}>\n            <a href={this.href} class=\"info\" style={bgstyle}>\n                <div class=\"texture\" style={texturestyle}></div>\n                <ks-img2 src={this.image} />\n            </a>\n        </ks-dialog>\n    ];\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;YAAA,MAAM,mBAAmB,GAAG,keAAke;;kBCMjf,gBAAgB,mCAAA,MAAA;YAJ7B,IAAA,WAAA,CAAA,OAAA,EAAA;;YAWY,QAAA,IAAK,CAAA,KAAA,GAAW,SAAS;YAEzB,QAAA,IAAc,CAAA,cAAA,GAAW,KAAK;YAC9B,QAAA,IAAW,CAAA,WAAA,GAAW,KAAK;YAE3B,QAAA,IAAa,CAAA,aAAA,GAAY,KAAK;YAmDzC;gBAjDG,gBAAgB,GAAA;oBACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAClD,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,GAAG,OAAO;YAEtC,QAAA,IAAG,IAAI,CAAC,aAAa,IAAI,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA,EAAG,UAAU,CAAM,IAAA,CAAA,CAAC,IAAI,EAAE,EAAE;wBACxE,UAAU,CAAC,MAAK;4BACZ,IAAI,CAAC,IAAI,EAAE;yBACd,EAAE,IAAI,CAAC;;;YAKhB,IAAA,MAAM,IAAI,GAAA;YACN,QAAA,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;;gBAGtB,SAAS,GAAA;YACL,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,GAAG,OAAO;oBAEtC,IAAI,UAAU,GAAG,EAAE;YACnB,QAAA,IAAI,cAAc,GAAG,IAAI,IAAI,EAAE;oBAC/B,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;oBACtD,UAAU,GAAG,UAAU,GAAG,cAAc,CAAC,WAAW,EAAE,GAAG,IAAI;oBAE7D,QAAQ,CAAC,MAAM,GAAG,CAAG,EAAA,UAAU,QAAQ,GAAG,UAAU,GAAG,QAAQ;;gBAKrE,MAAM,GAAA;YACJ,QAAA,MAAM,OAAO,GAAG;wBACZ,eAAe,EAAE,IAAI,CAAC;qBACzB;YAED,QAAA,MAAM,YAAY,GAAG;YACjB,YAAA,eAAe,EAAE,CAAA,KAAA,EAAQ,IAAI,CAAC,OAAO,CAAI,EAAA,CAAA;wBACzC,cAAc,EAAE,GAAG,IAAI,CAAC,WAAW,CAAM,GAAA,EAAA,IAAI,CAAC,WAAW,CAAI,EAAA,CAAA;wBAC7D,OAAO,EAAE,IAAI,CAAC;qBACjB;oBAED,OAAO;YACH,YAAA,CAAA,CAAA,WAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAW,WAAW,EAAA,IAAA,EAAC,IAAI,EAAA,IAAA,EAAC,SAAS,EAAC,IAAA,EAAA,QAAQ,EAAE,MAAI,IAAI,CAAC,SAAS,EAAE,EAAA,EAChE,CAAA,CAAA,GAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAG,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,MAAM,EAAC,KAAK,EAAE,OAAO,EAAA,EAC3C,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAC,SAAS,EAAC,KAAK,EAAE,YAAY,EAAQ,CAAA,EAChD,CAAA,CAAA,SAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAS,GAAG,EAAE,IAAI,CAAC,KAAK,EAAA,CAAI,CAC5B;qBAEX;;;;;;;;;;;;"}