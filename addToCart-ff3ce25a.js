import{c as o}from"./commonDynamic-3e6c308f.js";import{F as a}from"./fetch-13200e62.js";import{D as c}from"./dataLayer-d75ea728.js";async function s(s,n=1){const t=document.querySelector("ks-error-popup");const r=document.querySelector("ks-message-popup");const d=document.querySelector("ks-navbar");let m=new FormData;m.append("id",s.id);m.append("ilosc",s.quantity.toString());m.append("nazwa",s.name);m.append("value",s.currentPrice.toString());m.append("cechy",s.traitIDs);m.append("akcja","dodaj");m.append("miejsce",n.toString());const u=o.get("api").addToCart;return a(u,m).then((async o=>o.json())).then((async o=>{if(!o.status){if(o.productLink)r.show("Wymagany wybór cechy",o.message,"Przejdź do produktu",s.link);else r.show("Błąd dodawania produktu",o.message);return}d.IncrementCart(s.quantity.toString());e(s.id,s.name);c.addToCart(s,o.event)})).catch((o=>{t.show(o)}))}function e(o,a){const c=document.querySelector("ks-product-suggestions");c.show(o,a)}export{s as a};
//# sourceMappingURL=addToCart-ff3ce25a.js.map