{"version":3,"names":["promotionalPopupCss","PromotionalPopup","exports","class_1","hostRef","this","color","textureOpacity","textureSize","displayOnLoad","prototype","componentDidLoad","_this","dialog","root","querySelector","cookieName","name","document","cookie","search","concat","setTimeout","Show","show","SetCookie","expiration","expirationDate","Date","setMonth","getMonth","toUTCString","render","bgstyle","backgroundColor","texturestyle","backgroundImage","texture","backgroundSize","opacity","h","key","smallmobile","dark","nopadding","onClosed","href","class","style","src","image"],"sources":["src/components/base/popups/promotional-popup.css?tag=ks-promotional-popup","src/components/base/popups/promotional-popup.tsx"],"sourcesContent":["ks-promotional-popup {\n    display: block;\n}\n\nks-promotional-popup .content {\n    width: 100%;\n}\n\nks-promotional-popup .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    position: relative;\n\n    height: 100%;\n    width: 100%;\n    max-width: 720px;\n\n    padding: 20px;\n    box-sizing: border-box;\n}\n\nks-promotional-popup .info ks-img2 {\n    max-height: 500px;\n}\n\nks-promotional-popup .texture {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}","import { Component, h, Prop, Element, Method } from '@stencil/core';\n\n@Component({\n  tag: 'ks-promotional-popup',\n  styleUrl: 'promotional-popup.css'\n})\nexport class PromotionalPopup{\n    @Element() root: HTMLElement;\n    dialog: HTMLKsDialogElement;\n\n    @Prop() name: string;\n    @Prop() href: string;\n    @Prop() image: string;\n    @Prop() color: string = \"#FFFFFF\";\n    @Prop() texture: string;\n    @Prop() textureOpacity: string = \"1.0\";\n    @Prop() textureSize: string = \"200\";\n\n    @Prop() displayOnLoad: boolean = false;\n\n    componentDidLoad() {\n        this.dialog = this.root.querySelector(\"ks-dialog\");\n        const cookieName = this.name + \"Popup\";\n        \n        if(this.displayOnLoad && document.cookie.search(`${cookieName}=tak`) == -1) {\n            setTimeout(() => {\n                this.Show();\n            }, 4000);\n        }\n    }\n\n    @Method()\n    async Show() {\n        this.dialog.show();\n    }\n\n    SetCookie() {\n        const cookieName = this.name + \"Popup\";\n\n        var expiration = \"\";\n        var expirationDate = new Date();\n        expirationDate.setMonth(expirationDate.getMonth() + 1);\n        expiration = \"expires=\" + expirationDate.toUTCString() + \"; \";\n\n        document.cookie = `${cookieName}=tak; ` + expiration + \"path=/\";\n    }\n\n    \n\n  render() {\n    const bgstyle = {\n        backgroundColor: this.color\n    }\n\n    const texturestyle = {\n        backgroundImage: `url(\"${this.texture}\")`,\n        backgroundSize: `${this.textureSize}px ${this.textureSize}px`,\n        opacity: this.textureOpacity\n    }\n\n    return [\n        <ks-dialog smallmobile dark nopadding onClosed={()=>this.SetCookie()}>\n            <a href={this.href} class=\"info\" style={bgstyle}>\n                <div class=\"texture\" style={texturestyle}></div>\n                <ks-img2 src={this.image} />\n            </a>\n        </ks-dialog>\n    ];\n  }\n}\n"],"mappings":"omDAAA,IAAMA,EAAsB,me,ICMfC,EAAgBC,EAAA,kCAJ7B,SAAAC,EAAAC,G,UAWYC,KAAKC,MAAW,UAEhBD,KAAcE,eAAW,MACzBF,KAAWG,YAAW,MAEtBH,KAAaI,cAAY,KAmDpC,CAjDGN,EAAAO,UAAAC,iBAAA,eAAAC,EAAAP,KACIA,KAAKQ,OAASR,KAAKS,KAAKC,cAAc,aACtC,IAAMC,EAAaX,KAAKY,KAAO,QAE/B,GAAGZ,KAAKI,eAAiBS,SAASC,OAAOC,OAAO,GAAAC,OAAGL,EAAU,WAAW,EAAI,CACxEM,YAAW,WACPV,EAAKW,M,GACN,I,GAKLpB,EAAAO,UAAAa,KAAN,W,qFACIlB,KAAKQ,OAAOW,O,iBAGhBrB,EAAAO,UAAAe,UAAA,WACI,IAAMT,EAAaX,KAAKY,KAAO,QAE/B,IAAIS,EAAa,GACjB,IAAIC,EAAiB,IAAIC,KACzBD,EAAeE,SAASF,EAAeG,WAAa,GACpDJ,EAAa,WAAaC,EAAeI,cAAgB,KAEzDb,SAASC,OAAS,GAAAE,OAAGL,EAAU,UAAWU,EAAa,Q,EAK7DvB,EAAAO,UAAAsB,OAAA,eAAApB,EAAAP,KACE,IAAM4B,EAAU,CACZC,gBAAiB7B,KAAKC,OAG1B,IAAM6B,EAAe,CACjBC,gBAAiB,QAAAf,OAAQhB,KAAKgC,QAAO,MACrCC,eAAgB,GAAAjB,OAAGhB,KAAKG,YAAW,OAAAa,OAAMhB,KAAKG,YAAW,MACzD+B,QAASlC,KAAKE,gBAGlB,MAAO,CACHiC,EAAA,aAAAC,IAAA,2CAAWC,YAAW,KAACC,KAAI,KAACC,UAAU,KAAAC,SAAU,WAAI,OAAAjC,EAAKa,WAAL,GAChDe,EAAA,KAAAC,IAAA,2CAAGK,KAAMzC,KAAKyC,KAAMC,MAAM,OAAOC,MAAOf,GACpCO,EAAA,OAAAC,IAAA,2CAAKM,MAAM,UAAUC,MAAOb,IAC5BK,EAAA,WAAAC,IAAA,2CAASQ,IAAK5C,KAAK6C,U,yHA1DN,I","ignoreList":[]}