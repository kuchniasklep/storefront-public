{"version":3,"names":["promotionalPopupCss","PromotionalPopup","exports","class_1","prototype","componentDidLoad","_this","this","dialog","root","querySelector","cookieName","name","displayOnLoad","document","cookie","search","concat","setTimeout","Show","show","SetCookie","expiration","expirationDate","Date","setMonth","getMonth","toUTCString","render","bgstyle","backgroundColor","color","texturestyle","backgroundImage","texture","backgroundSize","textureSize","opacity","textureOpacity","h","smallmobile","dark","nopadding","onClosed","href","class","style","src","image"],"sources":["src/components/base/popups/promotional-popup.css?tag=ks-promotional-popup","src/components/base/popups/promotional-popup.tsx"],"sourcesContent":["ks-promotional-popup {\n    display: block;\n}\n\nks-promotional-popup .content {\n    width: 100%;\n}\n\nks-promotional-popup .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    position: relative;\n\n    height: 100%;\n    width: 100%;\n    max-width: 720px;\n\n    padding: 20px;\n    box-sizing: border-box;\n}\n\nks-promotional-popup .info ks-img2 {\n    max-height: 500px;\n}\n\nks-promotional-popup .texture {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}","import { Component, h, Prop, Element, Method } from '@stencil/core';\n\n@Component({\n  tag: 'ks-promotional-popup',\n  styleUrl: 'promotional-popup.css'\n})\nexport class PromotionalPopup{\n    @Element() root: HTMLElement;\n    dialog: HTMLKsDialogElement;\n\n    @Prop() name: string;\n    @Prop() href: string;\n    @Prop() image: string;\n    @Prop() color: string = \"#FFFFFF\";\n    @Prop() texture: string;\n    @Prop() textureOpacity: string = \"1.0\";\n    @Prop() textureSize: string = \"200\";\n\n    @Prop() displayOnLoad: boolean = false;\n\n    componentDidLoad() {\n        this.dialog = this.root.querySelector(\"ks-dialog\");\n        const cookieName = this.name + \"Popup\";\n        \n        if(this.displayOnLoad && document.cookie.search(`${cookieName}=tak`) == -1) {\n            setTimeout(() => {\n                this.Show();\n            }, 4000);\n        }\n    }\n\n    @Method()\n    async Show() {\n        this.dialog.show();\n    }\n\n    SetCookie() {\n        const cookieName = this.name + \"Popup\";\n\n        var expiration = \"\";\n        var expirationDate = new Date();\n        expirationDate.setMonth(expirationDate.getMonth() + 1);\n        expiration = \"expires=\" + expirationDate.toUTCString() + \"; \";\n\n        document.cookie = `${cookieName}=tak; ` + expiration + \"path=/\";\n    }\n\n    \n\n  render() {\n    const bgstyle = {\n        backgroundColor: this.color\n    }\n\n    const texturestyle = {\n        backgroundImage: `url(\"${this.texture}\")`,\n        backgroundSize: `${this.textureSize}px ${this.textureSize}px`,\n        opacity: this.textureOpacity\n    }\n\n    return [\n        <ks-dialog smallmobile dark nopadding onClosed={()=>this.SetCookie()}>\n            <a href={this.href} class=\"info\" style={bgstyle}>\n                <div class=\"texture\" style={texturestyle}></div>\n                <ks-img2 src={this.image} />\n            </a>\n        </ks-dialog>\n    ];\n  }\n}\n"],"mappings":"omDAAA,IAAMA,EAAsB,me,ICMfC,EAAgBC,EAAA,kC,gGAOD,U,2CAES,M,iBACH,M,mBAEG,K,CAEjCC,EAAAC,UAAAC,iBAAA,eAAAC,EAAAC,KACIA,KAAKC,OAASD,KAAKE,KAAKC,cAAc,aACtC,IAAMC,EAAaJ,KAAKK,KAAO,QAE/B,GAAGL,KAAKM,eAAiBC,SAASC,OAAOC,OAAO,GAAAC,OAAGN,EAAU,WAAY,EAAG,CACxEO,YAAW,WACPZ,EAAKa,M,GACN,I,GAKLhB,EAAAC,UAAAe,KAAN,W,qFACIZ,KAAKC,OAAOY,O,iBAGhBjB,EAAAC,UAAAiB,UAAA,WACI,IAAMV,EAAaJ,KAAKK,KAAO,QAE/B,IAAIU,EAAa,GACjB,IAAIC,EAAiB,IAAIC,KACzBD,EAAeE,SAASF,EAAeG,WAAa,GACpDJ,EAAa,WAAaC,EAAeI,cAAgB,KAEzDb,SAASC,OAAS,GAAAE,OAAGN,EAAU,UAAWW,EAAa,Q,EAK7DnB,EAAAC,UAAAwB,OAAA,eAAAtB,EAAAC,KACE,IAAMsB,EAAU,CACZC,gBAAiBvB,KAAKwB,OAG1B,IAAMC,EAAe,CACjBC,gBAAiB,QAAAhB,OAAQV,KAAK2B,QAAO,MACrCC,eAAgB,GAAAlB,OAAGV,KAAK6B,YAAW,OAAAnB,OAAMV,KAAK6B,YAAW,MACzDC,QAAS9B,KAAK+B,gBAGlB,MAAO,CACHC,EAAA,aAAWC,YAAW,KAACC,KAAI,KAACC,UAAS,KAACC,SAAU,WAAI,OAAArC,EAAKe,WAAL,GAChDkB,EAAA,KAAGK,KAAMrC,KAAKqC,KAAMC,MAAM,OAAOC,MAAOjB,GACpCU,EAAA,OAAKM,MAAM,UAAUC,MAAOd,IAC5BO,EAAA,WAASQ,IAAKxC,KAAKyC,U,yHA1DN,I"}