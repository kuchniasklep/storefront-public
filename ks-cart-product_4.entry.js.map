{"version":3,"names":["cartProductCss","CartProduct","onRemoveHandler","this","loading","removeProduct","emit","productId","onCountHandler","detail","productCount","current","last","async","resizeHandler","mobile","window","innerWidth","componentWillLoad","render","price","priceFormat","inlineBlockOnMobile","display","removable","shippingTime","h","class","href","link","center","src","img","width","height","alt","innerHTML","name","style","onChanged","e","amount","max","maxAmount","countUnit","type","onClick","CartProductHeading","componentDidLoad","root","fontSize","productTableNames","productTablePrices","productTableCount","productTableRemove","cartProductPriceCss","CartProductPrice","LoadingWatcher","loadingTimeout","setTimeout","loadingDelayed","clearTimeout","productTableTotal","editLink","backToCart","cartSpinnerCss","CartSpinner","value","initialValue","Increment","onChangedHandler","Decrement","Change","input","target","parsed","parseInt","isNaN","toString","changed","maxlength","onChange"],"sources":["src/components/cart/product/cartProduct.css?tag=ks-cart-product","src/components/cart/product/cartProduct.tsx","src/components/cart/product/cartProductHeading.tsx","src/components/cart/product/cartProductPrice.css?tag=ks-cart-product-price","src/components/cart/product/cartProductPrice.tsx","src/components/cart/product/cartSpinner.css?tag=ks-cart-spinner","src/components/cart/product/cartSpinner.tsx"],"sourcesContent":["ks-cart-product {\n    display: block;\n}\n\nks-cart-product > div {\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n}\n\nks-cart-product .description {\n    flex: 1;\n}\n\nks-cart-product .description a {\n    color: inherit !important;\n    text-decoration: none !important;\n}\n\nks-cart-product .numbers {\n    font-weight: 700;\n}\n\nks-cart-product .price {\n    text-align: center;\n    width: 100px;\n}\n\nks-cart-product .amount {\n    text-align: center;\n    width: 120px;\n    margin-left: 15px;\n}\n\nks-cart-product .product-image {\n    width: 150px;\n    height: 150px;\n    max-width: 150px;\n    max-height: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\nks-cart-product[small] .product-image {\n    width: 90px;\n    height: 90px;\n    max-width: 90px;\n    max-height: 90px;\n}\n\n\n@media only screen and (max-width: 959px) {\n    ks-cart-product .price {\n        text-align: initial;\n        width: initial;\n\n        color: #e21334;\n    }\n    \n    ks-cart-product .shipping {\n        margin-left: 10px;\n    }\n\n    ks-cart-product .amount {\n        text-align: initial;\n        width: initial;\n        margin-left: 0px;\n    }\n\n    ks-cart-product ks-cart-spinner {\n        margin-top: 10px;\n    }\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-product > div {\n        flex-direction: column;\n        position: relative;\n    }\n\n    ks-cart-product .description {\n        text-align: center;\n    }\n\n    ks-cart-product .shipping {\n        display: block;\n        font-size: 16px;\n        margin-bottom: 5px;\n        margin-left: 0px;\n        margin-top: -3px;\n    }\n\n    ks-cart-product .numbers {\n        margin-top: 7px;\n    }\n\n    ks-cart-product .amount {\n        text-align: center;\n    }\n\n    ks-cart-product[small] .amount {\n        font-size: 16px;\n    }\n\n    ks-cart-product[small] .shipping {\n        margin-bottom: 0px;\n    }\n}\n","import { Component, h, Prop, State, Listen, Event, EventEmitter, Method } from '@stencil/core';\nimport priceFormat from '../../../global/functions/price';\n\n@Component({\n  tag: 'ks-cart-product',\n  styleUrl: 'cartProduct.css'\n})\nexport class CartProduct {\n  @Prop({reflect: true}) productId: string;\n  @Prop() name: string;\n  @Prop() img: string;\n  @Prop() link: string;\n  @Prop({reflect: true}) small: boolean;\n  @Prop() price: number;\n  @Prop() shippingTime: string = \"\";\n  @Prop() countUnit: string = \"\";\n\n  @Prop({reflect: true}) amount: number = 1;\n  @Prop() maxAmount: number;\n\n  @Prop() removable: boolean = false;\n  @State() loading: boolean = false;\n\n\n  @Event() removeProduct: EventEmitter<string>;\n  onRemoveHandler() {\n    this.loading = true;\n    this.removeProduct.emit(this.productId);\n  }\n\n  @Event() productCount: EventEmitter<[id: string, count: number, last: number]>;\n  onCountHandler(detail: any) {\n    this.productCount.emit([this.productId, detail.current, detail.last]);\n  }\n\n  @Method() async ResetLoading() {\n      this.loading = false;\n  }\n\n  @State() mobile: number = 0;\n\n  @Listen('resize', { target: 'window' })\n  resizeHandler() {\n    this.mobile = \n        window.innerWidth < 959 ? \n            window.innerWidth < 640 ? \n            2 : 1\n        : 0;\n  }\n\n  componentWillLoad() {\n      this.resizeHandler();\n  }\n\n  render() {\n    const price = priceFormat(this.price);\n    const inlineBlockOnMobile = {display: this.removable || this.shippingTime ? \"block\" : \"inline-block\"};\n\n    return[\n        <div class=\"ks-text-decorated\" uk-grid>\n            <a class=\"product-image\" href={this.link}>\n                <ks-img2 center src={this.img} width={150} height={150} alt=\"zdjęcie produktu\" />\n            </a>\n\n            <div class=\"description\">\n                <a href={this.link} innerHTML={this.name}></a>\n\n                {this.mobile >= 1 ?\n                    <div class=\"numbers\">\n                        <div style={inlineBlockOnMobile}>\n                            <span class=\"price\">{price}</span>\n                            <span class=\"shipping\">{this.shippingTime}</span>\n                        </div>\n\n                        <div style={inlineBlockOnMobile}>\n                            {this.removable ?\n                                <ks-cart-spinner onChanged={(e)=>this.onCountHandler(e.detail)} initial-value={this.amount} max={this.maxAmount} /> :\n                                <div class=\"amount\">{this.amount} {this.countUnit}</div>\n                            }\n                        </div>\n                    </div>\n                : this.shippingTime != \"\" ? \n                    <div class=\"numbers\">{this.shippingTime}</div>\n                : null}\n            </div>\n            \n\n            {this.mobile == 0 ? [\n                <div class=\"price\">{price}</div>,\n                <div class=\"amount\">\n                    {this.removable ?\n                        <ks-cart-spinner onChanged={(e)=>this.onCountHandler(e.detail)} initial-value={this.amount} max={this.maxAmount} /> :\n                        <span>{this.amount} {this.countUnit}</span>\n                    }\n                </div>\n            ] : null}\n            \n\n            {this.removable ? \n                this.mobile == 2 ?\n                    this.loading ?\n                        <div uk-spinner class=\"uk-position-top-right uk-position-small\"></div> :\n                        <button type=\"button\" uk-close class=\"uk-close-large uk-position-top-right uk-position-small\" onClick={()=>this.onRemoveHandler()}></button>\n                :\n                    <nav style={{width: \"50px\"}} class=\"uk-text-center\">\n                        {this.loading ?\n                            <div uk-spinner></div> :\n                            <button type=\"button\" uk-close class=\"uk-close-large\" onClick={()=>this.onRemoveHandler()}></button>\n                        }\n                    </nav>\n            :null}\n        </div>,\n        <hr/>\n    ];\n  }\n}\n","import { Component, h, Element, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-product-heading'\n})\nexport class CartProductHeading {\n  @Prop() removable: boolean;\n  @Element() root: HTMLElement;\n  \n  @Prop() productTableNames: string = \"\";\n  @Prop() productTablePrices: string = \"\";\n  @Prop() productTableCount: string = \"\";\n  @Prop() productTableRemove: string = \"\";\n\n\n  componentDidLoad() { \n    this.root.style.display = \"block\";\n  }\n\n  render() {\n    return[\n        <div class=\"uk-flex uk-flex-middle ks-text-decorated\" uk-grid style={{fontSize: \"18px\"}}>\n            <div class=\"uk-width-expand uk-text-bold\" style={{fontSize: \"22px\"}}>{this.productTableNames}</div>\n\n            <div style={{width: \"100px\"}} class=\"uk-text-center uk-visible@m\">{this.productTablePrices}</div>\n            <div style={{width: \"100px\"}} class=\"uk-text-center uk-visible@m\">{this.productTableCount}</div>\n\n            {this.removable ? \n                <div style={{width: \"50px\"}} class=\"uk-text-center\">{this.productTableRemove}</div>\n            : null}\n        </div>,\n        <hr />        \n    ];\n  }\n}\n","ks-cart-product-price {\n    display: block;\n}\n\nks-cart-product-price > div {\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n    flex-wrap: wrap;\n}\n\nks-cart-product-price .sentence {\n    flex: 1;\n\n    font-size: 18px;\n    font-weight: 700;\n    text-align: center;\n}\n\nks-cart-product-price .price {\n    color: #e21334;\n}\n\nks-cart-product-price .shipping {\n    display: inline-block;\n    margin-left: 15px;\n}\n\nks-cart-product-price .edit {\n    box-sizing: border-box;\n    width: auto;\n    max-width: 100%;\n}\n\nks-cart-product-price .edit a {\n    padding: 3px 20px; \n}\n\n@media only screen and (min-width: 960px) {\n    ks-cart-product-price .sentence {\n        text-align: right;\n    }\n}\n\n@media only screen and (max-width: 959px) {\n    ks-cart-product-price .edit {\n        margin-top: 10px;\n        width: 100%;\n    }\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-product-price .shipping {\n        display: block;\n        margin-left: 0;\n        font-size: 16px;\n    }\n}","import { Component, h, Element, Prop, State, Watch } from '@stencil/core';\nimport priceFormat from '../../../global/functions/price';\n\n@Component({\n  tag: 'ks-cart-product-price',\n  styleUrl: 'cartProductPrice.css'\n})\nexport class CartProductPrice {\n\n  @Prop() price: number;\n  @Prop() amount: number;\n  @Prop() shippingTime: string = \"\";\n  @Prop() editLink: string = \"\";\n  @Prop() productTableTotal: string = \"\";\n  @Prop() backToCart: string = \"Wróć do koszyka\";\n\n  @Prop() loading: number = 0;\n  @State() loadingDelayed: boolean = false;\n  loadingTimeout: NodeJS.Timeout;\n  @Watch('loading') LoadingWatcher() {\n    if(this.loading) {\n      this.loadingTimeout = setTimeout(() => {\n        this.loadingDelayed = true;\n      }, 300);\n    }\n\n    else {\n      clearTimeout(this.loadingTimeout);\n      this.loadingDelayed = false;\n    }\n  }\n\n  @Element() root: HTMLElement;\n\n  componentDidLoad() { \n    this.root.style.display = \"block\";\n    this.LoadingWatcher();\n  }\n\n  \n\n  render() {\n    const price = priceFormat(this.price);\n\n    return[\n        <div>\n          <div class=\"sentence ks-text-decorated\">\n              {this.loadingDelayed && this.loading ? \n                <div class=\"uk-animation-fade\" uk-spinner=\"ratio: 0.7\"></div>: [\n\n                <span>{this.productTableTotal} <span class=\"price\">{price}</span></span>,\n                this.shippingTime != \"\" ? <span class=\"shipping\">{this.shippingTime}</span> : null\n              ]}\n          </div>\n\n          {this.editLink ?\n            <div class=\"edit\">\n              <a href={this.editLink} class=\"uk-button uk-button-default uk-width-1-1\">\n                {this.backToCart}\n              </a>\n            </div>\n          :null }\n        </div>,\n        <hr />\n    ];\n  }\n}\n","ks-cart-spinner {\n    display: inline-block;\n    text-align: center;\n}\n\nks-cart-spinner input {\n    width: 50px !important;\n    margin: 0 !important;\n    font-size: 14px !important;\n    text-align: center !important;\n}","import { Component, h, Prop, Event, EventEmitter, Method, State, Element } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-spinner',\n  styleUrl: 'cartSpinner.css'\n})\nexport class CartSpinner {\n  @Element() root: HTMLElement;\n\n  @Prop() name: string;\n  @Prop({ mutable: true, reflect: true }) initialValue: number = 1;\n  @Prop() max: number;\n\n  @State() value: number = 1;\n  componentWillLoad() {\n    this.value = this.initialValue;\n  }\n\n  Increment() {\n    const last = this.value;\n\n    if(typeof this.max === \"undefined\" || this.value < this.max) {\n      this.value += 1;\n\n      this.onChangedHandler(this.value, last);\n    }\n  }\n\n  Decrement() {\n    const last = this.value;\n\n    if(this.value > 1) {\n      this.value -= 1;\n\n      this.onChangedHandler(this.value, last);\n    }\n  }\n\n  Change(e: Event) {\n    const last = this.value;\n    const input = e.target as HTMLInputElement;\n\n    const parsed = parseInt(input.value);\n\n    if(!isNaN(parsed) && parsed > 0 && (typeof this.max === \"undefined\"  || parsed <= this.max))\n      this.value = parsed;\n\n    else if (parsed > this.max ) {\n      this.value = this.max;\n      input.value = this.max.toString();\n    }\n\n    else {\n      this.value = 1;\n      input.value = \"1\";\n    }\n\n    this.onChangedHandler(this.value, last);\n  }\n\n  timeout: number;\n\n  @Event() changed: EventEmitter;\n  onChangedHandler(current: number, last: number) {\n    this.changed.emit({current, last});\n  }\n\n  @Method() async SetAmount(amount: number) {\n    this.value = amount;\n  }\n\n  render() {\n    return(\n      this.max == 1 ? \n        <div>1 szt.</div> :\n        <div>\n            <button class=\"uk-button uk-button-muted\" onClick={()=>this.Decrement()}>-</button>\n            <input type=\"text\" maxlength=\"3\" value={this.value} name={this.name}\n                   onChange={(e)=>this.Change(e)}\n                   class=\"uk-input\"/>\n            <button class=\"uk-button uk-button-muted\" onClick={()=>this.Increment()}>+</button>\n        </div>\n    );\n  }\n}\n"],"mappings":"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"}