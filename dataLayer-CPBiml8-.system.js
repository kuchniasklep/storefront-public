var __assign=this&&this.__assign||function(){__assign=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(e,r,n,t){function o(e){return e instanceof n?e:new n((function(r){r(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{a(t.next(e))}catch(e){i(e)}}function u(e){try{a(t["throw"](e))}catch(e){i(e)}}function a(e){e.done?n(e.value):o(e.value).then(c,u)}a((t=t.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(e){return function(r){return a([e,r])}}function a(u){if(t)throw new TypeError("Generator is already executing.");while(c&&(c=0,u[0]&&(n=0)),n)try{if(t=1,o&&(i=u[0]&2?o["return"]:u[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;if(o=0,i)u=[u[0]&2,i.value];switch(u[0]){case 0:case 1:i=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;o=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1];i=u;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(u);break}if(i[2])n.ops.pop();n.trys.pop();continue}u=r.call(e,n)}catch(e){u=[6,e];o=0}finally{t=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};System.register(["./commonDynamic-QobDgwzl.system.js","./fetch-H5Atuhfj.system.js"],(function(e){"use strict";var r,n;return{setters:[function(e){r=e.c},function(e){n=e.j}],execute:function(){var t;e("D",t);(function(e){var t;var o=new Promise((function(e){t=function(){e()}}));function i(e){n("https://kuchniasklep.pl/api/fbconversion.php",e)}function c(){var e=r.get("customer");var n=r.get("loggedIn")&&e;return{customerDataAvailable:n,customerEmail:n?e.email:undefined,customerFirstName:n?e.firstName:undefined,customerLastName:n?e.lastName:undefined,customerSubscriberStatus:n?e.subscriber?1:undefined:undefined,customerCountryISO2:n?e.countryISO2:undefined,customerCity:n?e.city:undefined,customerPhone:n?e.phone:undefined,customerCurrency:n?e.currency:undefined}}function u(e){return __awaiter(this,void 0,void 0,(function(){var r;var n;return __generator(this,(function(o){e=crypto.randomUUID();r=__assign({event:"ks.pageview",facebookEventId:e},c());(n=window.dataLayer)===null||n===void 0?void 0:n.push(r);t();i(r);return[2]}))}))}e.pageview=u;function a(e){return __awaiter(this,arguments,void 0,(function(e,r){var n,t;var u,a;if(r===void 0){r=""}return __generator(this,(function(d){switch(d.label){case 0:return[4,o];case 1:d.sent();r=crypto.randomUUID();n=e.breadcrumbs;t=__assign(__assign({event:"ks.product",facebookEventId:r},c()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productImage:(e===null||e===void 0?void 0:e.images.length)>0?y(e.images[0].full.url):undefined,productURL:y(document.location.href),productSKU:e.model,productBrand:e.brand.name,productCategory:n[n.length-1].name,productAvailability:e.shippingTime,productQuantity:1,productCategories:e.categories,ecomm_prodid:e.id,ecomm_pagetype:"product",ecomm_totalvalue:e.currentPrice,ecommerce:{items:b([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,impressions:C([e])}}});(u=window.dataLayer)===null||u===void 0?void 0:u.push({ecommerce:null});(a=window.dataLayer)===null||a===void 0?void 0:a.push(t);i(t);return[2]}}))}))}e.product=a;function d(e){return __awaiter(this,void 0,void 0,(function(){var r;var n,t,i,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,o];case 1:a.sent();r=e.type=="category"?"category":e.type=="manufacturer"?"manufacturer":e.type=="search"?"search":null;if(!r)return[2];(n=window.dataLayer)===null||n===void 0?void 0:n.push({ecommerce:null});(t=window.dataLayer)===null||t===void 0?void 0:t.push(__assign(__assign({event:"ks.listing"},c()),{type:r,listingCategories:r=="category"?e.breadcrumbs.filter((function(e){return e.id!="0"})):undefined,listingProducts:e.products,ecommerce:{items:b(e.products)},uaecommerce:{ecommerce:{currencyCode:(u=(i=e.products)===null||i===void 0?void 0:i[0])===null||u===void 0?void 0:u.currency,impressions:C(e.products)}}}));return[2]}}))}))}e.listing=d;function s(e,r){return __awaiter(this,void 0,void 0,(function(){var n;var t,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,o];case 1:a.sent();r=crypto.randomUUID();n=__assign(__assign({event:"ks.addToCart",facebookEventId:r},c()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:y(e.imageFull),productURL:y(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:b([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,add:{products:C([e])}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(u=window.dataLayer)===null||u===void 0?void 0:u.push(n);i(n);return[2]}}))}))}e.addToCart=s;function v(e){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(t){switch(t.label){case 0:return[4,o];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(__assign(__assign({event:"ks.removeFromCart"},c()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:y(e.imageFull),productURL:y(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:b([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,remove:{products:C([e])}}}}));return[2]}}))}))}e.removeFromCart=v;function m(e){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(t){switch(t.label){case 0:return[4,o];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(__assign(__assign({event:"ks.addToFavourites"},c()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:y(e.imageFull),productURL:y(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:b([e]),value:e.currentPrice,currency:e.currency}}));return[2]}}))}))}e.addToFavourites=m;function l(e){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(t){switch(t.label){case 0:return[4,o];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(__assign(__assign({event:"ks.viewCart"},c()),{cartCurrency:e.currency,cartProductValue:e.productValue,cartValue:e.totalValue,cartProducts:e.products,ecomm_prodid:JSON.stringify(Object.values(e.products).map((function(e){return e.id}))),ecomm_pagetype:"cart",ecomm_totalvalue:e.productValue,ecommerce:{items:b(Object.values(e.products)),value:e.productValue,currency:e.currency},uaecommerce:{ecommerce:{checkout:{actionField:{step:1},currencyCode:e.currency,products:C(Object.values(e.products))}}}}));return[2]}}))}))}e.view_cart=l;function _(e,r){return __awaiter(this,void 0,void 0,(function(){var n;var t,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,o];case 1:a.sent();r=crypto.randomUUID();n=__assign(__assign({event:"ks.checkout",facebookEventId:r},c()),{orderProducts:e.products,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecommerce:{items:b(e.products)},uaecommerce:{ecommerce:{checkout:{actionField:{step:3},currencyCode:e.currency,products:C(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(u=window.dataLayer)===null||u===void 0?void 0:u.push(n);i(n);return[2]}}))}))}e.order_checkout=_;function f(e,r){return __awaiter(this,void 0,void 0,(function(){var n;var t,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,o];case 1:a.sent();r=crypto.randomUUID();n=__assign(__assign({event:"ks.orderForm",facebookEventId:r},c()),{orderProducts:e.products,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecommerce:{items:b(e.products)},uaecommerce:{ecommerce:{checkout:{actionField:{step:2},currencyCode:e.currency,products:C(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(u=window.dataLayer)===null||u===void 0?void 0:u.push(n);i(n);return[2]}}))}))}e.order_form=f;function p(e,r){return __awaiter(this,void 0,void 0,(function(){var n;var t,u;return __generator(this,(function(a){switch(a.label){case 0:return[4,o];case 1:a.sent();r=crypto.randomUUID();n=__assign(__assign({event:"ks.order",facebookEventId:r},c()),{orderProducts:e.products,orderId:e.id,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecomm_prodid:JSON.stringify(Object.values(e.products).map((function(e){return e.id}))),ecomm_pagetype:"purchase",ecomm_totalvalue:e.productValue,ecommerce:{transaction_id:e.id,value:e.totalValue,currency:e.currency,shipping:e.shippingValue,coupon:e.coupon,items:b(e.products)},uaecommerce:{ecommerce:{purchase:{currencyCode:e.currency,actionField:{id:e.id,revenue:e.totalValue,shipping:e.shippingValue,coupon:e.coupon},products:C(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(u=window.dataLayer)===null||u===void 0?void 0:u.push(n);i(n);return[2]}}))}))}e.order_placed=p;function w(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(n){switch(n.label){case 0:return[4,o];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(__assign({event:"ks.search",searchQuery:e},c()));return[2]}}))}))}e.search=w;function g(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(n){switch(n.label){case 0:return[4,o];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(__assign(__assign({event:"ks.subscribe"},c()),{subscriptionPlace:e.place,subscriptionEmail:e.email,subscriptionName:e===null||e===void 0?void 0:e.name,subscriptionStatus:e.subscriber?1:0}));return[2]}}))}))}e.subscribe=g;function h(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(n){switch(n.label){case 0:return[4,o];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(__assign(__assign({event:"ks.recipe"},c()),{recipeName:e.title,recipeCategory:e.category,recipeCuisine:e.cuisine}));return[2]}}))}))}e.recipe=h;function y(e){return e.includes("http")?e:document.baseURI+e}function b(e){return e.map((function(e,r){var n=e.breadcrumbs.filter((function(e){return e.name!="Strona główna"})).map((function(e){return e.name})).reverse();return{item_id:e.id,item_name:e.name,currency:e.currency,index:r,price:e.currentPrice,item_brand:e.brandName,item_category:n===null||n===void 0?void 0:n[0],item_category2:n===null||n===void 0?void 0:n[1],item_category3:n===null||n===void 0?void 0:n[2],item_category4:n===null||n===void 0?void 0:n[3],item_category5:n===null||n===void 0?void 0:n[4]}}))}function C(e){return e.map((function(e,r){var n=e.breadcrumbs.filter((function(e){return e.name!="Strona główna"})).map((function(e){return e.name}));return{name:e.name,id:e.id,price:e.currentPrice,brand:e.brandName,category:n.join("/"),position:r+1,quantity:e.quantity}}))}})(t||e("D",t={}))}}}));
//# sourceMappingURL=dataLayer-CPBiml8-.system.js.map