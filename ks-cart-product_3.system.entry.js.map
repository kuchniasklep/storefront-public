{"version":3,"names":["cartProductCss","CartProduct","exports","class_1","hostRef","this","shippingTime","countUnit","amount","removable","loading","prototype","onRemoveHandler","cartFunctions.removeProduct","productId","ResetLoading","render","_this","price","priceFormat","h","key","class","href","link","fit","image","img","width","height","alt","innerHTML","name","replace","concat","product","value","max","maxAmount","onClick","cartProductHeadingCss","CartProductHeading","class_2","productTableNames","productTablePrices","productTableCount","productTableRemove","cartSpinnerCss","CartSpinner","class_3","Increment","onChangedHandler","Decrement","Change","e","input","target","parsed","parseInt","isNaN","toString","cartFunctions.productCount","then","maxCount","setTimeout","root","querySelector","disabled","type","maxlength","onChange"],"sources":["src/components/cart/product/cartProduct.css?tag=ks-cart-product","src/components/cart/product/cartProduct.tsx","src/components/cart/product/cartProductHeading.css?tag=ks-cart-product-heading","src/components/cart/product/cartProductHeading.tsx","src/components/cart/product/cartSpinner.css?tag=ks-cart-spinner","src/components/cart/product/cartSpinner.tsx"],"sourcesContent":["ks-cart-product {\n    display: flex;\n    align-items: center;\n    font-size: 16px;\n\n    border-bottom: #ededed 1px solid;\n}\n\nks-cart-product:last-child {\n    border-bottom: none;\n}\n\nks-cart-product .description {\n    display: grid; \n\n    grid-template-columns: 1fr 110px 100px 50px; \n    grid-template-rows: auto auto; \n    gap: 0px 5px; \n    grid-template-areas: \n        \"name     price count remove\"\n        \"shipping price count remove\";\n\n    align-items: center;\n    justify-content: center;\n    line-height: normal;\n\n    flex: 1;\n    padding: 10px 0px;\n}\n\nks-cart-product:not([removable]) .description {\n    grid-template-columns: 1fr 110px 100px;\n    grid-template-areas: \n        \"name     price count\"\n        \"shipping price count\";\n}\n\nks-cart-product:not([removable]) .remove-container {\n    display: none;\n}\n\nks-cart-product .name {\n    grid-area: name;\n\n    color: inherit !important;\n    text-decoration: none !important;\n}\n\nks-cart-product .price {\n    grid-area: price;\n    font-family: var(--font-emphasis);\n    text-align: center;\n}\n\nks-cart-product .count {\n    grid-area: count;\n    text-align: center;\n}\n\nks-cart-product .remove-container {\n    grid-area: remove;\n}\n\nks-cart-product .shipping {\n    grid-area: shipping;\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n}\n\nks-cart-product .remove {\n    appearance: none;\n    background-color: transparent;\n    border: #d9d9d9 solid 1px;\n    border-radius: 50px;\n    width: 40px;\n    height: 40px;\n    margin: 5px;\n}\n\nks-cart-product .product-image {\n    width: 90px;\n    height: 90px;\n    max-width: 90px;\n    max-height: 90px;\n    padding: 15px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n\n@media only screen and (max-width: 860px) {\n    ks-cart-product .description {\n        grid-template-rows: auto auto; \n        grid-template-columns: auto auto 1fr; \n\n        gap: 5px 5px; \n        grid-template-areas: \n            \"name   name     name  remove\"\n            \"price  shipping count remove\";\n    }\n\n    ks-cart-product:not([removable]) .description {\n        grid-template-columns: auto auto 1fr;\n        gap: 5px 10px;\n        grid-template-areas: \n            \"name     name name\"\n            \"shipping price count\";\n    }\n\n    ks-cart-product:not([removable]) .count {\n        text-align: left !important;\n    }\n\n    ks-cart-product[removable] .count {\n        text-align: left !important;\n        margin-left: 10px;\n    }\n    \n    ks-cart-product .price {\n        text-align: center;\n        font-weight: 700;\n        color: #e21334;\n    }\n\n    ks-cart-product .name {\n        margin-bottom: -5px;\n    }\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-product:not([small]) {\n        flex-direction: column;\n        position: relative;\n    }\n\n    ks-cart-product:not([small]) .description {\n        grid-template-rows: auto auto auto auto auto; \n        grid-template-columns: auto auto; \n\n        gap: 8px; \n        grid-template-areas: \n            \"name   name\"\n            \"price  price\"\n            \"count  count\"\n            \"shipping shipping\"\n            \"remove remove\";\n\n        text-align: center;\n        justify-items: stretch;\n    }\n\n    ks-cart-product:not([small]):not([removable]) .description {\n        grid-template-rows: auto auto; \n        grid-template-columns: 1fr auto 1fr;\n\n        grid-template-areas: \n            \"name   name     name\"\n            \"price  shipping count\";\n    }\n\n    ks-cart-product[removable] .count {\n        text-align: center !important;\n        margin-left: 0px;\n    }\n\n    ks-cart-product:not([small]) .remove-container {\n        position: absolute;\n        text-align: right;\n        top: 5px;\n        right: 0px;\n    }\n\n    ks-cart-product:not([small]) .product-image {\n        width: 100%;\n        height: 100%;\n        max-width: 180px;\n        max-height: 180px;\n    }\n\n    ks-cart-product[small] {\n        font-size: 14px;\n    }\n}\n\n@media only screen and (max-width: 420px) {\n    ks-cart-product[small] .product-image {\n        max-width: 60px;\n        max-height: 60px;\n        padding: 10px 10px 10px 0px;\n    }\n}","import { Component, h, Prop, State, Method } from '@stencil/core';\nimport priceFormat from '../../../global/functions/price';\nimport * as cartFunctions from \"../../../global/functions/cart\";\n\n@Component({\n  tag: 'ks-cart-product',\n  styleUrl: 'cartProduct.css'\n})\nexport class CartProduct {\n  @Prop({reflect: true}) productId: string;\n  @Prop() name: string;\n  @Prop() img: string;\n  @Prop() link: string;\n  @Prop({reflect: true}) small: boolean;\n  @Prop() price: number;\n  @Prop() shippingTime: string = \"\";\n  @Prop() countUnit: string = \"\";\n\n  @Prop({reflect: true}) amount: number = 1;\n  @Prop() maxAmount: number;\n\n  @Prop({reflect: true}) removable: boolean = false;\n  @State() loading: boolean = false;\n\n  onRemoveHandler() {\n    this.loading = true;\n    cartFunctions.removeProduct(this.productId);\n  }\n\n  @Method() async ResetLoading() {\n      this.loading = false;\n  }\n\n  render() {\n    const price = priceFormat(this.price);\n\n    return[\n        <a class=\"product-image\" href={this.link}>\n            <ks-img3 fit='contain' image={this.img} width={180} height={180} alt=\"zdjęcie produktu\" />\n        </a>,\n\n        <div class=\"description\">\n            <a class=\"name\" href={this.link} innerHTML={this.name} aria-label={this.name.replace(/<\\/?[^>]+(>|$)/g, \"\") + ` - ${price} - ${this.shippingTime}`}></a>\n\n            <div class=\"price\">{price}</div>\n            <div class=\"shipping\">{this.shippingTime}</div>\n\n            <div class=\"count\">\n                {this.removable ?\n                    <ks-cart-spinner product={this.productId} value={this.amount} max={this.maxAmount} /> :\n                    `${this.amount} ${this.countUnit}`\n                }\n            </div>\n\n            <div class=\"remove-container\">\n                {this.removable ? this.loading ?\n                    <ks-loader/> :\n                    <button class=\"remove\" onClick={()=>this.onRemoveHandler()} aria-label=\"Usuń produkt\">\n                        <ks-icon name=\"x\" aria-hidden />\n                    </button>\n                : null}\n            </div>\n        </div>\n    ];\n  }\n}\n","ks-cart-product-heading {\n    display: flex;\n    align-items: center;\n    text-align: center;\n    font-size: 18px;\n\n    border-bottom: #ededed 1px solid;\n    padding-bottom: 10px;\n\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n}\n\nks-cart-product-heading .names {\n    text-align: left;\n    width: 100%;\n}\n\nks-cart-product-heading .prices {\n    width: 110px;\n    flex: 1 0 auto;\n}\n\nks-cart-product-heading .count {\n    width: 110px;\n    flex: 1 0 auto;\n}\n\nks-cart-product-heading .remove {\n    width: 50px;\n    flex: 1 0 auto;\n}\n\n\nks-cart-product-heading .remove {\n    width: 50px;\n    flex: 1 0 auto;\n}\n\n@media only screen and (max-width: 860px) {\n    ks-cart-product-heading .prices {\n        display: none;\n    }\n    \n    ks-cart-product-heading .count {\n        display: none;\n    }\n}","import { Component, h, Element, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-product-heading',\n  styleUrl: 'cartProductHeading.css'\n})\nexport class CartProductHeading {\n  @Element() root: HTMLElement;\n  @Prop() removable: boolean;\n  \n  @Prop() productTableNames: string = \"\";\n  @Prop() productTablePrices: string = \"\";\n  @Prop() productTableCount: string = \"\";\n  @Prop() productTableRemove: string = \"\";\n\n  render() {\n    return[\n        <div class=\"names\">{this.productTableNames}</div>,\n\n        <div class=\"prices\">{this.productTablePrices}</div>,\n        <div class=\"count\">{this.productTableCount}</div>,\n\n        this.removable ? <div class=\"remove\">{this.productTableRemove}</div> : null \n    ];\n  }\n}\n","ks-cart-spinner {\n    display: inline-flex;\n    text-align: center;\n}\n\nks-cart-spinner input {\n    appearance: none;\n    border: 1px solid #d9d9d9;\n\n    width: 40px !important;\n    height: 30px;\n    box-sizing: border-box;\n    \n    margin: 0 !important;\n    font-size: 14px !important;\n    text-align: center !important;\n}\n\nks-cart-spinner button {\n    appearance: none;\n    border: 1px solid #d9d9d9;\n    \n    height: 30px;\n    width: 30px;\n}\n\nks-cart-spinner button:first-child {\n    border-right: none;\n}\n\nks-cart-spinner button:last-child {\n    border-left: none;\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-spinner input {\n        width: 50px;\n        height: 35px;\n    }\n    \n    ks-cart-spinner button {\n        height: 35px;\n        width: 35px;\n    }\n}","import { Component, h, Prop, Element } from '@stencil/core';\nimport * as cartFunctions from \"../../../global/functions/cart\";\n\n@Component({\n  tag: 'ks-cart-spinner',\n  styleUrl: 'cartSpinner.css'\n})\nexport class CartSpinner {\n  @Element() root: HTMLElement;\n\n  @Prop() product: string;\n  @Prop() name: string;\n  @Prop({ mutable: true, reflect: true }) value: number = 1;\n  @Prop() max: number;\n\n  Increment() {\n    if(typeof this.max === \"undefined\" || this.value < this.max) {\n      this.value += 1;\n\n      this.onChangedHandler(this.value);\n    }\n  }\n\n  Decrement() {\n    if(this.value > 1) {\n      this.value -= 1;\n\n      this.onChangedHandler(this.value);\n    }\n  }\n\n  Change(e: Event) {\n    const input = e.target as HTMLInputElement;\n\n    const parsed = parseInt(input.value);\n\n    if(!isNaN(parsed) && parsed > 0 && (typeof this.max === \"undefined\"  || parsed <= this.max))\n      this.value = parsed;\n\n    else if (parsed > this.max ) {\n      this.value = this.max;\n      input.value = this.max.toString();\n    }\n\n    else {\n      this.value = 1;\n      input.value = \"1\";\n    }\n\n    this.onChangedHandler(this.value);\n  }\n\n  onChangedHandler(value: any) {\n    cartFunctions.productCount(this.product, value).then(maxCount => {\n      setTimeout(() => {\n        if(!maxCount) return;\n        this.max = maxCount;\n\n        const input = this.root.querySelector('input') as HTMLInputElement;\n        const parsed = parseInt(input.value);\n\n        if (parsed > this.max ) {\n          this.value = this.max;\n          input.value = this.max.toString();\n        }\n      }, 200);\n    });\n  }\n\n  timeout: number;\n\n  render() {\n    return [\n        <button onClick={()=>this.Decrement()} disabled={this.value <= 1}>-</button>,\n        <input type=\"text\" maxlength=\"3\" value={this.value} name={this.name} aria-label=\"ilość\"\n                onChange={(e)=>this.Change(e)}\n        />,\n        <button onClick={()=>this.Increment()} disabled={(this.value+1) > this.max}>+</button>\n    ];\n  }\n}\n"],"mappings":"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","ignoreList":[]}