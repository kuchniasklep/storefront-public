{"version":3,"file":"ks-input-dynamic.ks-input-select.entry.esm.js","sources":["src/components/input/inputDynamic.css?tag=ks-input-dynamic","src/components/input/inputDynamic.tsx","src/components/input/inputSelect.css?tag=ks-input-select","src/components/input/inputSelect.tsx"],"sourcesContent":["ks-input-dynamic {\n    display: block;\n    position: relative;\n}\n\nks-input-dynamic .wrapper {\n    transition: 0.3s ease opacity;\n}\n\nks-input-dynamic[loading] .wrapper {\n    opacity: 0.3;\n    pointer-events: none;\n}","import { Component, h, Prop, Element, Method, Host } from '@stencil/core';\nimport { common } from '../../global/data/common';\n\n\n@Component({\n    tag: 'ks-input-dynamic',\n    styleUrl: 'inputDynamic.css'\n})\nexport class InputDynamic {\n    @Element() root: HTMLElement;\n\n    @Prop() api: string = \"\";\n    @Prop() message: string = \"\";\n    @Prop({mutable: true, reflect: true}) loading: boolean = false;\n\n    ready: Promise<boolean>;\n\n    componentDidLoad() { \n        const input = this.root.querySelector(\"input\") as HTMLInputElement;\n        const component = this.root.querySelector(\"ks-input-text\") as HTMLKsInputTextElement;\n        component.setAttribute(\"novalidate\", \"novalidate\");\n\n        input.onchange = ()=>this.Validate();\n    }\n\n    @Method()\n    async Validate() {\n        const strings = common.get(\"translations\");\n\n        const input = this.root.querySelector(\"input\") as HTMLInputElement;\n        const component = this.root.querySelector(\"ks-input-text\") as HTMLKsInputTextElement;\n        \n\n        var headers = new Headers();\n        headers.append('pragma', 'no-cache');\n        headers.append('cache-control', 'no-cache');\n\n        this.ready = new Promise<boolean>(async (resolve)=>{\n            await component.Validate()\n            if(await component.IsValid()) {\n                this.loading = true;\n\n                await fetch(this.api + encodeURIComponent(input.value), {\n                    method: 'GET', \n                    headers: headers,\n                    credentials: \"same-origin\"\n                })\n                    .then(response => {\n                        if(!response.ok)\n                            throw response.status;\n\n                        return response.text();\n                    })\n                    .then(data => {\n                        if (data == \"false\")\n                            throw this.message;\n\n                        else if (data != \"true\")\n                            throw data;\n\n                        else resolve(true);\n                    })\n                    .catch(error => {\n                        let message = error;\n\n                        if(Number.isInteger(error))\n                            message = strings.inputConnectionError + error;\n\n                        else if(!navigator.onLine)\n                            message = strings.inputInternetConnectionError;\n                        \n                        component.setAttribute(\"message\", message);\n                        resolve(false);\n                    });\n            }\n            else resolve(false);\n\n            this.loading = false;\n        });\n    }\n\n    @Method()\n    async IsValid() {\n        return await this.ready;\n    }\n\n\trender() {\n\t\treturn <Host>\n            <div class=\"wrapper\">\n                <slot />\n            </div>\n            {this.loading && <ks-loader dark />}\n        </Host>;\n    }\n}\n","ks-input-select {\n    display: block;\n    margin-bottom: 15px;\n}\n\nks-input-select select {\n    display: inline-block;\n    appearance: none;\n    vertical-align: middle;\n    box-sizing: border-box;\n\n    height: 40px;\n    max-width: 100%;\n    width: 100%;\n    margin: 0 0 -3px 0;\n    padding: 0 10px;\n\n    background: #fafafa;\n    color: #373737;\n    border: 1px solid #b2b2b2;\n    font-size: 15px;\n\n    transition: .2s ease-in-out;\n    transition-property: color, background-color;\n\n    text-transform: none;\n    padding-right: 20px;\n    background-image: url(data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2224%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpolygon%20fill%3D%22%23373737%22%20points%3D%2212%201%209%206%2015%206%22%20%2F%3E%0A%20%20%20%20%3Cpolygon%20fill%3D%22%23373737%22%20points%3D%2212%2013%209%208%2015%208%22%20%2F%3E%0A%3C%2Fsvg%3E%0A);\n    background-repeat: no-repeat;\n    background-position: 100% 50%;\n}\n\nks-input-select select:focus {\n    outline: none;\n    background-color: #f4f4f4;\n    color: #373737;\n    border-color: #222222 !important; \n    border-width: 2px;\n}\n\nks-input-select label {\n    margin-bottom: 3px;\n    display: block;\n    color: #000;\n    font-size: .875rem;\n}\n\nks-input-select[light-up] select {\n    border-color: #1488ff;\n    background-color: #d5e6ff;\n    color: #004454;\n}\n\nks-input-select[error] select {\n    color: var(--color-secondary);\n    border-color: var(--color-secondary);\n}\nks-input-select[error] label {\n    color: var(--color-secondary) !important;\n}","import { Component, h, Prop, Method, Host } from '@stencil/core';\nimport InputInterface from './inputInterface';\n@Component({\n      tag: 'ks-input-select',\n      styleUrl: 'inputSelect.css'\n})\nexport class InputSelect implements InputInterface {\n\n    @Prop() name: string;\n    @Prop() label: string;\n\n    @Prop({reflect: true}) error: boolean;\n    @Prop() disabled: boolean;\n    @Prop({mutable: true, reflect: true}) lightUp: boolean = false;\n\n\trender() {\n\t\treturn <Host>\n            {this.label && <label>{this.label}</label>}\n            <select name={this.name} onChange={()=>this.Validate()} disabled={this.disabled}>\n                <slot/>\n            </select>\n        </Host>;\n    }\n\n    @Method()\n    async IsValid() {\n        return true;\n    }\n\n    @Method()\n    async Validate() {\n        this.lightUp = false;\n        return Promise.resolve();\n    }\n}\n"],"names":[],"mappings":"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"}