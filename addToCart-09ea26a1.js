import{D as a,e as o}from"./dataLayer-4cab1eeb.js";import{c as e}from"./commonDynamic-73d5b033.js";import{F as s}from"./fetch-e286f059.js";async function c(c,n=1){const r=document.querySelector("ks-error-popup"),t=document.querySelector("ks-message-popup"),d=document.querySelector("ks-navbar");let m=new FormData;m.append("id",c.id),m.append("ilosc",c.quantity.toString()),m.append("nazwa",c.name),m.append("value",c.currentPrice.toString()),m.append("cechy",c.traitIDs),m.append("akcja","dodaj"),m.append("miejsce",n.toString());const u=e.get("api").addToCart;return s(u,m).then((async a=>a.json())).then((async e=>{var s,n;e.status?(d.IncrementCart(c.quantity.toString()),s=c.id,n=c.name,document.querySelector("ks-product-suggestions").show(s,n),e.event&&(a.addToCart(c,e.event),o((a=>null==a?void 0:a.addToCart(c,e.event))))):e.productLink?t.show("Wymagany wybór cechy",e.message,"Przejdź do produktu",c.link):t.show("Błąd dodawania produktu",e.message)})).catch((a=>{r.show(a)}))}export{c as a}