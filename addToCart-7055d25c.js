import{c as a}from"./commonDynamic-5e51121d.js";import{F as o}from"./fetch-1f8a9006.js";import{D as s}from"./dataLayer-452698da.js";import{C as r}from"./inpost-pay-ab92a8d2.js";async function c(c,t=1){const e=document.querySelector("ks-error-popup"),n=document.querySelector("ks-message-popup"),d=document.querySelector("ks-navbar");let m=new FormData;m.append("id",c.id),m.append("ilosc",c.quantity.toString()),m.append("nazwa",c.name),m.append("value",c.currentPrice.toString()),m.append("cechy",c.traitIDs),m.append("akcja","dodaj"),m.append("miejsce",t.toString());const p=a.get("api").addToCart;return o(p,m).then((async a=>a.json())).then((async a=>{var o,t;a.status?(d.IncrementCart(c.quantity.toString()),o=c.id,t=c.name,document.querySelector("ks-product-suggestions").show(o,t),s.addToCart(c,a.event),r(c.id)):a.productLink?n.show("Wymagany wybór cechy",a.message,"Przejdź do produktu",c.link):n.show("Błąd dodawania produktu",a.message)})).catch((a=>{e.show(a)}))}export{c as a}