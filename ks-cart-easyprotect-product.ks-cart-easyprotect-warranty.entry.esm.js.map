{"version":3,"file":"ks-cart-easyprotect-product.ks-cart-easyprotect-warranty.entry.esm.js","sources":["src/components/cart/easyprotect/cart-easyprotect-product.css?tag=ks-cart-easyprotect-product","src/components/cart/easyprotect/cart-easyprotect-product.tsx","src/components/cart/easyprotect/cart-easyprotect-warranty.css?tag=ks-cart-easyprotect-warranty","src/components/cart/easyprotect/cart-easyprotect-warranty.tsx"],"sourcesContent":["ks-cart-easyprotect-product button {\n    display: flex;\n    align-items: center;\n\n    width: 100%;\n    border: none;\n    background-color: transparent;\n    text-align: left;\n    font-size: 15px;\n}\n\nks-cart-easyprotect-product .image {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 100%;\n    max-width: 80px;\n    max-height: 80px;\n\n    margin-right: 10px;\n}\n\nks-cart-easyprotect-product .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    width: 100%;\n    border-radius: 10px;\n    padding: 10px 20px;\n    box-sizing: border-box;\n    margin: 5px 0;\n    min-height: 68px;\n\n    font-family: var(--font-emphasis);\n\n    user-select: none;\n    background-color: #f2f2f2;\n    transition: var(--transition-background-color);\n}\n\nks-cart-easyprotect-product:hover .info {\n    background-color: #e2e2e2;\n}\n\nks-cart-easyprotect-product[active] .info {\n    color: white;\n    background-color: #4e2e82;\n}\n\n\nks-cart-easyprotect-product .info .warranty {\n    font-weight: 700;\n}\n\n\n\n\n@media (max-width: 420px) {\n    ks-cart-easyprotect-product {\n        font-size: 15px;\n    }\n\n    ks-cart-easyprotect-product .image {\n        max-width: 50px;\n        max-height: 50px;\n        margin: 0 5px;\n    }\n\n    ks-cart-easyprotect-product .info {\n        padding: 8px 10px 8px 15px;\n    }\n\n    ks-cart-easyprotect-product .info .warranty {\n        font-size: 14px;\n    }\n}","import { Component, h, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-easyprotect-product',\n  styleUrl: 'cart-easyprotect-product.css'\n})\nexport class CartEasyprotectProduct {\n    @Prop() image: string;\n    @Prop() name: string;\n    @Prop() warranty: string = \"\";\n    @Prop({reflect: true, mutable: true}) active: boolean = false;\n\n    render() {\n        return <button aria-pressed={this.active.toString()}>\n            <div class=\"image\" aria-hidden>\n                <ks-img2 src={this.image} width={200} height={200} />\n            </div>\n            <div class=\"info\">\n                <div class=\"name\" innerHTML={this.name}></div>\n                {this.warranty ? \n                    <div class=\"warranty\">{this.warranty}</div>\n                : null}\n            </div>\n        </button>\n    }\n}","ks-cart-easyprotect-warranty {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    background-color: #f2f2f2;\n    margin-bottom: 10px;\n}\n\nks-cart-easyprotect-warranty .name {\n    position: relative;\n    margin: 8px 15px;\n    max-height: 50px;\n    box-sizing: border-box;\n\n    overflow: hidden;\n\n    font-family: var(--font-emphasis);\n}\n\nks-cart-easyprotect-warranty .name:after {\n    content: \"\";\n    position: absolute;\n    top: 30px;\n    right: 0;\n    width: 30%;\n    height: 20px;\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), rgb(242, 242, 242) 90%);\n  }\n\nks-cart-easyprotect-warranty .control {\n    display: flex;\n}\n\nks-cart-easyprotect-warranty .info {\n    min-width: 135px;\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n\n    background-color: var(--easyprotect-color);\n}\n\nks-cart-easyprotect-warranty .price {\n    height: 40px;\n    min-width: 80px;\n    line-height: 40px;\n    text-align: center;\n\n    \n    background-color: #64419c !important;\n    color: #ffffff;\n}\n\nks-cart-easyprotect-warranty .warranty-select {\n    position: relative;\n}\n\nks-cart-easyprotect-warranty .warranty-select ks-icon {\n    position: absolute;\n    top: 6px;\n    right: 5px;\n    color: white;\n    pointer-events: none;\n}\n\nks-cart-easyprotect-warranty select {\n    appearance: none;\n    width: 100%;\n    border: none;\n    background: none;\n\n    color: #ffffff;\n    padding: 10px 30px 10px 10px;\n}\n\nks-cart-easyprotect-warranty select option {\n    color: #151515;\n}\n\nks-cart-easyprotect-warranty:not([product-id]) .warranty-select {\n    color: white !important;\n    padding: 7px 20px;\n}\n\nks-cart-easyprotect-warranty .close {\n    align-self: stretch;\n    min-width: 40px;\n    \n    border-style: none;\n    outline-style: none;\n    \n    transition: background-color 0.3s ease;\n    background-color: var(--easyprotect-color);\n    color: #ffffff;\n    border-left: #64419c 1px solid;\n}\n\nks-cart-easyprotect-warranty .close ks-icon {\n    line-height: unset !important;\n}\n\nks-cart-easyprotect-warranty .close:hover {\n    background-color: var(--easyprotect-color-hover);\n}\n\nks-cart-easyprotect-warranty .close:active {\n    background-color: var(--easyprotect-color-active);\n}\n\n\n@media (min-width: 860px) {\n    ks-cart-easyprotect-warranty[insured] .info,\n    ks-cart-easyprotect-warranty:not([product-id]) .info {\n        display: flex;\n        min-width: 200px;\n    }\n\n    ks-cart-easyprotect-warranty .name {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        width: 100%;\n    }\n\n    ks-cart-easyprotect-warranty .control {\n        flex: 1 0 auto;\n    }\n}\n\n@media (max-width: 420px) {\n    ks-cart-easyprotect-warranty {\n        display: inline-block;\n    }\n\n    ks-cart-easyprotect-warranty .info {\n        display: flex;\n        width: 100%;\n    }\n\n    ks-cart-easyprotect-warranty .warranty-select {\n        width: 100%;\n        padding-top: 3px;\n    }\n\n    ks-cart-easyprotect-warranty .warranty-select ks-icon {\n        top: 8px;\n    }\n\n    ks-cart-easyprotect-warranty .name {\n        margin: 12px 15px;\n    }\n\n    ks-cart-easyprotect-warranty .price {\n        width: 50%;\n    }\n}","import { Component, h, Prop, Element } from '@stencil/core';\nimport { cart } from '../../../global/data/cart';\nimport { easyprotectChange, easyprotectRemove } from '../../../global/functions/cart';\nimport priceFormat from '../../../global/functions/price';\n\n\n@Component({\n  tag: 'ks-cart-easyprotect-warranty',\n  styleUrl: 'cart-easyprotect-warranty.css'\n})\nexport class CartEasyprotectWarranty {\n    @Element() root: HTMLElement;\n    @Prop({reflect: true}) productId: string;\n    @Prop({reflect: true}) insured: boolean;\n    @Prop({reflect: true, mutable: true}) active: string;\n\n    @Prop({mutable: true}) name: string;\n    @Prop({mutable: true}) time: number;\n    @Prop({mutable: true}) price: number;\n\n    entries: [string, number][];\n    options: {[index: string]: number};\n\n    componentWillLoad() {\n        if(this.productId) {\n            if(!this.active)\n                this.active = Object.keys(cart.get(\"easyprotect\")[this.productId])[0];\n\n            this.update();\n            cart.onChange(\"easyprotect\", ()=>this.update());\n        }\n    }\n\n    componentWillUpdate() {\n        if(this.productId) {\n            this.root.querySelector(\"select\").value = this.active;\n            this.update();\n        }\n    }\n\n    update() {\n        if(cart.get(\"easyprotect\")[this.productId] === undefined)\n            return;\n\n        this.name = cart.get(\"products\")[this.productId].name;\n        this.options = cart.get(\"easyprotect\")[this.productId];\n        this.entries = Object.entries(this.options);\n        this.price = this.options[this.active];\n    }\n\n    render() {\n        const price = priceFormat(this.price);\n        const title = this.name.replace(\"<br>\", \" \").replace(/(<([^>]+)>)/gi, \"\");\n\n        return [\n            <div class=\"name\" innerHTML={this.name.replace(\"<br>\", \" \")} title={title}></div>,\n            \n            <div class=\"control\">\n                <div class=\"info\">\n                    <div class=\"warranty-select\">\n                        {this.productId ? [\n                            <select onChange={() => this.change()} aria-label={title}>\n                                {this.entries.map(([months, _]) =>\n                                    <option value={months} selected={this.active == months}>\n                                        {this.months(parseInt(months))}\n                                    </option>    \n                                )}\n                            </select>,\n                            <ks-icon name=\"chevron-down\" aria-hidden/>\n                        ] :\n                            this.months(this.time)\n                        }\n                    </div>\n                    <div class=\"price\">{price}</div>\n                </div>\n\n                {this.productId && this.insured ? \n                    <button class=\"close\" onClick={()=>this.remove()}>\n                        <ks-icon name=\"x\"/>\n                    </button> \n                : null}\n            </div>,\n        ];\n    }\n\n    change() {\n        this.active = this.root.querySelector(\"select\").value;\n        if(this.insured) easyprotectChange({[this.productId]: this.active});\n    }\n\n    remove() {\n        easyprotectRemove(this.productId);\n    }\n\n    months(x: number) {\n        const digit = parseInt(`${x}`[`${x}`.length-1]);\n\n        let month = \"miesięcy\";\n        if(x == 0) month = \"miesiąc\" \n        else if(x >= 5 && x <= 21) month = \"miesięcy\" \n        else if(x > 21 && digit >= 2 && digit <= 4) month =\"miesiące\"\n\n        return `${x} ${month}`;\n    }\n}"],"names":[],"mappings":"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"}