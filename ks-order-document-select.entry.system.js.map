{"version":3,"file":"ks-order-document-select.entry.system.js","sources":["src/components/order/confirmation/orderDocumentSelect.css?tag=ks-order-document-select","src/components/order/confirmation/orderDocumentSelect.tsx"],"sourcesContent":["ks-order-document-select {\n    display: block;\n}\n\nks-order-document-select .toggles {\n    display: flex;\n    position: relative !important;\n    margin-top: 10px !important;\n}\n\nks-order-document-select .toggles > ks-order-toggle {\n    width: 50%;\n    box-sizing: border-box;\n}\n\nks-order-document-select[loading] .toggles {\n    opacity: 0.3;\n    pointer-events: none;\n}","import { Component, h, Prop, Element, Method, Host } from '@stencil/core';\n\n@Component({\n  tag: 'ks-order-document-select',\n  styleUrl: 'orderDocumentSelect.css'\n})\nexport class OrderDocumentSelect {\n\n    @Element() root: HTMLElement;\n    @Prop() name: string;\n    @Prop() api: string;\n    @Prop({mutable: true}) value: string = \"0\";\n\n    @Prop() chooseSaleDocument: string;\n    @Prop() receipt: string;\n    @Prop() invoice: string;\n\n    @Prop({reflect: true, mutable: true}) loading: boolean;\n\n    change(value: string) {\n        this.value = value;\n\n        const form = new FormData();\n        form.append(\"value\", value);\n\n        var headers = new Headers();\n        headers.append('pragma', 'no-cache');\n        headers.append('cache-control', 'no-cache');\n\n        this.loading = true;\n\n        fetch(this.api, {\n            method: 'POST',\n            headers: headers,\n            body: form,\n            credentials: \"same-origin\"\n        }).then(()=>this.loading=false);\n    }\n\n    @Method()\n    async Validate() {}\n\n    @Method()\n    async IsValid() {\n        return !this.loading;\n    }\n\n    render() {\n        return <Host>\n            <span>{this.chooseSaleDocument}</span>\n\n            <div class=\"toggles\">\n                <ks-order-toggle active={this.value == \"0\"} text={this.receipt} name={this.name} value=\"0\"\n                    changeHandler={(value)=>this.change(value)}\n                />\n                <ks-order-toggle active={this.value == \"1\"} text={this.invoice} name={this.name} value=\"1\"\n                    changeHandler={(value)=>this.change(value)}\n                />\n\n                {this.loading && <ks-loader dark />}\n            </div>\n        </Host>;\n    }\n}"],"names":[],"mappings":";;;;;;;;;;;;YAAA,MAAM,sBAAsB,GAAG,+VAA+V;;kBCMjX,mBAAmB,uCAAA,MAAA;YAJhC,IAAA,WAAA,CAAA,OAAA,EAAA;;YAS2B,QAAA,IAAK,CAAA,KAAA,GAAW,GAAG;YAoD7C;YA5CG,IAAA,MAAM,CAAC,KAAa,EAAA;YAChB,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK;YAElB,QAAA,MAAM,IAAI,GAAG,IAAI,QAAQ,EAAE;YAC3B,QAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC;YAE3B,QAAA,IAAI,OAAO,GAAG,IAAI,OAAO,EAAE;YAC3B,QAAA,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,CAAC;YACpC,QAAA,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;YAE3C,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI;YAEnB,QAAA,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE;YACZ,YAAA,MAAM,EAAE,MAAM;YACd,YAAA,OAAO,EAAE,OAAO;YAChB,YAAA,IAAI,EAAE,IAAI;YACV,YAAA,WAAW,EAAE;YAChB,SAAA,CAAC,CAAC,IAAI,CAAC,MAAI,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;;gBAInC,MAAM,QAAQ,GAAA;YAGd,IAAA,MAAM,OAAO,GAAA;YACT,QAAA,OAAO,CAAC,IAAI,CAAC,OAAO;;gBAGxB,MAAM,GAAA;YACF,QAAA,OAAO,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACR,CAAO,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAA,IAAI,CAAC,kBAAkB,CAAQ,EAEtC,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,SAAS,EAAA,EAChB,CAAA,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAiB,MAAM,EAAE,IAAI,CAAC,KAAK,IAAI,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,GAAG,EACtF,aAAa,EAAE,CAAC,KAAK,KAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAC5C,CAAA,EACF,CAAA,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAiB,MAAM,EAAE,IAAI,CAAC,KAAK,IAAI,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,GAAG,EACtF,aAAa,EAAE,CAAC,KAAK,KAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAC5C,CAAA,EAED,IAAI,CAAC,OAAO,IAAI,CAAA,CAAA,WAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAW,IAAI,EAAG,IAAA,EAAA,CAAA,CACjC,CACH;;;;;;;;;;;;"}