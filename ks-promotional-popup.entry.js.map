{"version":3,"names":["promotionalPopupCss","PromotionalPopup","componentDidLoad","this","dialog","root","querySelector","cookieName","name","displayOnLoad","document","cookie","search","setTimeout","Show","async","show","SetCookie","expiration","expirationDate","Date","setMonth","getMonth","toUTCString","render","bgstyle","backgroundColor","color","texturestyle","backgroundImage","texture","backgroundSize","textureSize","opacity","textureOpacity","h","smallmobile","dark","nopadding","onClosed","href","class","style","src","image"],"sources":["src/components/base/popups/promotional-popup.css?tag=ks-promotional-popup","src/components/base/popups/promotional-popup.tsx"],"sourcesContent":["ks-promotional-popup {\n    display: block;\n}\n\nks-promotional-popup .content {\n    width: 100%;\n}\n\nks-promotional-popup .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    position: relative;\n\n    height: 100%;\n    width: 100%;\n    max-width: 720px;\n\n    padding: 20px;\n    box-sizing: border-box;\n}\n\nks-promotional-popup .info ks-img2 {\n    max-height: 500px;\n}\n\nks-promotional-popup .texture {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}","import { Component, h, Prop, Element, Method } from '@stencil/core';\n\n@Component({\n  tag: 'ks-promotional-popup',\n  styleUrl: 'promotional-popup.css'\n})\nexport class PromotionalPopup{\n    @Element() root: HTMLElement;\n    dialog: HTMLKsDialogElement;\n\n    @Prop() name: string;\n    @Prop() href: string;\n    @Prop() image: string;\n    @Prop() color: string = \"#FFFFFF\";\n    @Prop() texture: string;\n    @Prop() textureOpacity: string = \"1.0\";\n    @Prop() textureSize: string = \"200\";\n\n    @Prop() displayOnLoad: boolean = false;\n\n    componentDidLoad() {\n        this.dialog = this.root.querySelector(\"ks-dialog\");\n        const cookieName = this.name + \"Popup\";\n        \n        if(this.displayOnLoad && document.cookie.search(`${cookieName}=tak`) == -1) {\n            setTimeout(() => {\n                this.Show();\n            }, 4000);\n        }\n    }\n\n    @Method()\n    async Show() {\n        this.dialog.show();\n    }\n\n    SetCookie() {\n        const cookieName = this.name + \"Popup\";\n\n        var expiration = \"\";\n        var expirationDate = new Date();\n        expirationDate.setMonth(expirationDate.getMonth() + 1);\n        expiration = \"expires=\" + expirationDate.toUTCString() + \"; \";\n\n        document.cookie = `${cookieName}=tak; ` + expiration + \"path=/\";\n    }\n\n    \n\n  render() {\n    const bgstyle = {\n        backgroundColor: this.color\n    }\n\n    const texturestyle = {\n        backgroundImage: `url(\"${this.texture}\")`,\n        backgroundSize: `${this.textureSize}px ${this.textureSize}px`,\n        opacity: this.textureOpacity\n    }\n\n    return [\n        <ks-dialog smallmobile dark nopadding onClosed={()=>this.SetCookie()}>\n            <a href={this.href} class=\"info\" style={bgstyle}>\n                <div class=\"texture\" style={texturestyle}></div>\n                <ks-img2 src={this.image} />\n            </a>\n        </ks-dialog>\n    ];\n  }\n}\n"],"mappings":"sDAAA,MAAMA,EAAsB,me,MCMfC,EAAgB,M,iGAOD,U,2CAES,M,iBACH,M,mBAEG,K,CAEjCC,mBACIC,KAAKC,OAASD,KAAKE,KAAKC,cAAc,aACtC,MAAMC,EAAaJ,KAAKK,KAAO,QAE/B,GAAGL,KAAKM,eAAiBC,SAASC,OAAOC,OAAO,GAAGL,WAAsB,EAAG,CACxEM,YAAW,KACPV,KAAKW,MAAM,GACZ,I,EAKXC,aACIZ,KAAKC,OAAOY,M,CAGhBC,YACI,MAAMV,EAAaJ,KAAKK,KAAO,QAE/B,IAAIU,EAAa,GACjB,IAAIC,EAAiB,IAAIC,KACzBD,EAAeE,SAASF,EAAeG,WAAa,GACpDJ,EAAa,WAAaC,EAAeI,cAAgB,KAEzDb,SAASC,OAAS,GAAGJ,UAAqBW,EAAa,Q,CAK7DM,SACE,MAAMC,EAAU,CACZC,gBAAiBvB,KAAKwB,OAG1B,MAAMC,EAAe,CACjBC,gBAAiB,QAAQ1B,KAAK2B,YAC9BC,eAAgB,GAAG5B,KAAK6B,iBAAiB7B,KAAK6B,gBAC9CC,QAAS9B,KAAK+B,gBAGlB,MAAO,CACHC,EAAA,aAAWC,YAAW,KAACC,KAAI,KAACC,UAAS,KAACC,SAAU,IAAIpC,KAAKc,aACrDkB,EAAA,KAAGK,KAAMrC,KAAKqC,KAAMC,MAAM,OAAOC,MAAOjB,GACpCU,EAAA,OAAKM,MAAM,UAAUC,MAAOd,IAC5BO,EAAA,WAASQ,IAAKxC,KAAKyC,U"}