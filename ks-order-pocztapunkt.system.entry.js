var __awaiter=this&&this.__awaiter||function(t,n,e,i){function r(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function u(t){try{c(i["throw"](t))}catch(t){a(t)}}function c(t){t.done?e(t.value):r(t.value).then(o,u)}c((i=i.apply(t,n||[])).next())}))};var __generator=this&&this.__generator||function(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(t){return function(n){return c([t,n])}}function c(u){if(i)throw new TypeError("Generator is already executing.");while(o&&(o=0,u[0]&&(e=0)),e)try{if(i=1,r&&(a=u[0]&2?r["return"]:u[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;if(r=0,a)u=[u[0]&2,a.value];switch(u[0]){case 0:case 1:a=u;break;case 4:e.label++;return{value:u[1],done:false};case 5:e.label++;r=u[1];u=[0];continue;case 7:u=e.ops.pop();e.trys.pop();continue;default:if(!(a=e.trys,a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1];a=u;break}if(a&&e.label<a[2]){e.label=a[2];e.ops.push(u);break}if(a[2])e.ops.pop();e.trys.pop();continue}u=n.call(t,e)}catch(t){u=[6,t];r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};System.register(["./index-c1zuSwDW.system.js"],(function(t){"use strict";var n,e,i;return{setters:[function(t){n=t.r;e=t.h;i=t.a}],execute:function(){var r=t("ks_order_pocztapunkt",function(){function t(t){n(this,t);this.search="WrocÅ‚aw, Polska";this.api="";this.button="";this.description="";this.address="";this.code="";this.valid=true}t.prototype.componentDidLoad=function(){this.root.style.display="block"};t.prototype.Show=function(t){return __awaiter(this,void 0,void 0,(function(){var n=this;return __generator(this,(function(e){t.preventDefault();PPWidgetApp.toggleMap({callback:function(t){return n.Callback(t)},payOnPickup:false,address:this.search});return[2]}))}))};t.prototype.Callback=function(t){var n=t["name"]+" - "+t["city"]+" - "+t["street"];var e=t["pni"];this.address=t["name"]+" - "+t["city"]+" - "+t["street"];this.search=t["city"];this.code=t["pni"];this.description=t["description"];this.description=this.description.replace(/#/gi,"<br />");var i=new FormData;i.append("value",n);i.append("punktodbioru",e);var r=new Headers;r.append("pragma","no-cache");r.append("cache-control","no-cache");fetch(this.api,{method:"POST",headers:r,body:i,credentials:"same-origin"});this.Validate()};t.prototype.Validate=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.valid=this.address!="";return[2]}))}))};t.prototype.IsValid=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.valid]}))}))};t.prototype.render=function(){var t=this;return[e("style",{key:"98c611ed89908a157f9866812e391616fb00856c",innerHTML:"\n                #overlay {\n                    position: fixed !important;\n                    display: flex !important;\n                    width: 100%;\n                    height: 100vh;\n                    justify-content: center;\n                    align-items: center;\n\n                    top: 0 !important;\n                }\n\n                @keyframes ks-fade {\n                    from {opacity: 1.0;}\n                    to {opacity: 0.4;}\n                }\n            "}),e("p",{key:"bd17f3bcd9dcde6884d98797d7614087d3fb79f8",innerHTML:this.address}),e("button",{key:"0e8a09a5460adec030c26d8dee7404d70bf900f3",class:"uk-button uk-width-1-1 uk-margin-top "+(this.valid?"uk-button-secondary":"uk-button-danger"),style:{animation:this.valid?"":"ks-fade 0.5s cubic-bezier(.86,.01,.67,1) infinite alternate"},onClick:function(n){return t.Show(n)}},this.button),e("input",{key:"208642d214a46d98db378a9751f275baeb7cd483",type:"hidden",name:"lokalizacjaRuch",value:this.address}),e("input",{key:"32468f1d9f1166407c0986602f5b1a852cd6574d",type:"hidden",name:"ShippingDestinationCode",value:this.code}),e("input",{key:"1e1622a70b6daf8145c63327082d0eb0134f7040",type:"hidden",name:"OpisPunktuOdbioru",value:this.description})]};Object.defineProperty(t.prototype,"root",{get:function(){return i(this)},enumerable:false,configurable:true});return t}())}}}));
//# sourceMappingURL=ks-order-pocztapunkt.system.entry.js.map