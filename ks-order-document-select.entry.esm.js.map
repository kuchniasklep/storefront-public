{"version":3,"file":"ks-order-document-select.entry.esm.js","sources":["src/components/order/confirmation/orderDocumentSelect.tsx"],"sourcesContent":["import { Component, h, Prop, Element, State, Method } from '@stencil/core';\n\n@Component({\n  tag: 'ks-order-document-select',\n})\nexport class OrderDocumentSelect {\n\n    @Element() root: HTMLElement;\n    @Prop() name: string;\n    @Prop() api: string;\n\n    @Prop() chooseSaleDocument: string;\n    @Prop() receipt: string;\n    @Prop() invoice: string;\n\n    @State() loading: boolean;\n\n    componentDidLoad(){\n        this.root.style.display = \"block\"\n\n        const radios = this.root.querySelectorAll(`input[name=${this.name}]`);\n        radios.forEach((radio)=>{\n            radio.addEventListener(\"change\", (e)=>{\n                const target = e.target as HTMLInputElement;\n\n                const form = new FormData();\n                form.append(\"value\", target.value);\n\n                var headers = new Headers();\n                headers.append('pragma', 'no-cache');\n                headers.append('cache-control', 'no-cache');\n\n                this.loading = true;\n\n                fetch(this.api, {\n                    method: 'POST',\n                    headers: headers,\n                    body: form,\n                    credentials: \"same-origin\"\n                })\n                    .then(()=>this.loading=false);\n            })\n        })\n    }\n\n    @Method()\n    async Validate() {}\n\n    @Method()\n    async IsValid() {\n        return !this.loading;\n    }\n\n    render() {\n        return[\n            <span>{this.chooseSaleDocument}</span>,\n            <div class=\"uk-position-relative uk-margin-small-top\">\n                <div class=\"uk-child-width-1-2 uk-flex\">\n                    <ks-order-toggle active text={this.receipt} name={this.name} value=\"0\"></ks-order-toggle>\n                    <ks-order-toggle text={this.invoice} name={this.name} value=\"1\"></ks-order-toggle>\n                </div>\n                {this.loading ?\n                    <div class=\"uk-overlay uk-overlay-default uk-padding-remove uk-position-cover uk-animation-fade\"\n                         style={{animationDuration: \"0.3s\", animationDelay: \"0.5s\"}}>\n                        <div uk-spinner class=\"uk-position-center\"></div>\n                    </div>\n                : null}\n            </div>\n            \n        ];\n    }\n}"],"names":[],"mappings":";;MAKa,mBAAmB,GAAA,MAAA;;;;IAY5B,gBAAgB,GAAA;QACZ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO;AAEjC,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA,WAAA,EAAc,IAAI,CAAC,IAAI,CAAA,CAAA,CAAG,CAAC;AACrE,QAAA,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,KAAG;YACpB,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAG;AAClC,gBAAA,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B;AAE3C,gBAAA,MAAM,IAAI,GAAG,IAAI,QAAQ,EAAE;gBAC3B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC;AAElC,gBAAA,IAAI,OAAO,GAAG,IAAI,OAAO,EAAE;AAC3B,gBAAA,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,CAAC;AACpC,gBAAA,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;AAE3C,gBAAA,IAAI,CAAC,OAAO,GAAG,IAAI;AAEnB,gBAAA,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE;AACZ,oBAAA,MAAM,EAAE,MAAM;AACd,oBAAA,OAAO,EAAE,OAAO;AAChB,oBAAA,IAAI,EAAE,IAAI;AACV,oBAAA,WAAW,EAAE;iBAChB;qBACI,IAAI,CAAC,MAAI,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;AACrC,aAAC,CAAC;AACN,SAAC,CAAC;;IAIN,MAAM,QAAQ,GAAA;AAGd,IAAA,MAAM,OAAO,GAAA;AACT,QAAA,OAAO,CAAC,IAAI,CAAC,OAAO;;IAGxB,MAAM,GAAA;QACF,OAAM;AACF,YAAA,CAAO,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAA,IAAI,CAAC,kBAAkB,CAAQ;AACtC,YAAA,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,0CAA0C,EAAA,EACjD,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,4BAA4B,EAAA,EACnC,CAAA,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAiB,MAAM,EAAC,IAAA,EAAA,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,GAAG,EAAmB,CAAA,EACzF,CAAA,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAiB,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,GAAG,GAAmB,CAChF,EACL,IAAI,CAAC,OAAO;AACT,gBAAA,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,qFAAqF,EAC3F,KAAK,EAAE,EAAC,iBAAiB,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAC,EAAA,EAC3D,CAAA,CAAA,KAAA,EAAA,EAAA,YAAA,EAAA,IAAA,EAAgB,KAAK,EAAC,oBAAoB,EAAA,CAAO;kBAEvD,IAAI;SAGb;;;;;;;"}