import{e as o}from"./tracker-f8c9914d.js";import{c as a}from"./commonDynamic-57975e8d.js";import{F as c}from"./fetch-e286f059.js";async function e(e,s=1){const r=document.querySelector("ks-error-popup"),n=document.querySelector("ks-message-popup"),t=document.querySelector("ks-navbar");let d=new FormData;d.append("id",e.id),d.append("ilosc",e.quantity.toString()),d.append("nazwa",e.name),d.append("value",e.currentPrice.toString()),d.append("cechy",e.traitIDs),d.append("akcja","dodaj"),d.append("miejsce",s.toString());const m=a.get("api").addToCart;return c(m,d).then((async o=>o.json())).then((async a=>{var c,s;a.status?(t.IncrementCart(e.quantity.toString()),c=e.id,s=e.name,document.querySelector("ks-product-suggestions").show(c,s),a.event&&o((o=>null==o?void 0:o.addToCart(e,a.event)))):a.productLink?n.show("Wymagany wybór cechy",a.message,"Przejdź do produktu",e.link):n.show("Błąd dodawania produktu",a.message)})).catch((o=>{r.show(o)}))}export{e as a}