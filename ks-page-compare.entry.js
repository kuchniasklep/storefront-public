import{r as e,h as a}from"./index-0TTgkKkd.js";import{c as t}from"./index-CZU_OQRD.js";import{p as o}from"./price-DS9p83NV.js";import{a as p}from"./js.cookie-Cpg2gH_9.js";import"./common-JZ1KLzZ7.js";const r=t({});const c="ks-page-compare{display:block;background-color:#ffffff}ks-page-compare .compare-products{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:20px 20px 0px 20px}ks-page-compare .compare-attributes{padding:0px 20px 20px 20px}ks-page-compare .compare-products,ks-page-compare .compare-attributes{width:100%;max-width:1400px;-webkit-box-sizing:border-box;box-sizing:border-box;margin:auto;background-color:white}ks-page-compare .compare-products>*{-ms-flex:1;flex:1}ks-page-compare .compare-products .product{text-align:center;position:relative}ks-page-compare .compare-products .product a{color:#151515;text-decoration:none}ks-page-compare .compare-products .product ks-img3{max-width:120px;max-height:120px;margin:auto}ks-page-compare .compare-products .product ks-button{position:absolute;top:0;right:0;opacity:0.3}ks-page-compare .compare-products .add{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}ks-page-compare .compare-products .add ks-button{opacity:0.5}ks-page-compare .compare-products * ks-input-check{margin-top:10px;margin-bottom:0px}ks-page-compare .compare-products * h1{margin:0px}ks-page-compare .compare-products * h2{margin:10px 0px 0px 0px}ks-page-compare .compare-products * p{margin:5px 0px 0px 0px}ks-page-compare .compare-attributes .category{position:relative}ks-page-compare .compare-attributes .category>ks-icon{top:5px;right:15px;position:absolute}ks-page-compare .compare-attributes .category h3{border-bottom:1px solid #e7e7e7;padding:5px;margin-bottom:0px;margin-top:20px;font-weight:700}ks-page-compare .compare-attributes .category.interactable h3{cursor:pointer;-webkit-transition:background-color 0.3s ease;transition:background-color 0.3s ease}ks-page-compare .compare-attributes .category.interactable h3:hover{background-color:#f2f2f2}ks-page-compare .compare-attributes .category.interactable h3:active{background-color:#e6e6e6}ks-page-compare table{width:100%;table-layout:fixed;border-spacing:0px}ks-page-compare table th,ks-page-compare table td{text-align:center;width:25%;padding:5px;border-bottom:1px solid #e7e7e7}ks-page-compare table th{text-align:left;font-family:var(--font-emphasis)}ks-page-compare table tr:nth-child(even) td{background-color:#f2f2f2}ks-page-compare table tr td:not(:last-child),ks-page-compare table tr th:not(:last-child){border-right:1px solid #e7e7e7}ks-page-compare[differences] .identical{display:none}ks-page-compare table.hidden{display:none}@media screen and (min-width: 960px){ks-page-compare .compare-products{padding:50px 50px 0px 50px}ks-page-compare .compare-attributes{padding:0px 50px 20px 50px}}@media screen and (max-width: 960px){ks-page-compare .compare-products .product ks-img3{max-width:90px}}@media screen and (max-width: 640px){ks-page-compare .compare-products{display:block;margin-bottom:20px}ks-page-compare .compare-products .product a{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:left}ks-page-compare .compare-products .add{display:block;margin-top:15px}ks-page-compare .compare-products .product .text{width:100%}ks-page-compare .compare-products .product ks-button{position:static}ks-page-compare .compare-products .product ks-img3{max-width:60px;margin:0px 10px 0px 0px}ks-page-compare .compare-attributes .category h3{padding:12px 5px}ks-page-compare .compare-attributes .category>ks-icon{top:12px}ks-page-compare .compare-attributes .category td ks-icon{line-height:15px !important}ks-page-compare .compare-attributes .category td ks-icon svg{stroke-width:3;width:15px;height:15px}ks-page-compare .compare-products .info{width:100%;margin-bottom:20px}ks-page-compare .compare-attributes{padding:0px 10px 10px 10px}ks-page-compare .compare-attributes .category{margin-bottom:20px}ks-page-compare table tr{position:relative}ks-page-compare table th{position:absolute;font-size:12px;width:100%;border-bottom:none;top:2px}ks-page-compare table td{width:33.33%;padding:25px 5px 5px 5px;font-size:14px;border-right:none !important}}@media screen and (max-width: 420px){ks-page-compare .compare-products>div:nth-child(n+4),ks-page-compare table td:nth-child(n+4){display:none}ks-page-compare table td{width:50%}}";const s=class{constructor(a){e(this,a);this.differences=false;this.hidden=[]}componentWillLoad(){const e=document.getElementById(this.compareData);const a=JSON.parse(e.innerHTML);Object.keys(a).map((e=>{r.set(e,a[e])}))}removeProduct(e){const a=r.get("products").findIndex((a=>a.id==e));if(a==-1)return;let t=r.get("products");t.splice(a,1);r.set("products",[...t]);this.removeProductCookie(e);if(t.length==0)this.addProduct();else window.location.href="/porownaj-"+t.map((e=>e.id)).join("-")+".html"}removeProductCookie(e){const a=JSON.parse(p.get("product-comparison"));const t=a?.findIndex((a=>a.id==e));if(t==-1)return;a.splice(t,1);p.set("product-comparison",JSON.stringify(a),{expires:60})}addProduct(){window.location.href=r.get("addProductLink")}render(){const e=r.get("products");let t=e.map((e=>e.id));if(t.length<3)t=[...t,...new Array(3-t.length)];let p=new Map;e.forEach((e=>{e.attributeCategories.forEach((a=>{if(!p.has(a.name))p.set(a.name,new Map);a.attributes.forEach((t=>{const o=p.get(a.name);if(!o.has(t.name))o.set(t.name,new Map);o.get(t.name).set(e.id,t.value)}))}))}));return a("ks-page-base",{key:"0c4dc7c358e7256965ba32f34a57daca41853343",skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},a("div",{key:"e45d4661505e371e4f371dcd63466a22d46b4261",class:"compare-products"},a("div",{key:"67c5cc8fb3e54eb08ba1fc038e323f91f9b5abb1",class:"info"},a("h1",{key:"c50b688279f4cd182d1f467a10c9c266bd1ed172"},"Porównaj modele"),a("ks-input-check",{key:"5a26ae8bfd28d580a91257d480176464b6f7b3fe",label:"Pokaż tylko różnice",onChange:e=>this.differences=e.target.checked})),t.map((t=>{const o=e.find((e=>e.id==t));if(!o)return a("div",{class:"add"},a("ks-button",{border:true,round:true,icon:"plus",onClick:()=>this.addProduct()}));return a("div",{class:"product"},a("a",{href:o.link},a("ks-img3",{image:o.image,fit:"contain"}),a("div",{class:"text"},a("h2",null,o.name),a("p",null,o.description))),a("ks-button",{border:true,round:true,narrower:true,icon:"x",onClick:()=>this.removeProduct(o.id)}))}))),a("div",{key:"b4785e3ed6d6e3a7deddf3755584d1b72f080add",class:"compare-attributes"},a("div",{key:"b54b31b7e2fb25f45332d165c86622e46a6196a5",class:"category"},a("h3",{key:"746f4839c8fbd4318398821a00b11a7baeaa2976"},"Informacje Ogólne"),a("table",{key:"0a0bf63a3e23fe23cd45de657334dc33c6ccbbe7"},a("tbody",{key:"dfe9c2539e884477f25533fb00dec2fbca71a52b"},a("tr",{key:"f8cd31015827ca210ee4f106b73cffc94ade848e"},a("th",{key:"1bbf10a57e5e98057acbff2af91603112d14edf4"},"Kategoria"),t.map((t=>a("td",null,e.find((e=>e.id==t))?.category)))),a("tr",{key:"4e2514758a623bfb59ce2db9b200955b7ad72ddc"},a("th",{key:"0b7e61026c6f39313ea65b09fd1282af4f6e3d7b"},"Cena"),t.map((t=>a("td",null,o(e.find((e=>e.id==t))?.price))))),a("tr",{key:"0efcd11f2a6a2ed81326ada7d9aad18b744b28d6"},a("th",{key:"e12bd6c67899860f8ab2bab4e83ecb6a6127b519"},"Czas dostawy"),t.map((t=>a("td",null,e.find((e=>e.id==t))?.shipping))))))),[...p.entries()].map((([e,o],p)=>a("div",{class:"category interactable "+(this.same_attributes_in_category(o,t)?"identical ":"")},a("h3",{onClick:()=>this.toggle_hidden(p)},e),a("ks-icon",{name:this.hidden.includes(p)?"chevron-down":"chevron-up"}),a("table",{class:this.hidden.includes(p)?"hidden":""},a("tbody",null,[...o.entries()].map((([e,o])=>a("tr",{class:this.same_attributes(o,t)?"identical":""},a("th",null,e),t.map((e=>a("td",null,o.has(e)?o.get(e)=="true"?a("ks-icon",{name:"check"}):o.get(e):"-")))))))))))))}toggle_hidden(e){const a=this.hidden.indexOf(e);if(a!=-1){const e=this.hidden;e.splice(a,1);this.hidden=[...e]}else this.hidden=[...this.hidden,e]}same_attributes(e,a){a=a.filter((e=>e!==undefined));return[...e.values()].every(((e,a,t)=>e===t[0]))&&e.size==a.length}same_attributes_in_category(e,a){return[...e.entries()].map((([e,t])=>this.same_attributes(t,a))).every((e=>e==true))}};s.style=c;export{s as ks_page_compare};
//# sourceMappingURL=ks-page-compare.entry.js.map