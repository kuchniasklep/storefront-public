{"version":3,"names":["loadCommonData","commonDataId","commonDynamicId","Build","commonDataElement","document","getElementById","commonData","JSON","parse","innerHTML","Object","keys","map","key","common","set","isBrowser","commonDynamicDataElement","commonDynamicData_1","commonDynamic","setTimeout","tracking","get","DataLayer","pageview"],"sources":["src/global/functions/loadCommon.ts"],"sourcesContent":["import { UserBuildConditionals } from '@stencil/core/internal/stencil-public-runtime';\nimport { common, CommonData } from \"../../global/data/common\";\nimport { commonDynamic, CommonDynamicData } from \"../../global/data/commonDynamic\";\n\nimport { DataLayer } from '../dataLayer';\n\nexport function loadCommonData(commonDataId: string, commonDynamicId: string, Build: UserBuildConditionals) {\n    const commonDataElement = document.getElementById(commonDataId);\n    const commonData = JSON.parse(commonDataElement.innerHTML) as CommonData;\n\n    Object.keys(commonData).map(key => {\n        common.set(key as keyof CommonData, commonData[key]);\n    });\n\n    if (Build.isBrowser) {\n        const commonDynamicDataElement = document.getElementById(commonDynamicId);\n        const commonDynamicData = JSON.parse(commonDynamicDataElement.innerHTML) as CommonDynamicData;\n\n        Object.keys(commonDynamicData).map(key => {\n            commonDynamic.set(key as keyof CommonDynamicData, commonDynamicData[key]);\n        });\n\n        setTimeout(() => {\n            commonDynamic.set(\"loaded\", true);\n\n            const tracking = commonDynamic.get(\"tracking\");\n            DataLayer.pageview(tracking.pageview);\n        }, 100);\n    }\n}"],"mappings":"yQAMgBA,EAAeC,EAAsBC,EAAyBC,GAC1E,IAAMC,EAAoBC,SAASC,eAAeL,GAClD,IAAMM,EAAaC,KAAKC,MAAML,EAAkBM,WAEhDC,OAAOC,KAAKL,GAAYM,KAAI,SAAAC,GACxBC,EAAOC,IAAIF,EAAyBP,EAAWO,G,IAGnD,GAAIX,EAAMc,UAAW,CACjB,IAAMC,EAA2Bb,SAASC,eAAeJ,GACzD,IAAMiB,EAAoBX,KAAKC,MAAMS,EAAyBR,WAE9DC,OAAOC,KAAKO,GAAmBN,KAAI,SAAAC,GAC/BM,EAAcJ,IAAIF,EAAgCK,EAAkBL,G,IAGxEO,YAAW,WACPD,EAAcJ,IAAI,SAAU,MAE5B,IAAMM,EAAWF,EAAcG,IAAI,YACnCC,EAAUC,SAASH,EAASG,S,GAC7B,I,CAEX,C"}