import{r as t,B as n,h as o}from"./index-1b90b4d2.js";import{p as s}from"./product-591e31af.js";import{p as l}from"./productDynamic-3bd5edce.js";import{c as i}from"./common-46fdf31d.js";import{D as r}from"./dataLayer-d75ea728.js";import"./index-33fbe4a7.js";import"./commonDynamic-3e6c308f.js";import"./fetch-13200e62.js";const e="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";const u=class{constructor(n){t(this,n);this.skipbase=undefined;this.commonData=undefined;this.commonDynamicData=undefined;this.productData=undefined;this.productDynamicData=undefined}componentWillLoad(){const t=document.getElementById(this.productData);const o=JSON.parse(t.innerHTML);Object.keys(o).map((t=>{s.set(t,o[t])}));this.setDefaultTrait();if(n.isBrowser){const t=document.getElementById(this.productDynamicData);const n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{l.set(t,n[t])}));setTimeout((()=>{l.set("loaded",true)}),100);this.track()}}setDefaultTrait(){if(!(s===null||s===void 0?void 0:s.get("traits")))return;const t=s.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");s.set("traitIDs",t)}track(){r.product(s.state,l.get("eventId"))}render(){var t;if(!(s===null||s===void 0?void 0:s.get("name")))return false;const n=s.get("infoBanner");const l=s.get("productBanner");const r=s.get("points");const e=s.get("recycle");const u=s.get("installments");const a=s.get("tags");const c=s.get("variants");const d=s.get("tabs");const p=s.get("youtube");const k=s.get("similar");const m=s.get("accessories");const v=s.get("model")||s.get("catalog");const g=s.get("ean");const b=s.get("reviewAverage");const f=s.get("strings");return o("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},n?o("ks-content-info-banner",{content:n}):null,o("ks-container",null,o("ks-product-notify-edrone",null),o("ks-product-admin",null),s.get("message")?o("ks-product-message",null):null,o("ks-product-info",null,s.get("traits")?o("ks-product-traits",null):null,o("ks-product-purchase",{cartText:i.get("translations").addToCart,availabilityText:f.notifyAvailability}),o("ks-product-shipping",null),s.get("warranty")?o("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:s.get("warrantyLink")},s.get("warranty")):null,r?o("ks-product-tooltip",{message:r.message},o("ks-product-attribute",{icon:"gift"},r.shortMessage)):null,e?o("ks-product-tooltip",{message:e.message},o("ks-product-attribute",{icon:"recycle"},e.shortMessage)):null,(u===null||u===void 0?void 0:u.attributeMessage)?o("ks-product-attribute",{icon:"dollar-sign"},u===null||u===void 0?void 0:u.attributeMessage):null,v||g?o("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:true},o("span",{style:{marginRight:"15px"}},v?o("span",{style:{marginRight:"7px"}},f.model," ",v," "):null,g?o("span",null,f.ean," ",g):null)):null,o("div",{class:"buttons"},s.get("negotiateEnabled")?o("ks-product-negotiate",null,o("ks-product-button",null,s.get("strings").negotiateHeading)):null,u.payuId&&u.payuKey||u.caParameters?o("ks-product-installments",{name:u.button},u.payuId&&u.payuKey?o("ks-product-calculator-payu",{price:s.get("currentPrice"),"pos-id":u.payuId,"api-key":u.payuKey},o("ks-product-button",{icon:u.payuIcon})):null,u.caParameters?o("ks-product-calculator-ca",{price:s.get("currentPrice"),parameters:u.caParameters},o("ks-product-button",{icon:u.caIcon})):null):null),o("ks-product-brand",{slot:"brand"}))),l&&(l===null||l===void 0?void 0:l.image)?o("ks-container",null,o("ks-content-info-banner",{productBanner:l})):null,(a===null||a===void 0?void 0:a.length)>0||(c===null||c===void 0?void 0:c.length)>0?o("ks-container",{padding:true},(a===null||a===void 0?void 0:a.length)>0&&!((c===null||c===void 0?void 0:c.length)>0)?o("ks-product-tags",null):null,(c===null||c===void 0?void 0:c.length)>0?o("ks-product-variants",null):null):null,(d===null||d===void 0?void 0:d.length)>0?o("ks-container",null,o("ks-product-tabs",{names:d.map((t=>t.name)).join(", ")},d.map(((t,n)=>o("ks-product-tab",{name:t.name,open:n==0,main:n==0,content:t.content}))))):null,((t=s.get("reviewProducts"))===null||t===void 0?void 0:t.length)>0?o("ks-container",null,o("ks-review-product",null)):null,(a===null||a===void 0?void 0:a.length)>0&&(c===null||c===void 0?void 0:c.length)>0?o("ks-container",{padding:true},o("ks-product-tags",null)):null,p?o("ks-container",null,p.map((t=>o("ks-product-youtube",{"video-id":t})))):null,(k===null||k===void 0?void 0:k.length)>0?[o("h3",null,f.similarHeading),o("ks-product-container",null,k.map((t=>o("ks-product-card",{product:t}))))]:null,(m===null||m===void 0?void 0:m.length)>0?[o("h3",null,f.accessoriesHeading),o("ks-product-container",null,m.map((t=>o("ks-product-card",{product:t}))))]:null,b?o("ks-content-reviews",{content:b}):null)}};u.style=e;export{u as ks_page_product};
//# sourceMappingURL=ks-page-product.entry.js.map