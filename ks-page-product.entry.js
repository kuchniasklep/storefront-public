import{r as t,h as n}from"./index-0TTgkKkd.js";import{p as s}from"./product-qCLVrWhE.js";import{p as o}from"./productDynamic-KMlLuv-4.js";import{c as r}from"./common-JZ1KLzZ7.js";import{D as e}from"./dataLayer-BtunD6i_.js";import"./index-CZU_OQRD.js";import"./commonDynamic-uutiB2IM.js";import"./fetch-Cj4w559p.js";const a="ks-page-product>ks-page-base>.listing-heading{text-align:center;margin-top:15px;font-size:large;font-weight:700;margin-bottom:15px;font-family:var(--font-emphasis)}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";const l=class{constructor(n){t(this,n)}componentWillLoad(){const t=document.getElementById(this.productData);const n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{s.set(t,n[t])}));this.setDefaultTrait();{const t=document.getElementById(this.productDynamicData);const n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{o.set(t,n[t])}));setTimeout((()=>{o.set("loaded",true)}),100);this.track()}}setDefaultTrait(){if(!s?.get("traits"))return;const t=s.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");s.set("traitIDs",t)}track(){e.product(s.state,o.get("eventId"))}componentDidUpdate(){window.handleInpostIziButtons()}render(){if(!s?.get("name"))return false;const t=s.get("infoBanner");const o=s.get("productBanner");const e=s.get("points");const a=s.get("recycle");const l=s.get("installments");const c=s.get("tags");const u=s.get("variants");const i=s.get("gspr");const p=[...s.get("tabs"),...i?.name||i?.info?[{name:"Producent",gspr:i}]:[]];const d=s.get("youtube");const k=s.get("similar");const m=s.get("accessories");const g=s.get("model")||s.get("catalog");const b=s.get("ean");const y=s.get("reviewAverage");const f=s.get("strings");return n("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t?n("ks-content-info-banner",{content:t}):null,n("ks-container",null,n("ks-product-notify-edrone",null),n("ks-product-admin",null),s.get("message")?n("ks-product-message",null):null,n("ks-product-info",null,s.get("traits")?n("ks-product-traits",null):null,n("ks-product-purchase",{cartText:r.get("translations").addToCart,availabilityText:f.notifyAvailability}),n("ks-product-shipping",null),s.get("warranty")?n("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:s.get("warrantyLink")},s.get("warranty")):null,e?n("ks-product-tooltip",{message:e.message},n("ks-product-attribute",{icon:"gift"},e.shortMessage)):null,a?n("ks-product-tooltip",{message:a.message},n("ks-product-attribute",{icon:"recycle"},a.shortMessage)):null,l?.attributeMessage?n("ks-product-attribute",{icon:"dollar-sign"},l?.attributeMessage):null,s.get("energy")&&s.get("energyLabel")?n("ks-product-image-popup",{image:s.get("energyLabel")},n("ks-product-attribute",{energyOld:s.get("energyOld"),energy:s.get("energy")},"Klasa energetyczna")):null,g||b?n("ks-product-attribute",{style:{marginTop:"15px"},icon:"file"},n("span",{style:{marginRight:"15px"}},g?n("span",{style:{marginRight:"7px"}},f.model," ",g," "):null,b?n("span",null,f.ean," ",b):null)):null,n("div",{class:"buttons"},s.get("negotiateEnabled")?n("ks-product-negotiate",null,n("ks-product-button",null,s.get("strings").negotiateHeading)):null,l.payuId&&l.payuKey||l.caParameters?n("ks-product-installments",{name:l.button},l.payuId&&l.payuKey?n("ks-product-calculator-payu",{price:s.get("currentPrice"),"pos-id":l.payuId,"api-key":l.payuKey},n("ks-product-button",{icon:l.payuIcon})):null,l.caParameters?n("ks-product-calculator-ca",{price:s.get("currentPrice"),parameters:l.caParameters},n("ks-product-button",{icon:l.caIcon})):null):null),n("ks-product-brand",{slot:"brand"}))),o&&o?.image?n("ks-container",null,n("ks-content-info-banner",{productBanner:o})):null,c?.length>0||u?.length>0?n("ks-container",{padding:true},c?.length>0&&!(u?.length>0)?n("ks-product-tags",null):null,u?.length>0?n("ks-product-variants",null):null):null,p?.length>0?n("ks-container",null,n("ks-product-tabs",{names:p.map((t=>t.name)).join(", ")},p.map(((t,s)=>n("ks-product-tab",{name:t.name,open:s==0,main:s==0,content:t.content,gspr:t.gspr}))))):null,i.files?.length>0?n("ks-container",{padding:true,center:true},i.files.map((t=>n("ks-button",{class:"file",round:true,newtab:true,nofollow:true,link:t.url,name:t.name,style:{width:"100%",maxWidth:"300px"}})))):null,s.get("reviewProducts")?.length>0?n("ks-container",null,n("ks-review-product",null)):null,c?.length>0&&u?.length>0?n("ks-container",{padding:true},n("ks-product-tags",null)):null,d?n("ks-container",null,d.map((t=>n("ks-product-youtube",{"video-id":t})))):null,k?.length>0?[n("span",{class:"listing-heading"},f.similarHeading),n("ks-product-container",null,k.map((t=>n("ks-product-card",{flat:true,product:t}))))]:null,m?.length>0?[n("span",{class:"listing-heading"},f.accessoriesHeading),n("ks-product-container",null,m.map((t=>n("ks-product-card",{flat:true,product:t}))))]:null,y?n("ks-content-reviews",{content:y}):null)}};l.style=a;export{l as ks_page_product};
//# sourceMappingURL=ks-page-product.entry.js.map