import{r as t,B as n,h as l}from"./index-b2de1977.js";import{e as o}from"./tracker-7d15eac4.js";import{p as r}from"./product-3b8233ee.js";import{p as e}from"./productDynamic-4b334966.js";import{D as a}from"./dataLayer-51bf6ba7.js";import"./index-bca22170.js";import"./commonDynamic-e598d690.js";const s=class{constructor(n){t(this,n)}componentWillLoad(){const t=document.getElementById(this.productData),l=JSON.parse(t.innerHTML);if(Object.keys(l).map((t=>{r.set(t,l[t])})),this.setDefaultTrait(),n.isBrowser){const t=document.getElementById(this.productDynamicData),n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{e.set(t,n[t])})),setTimeout((()=>{e.set("loaded",!0)}),100),this.track()}}setDefaultTrait(){if(!(null==r?void 0:r.get("traits")))return;const t=r.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");r.set("traitIDs",t)}track(){a.product(r.state,e.get("eventId")),o((t=>null==t?void 0:t.product(r.state,e.get("eventId"))))}render(){var t;if(!(null==r?void 0:r.get("name")))return!1;const n=r.get("infoBanner"),o=r.get("productBanner"),e=r.get("points"),a=r.get("recycle"),s=r.get("installments"),i=r.get("tags"),u=r.get("variants"),c=r.get("tabs"),d=r.get("youtube"),p=r.get("similar"),k=r.get("accessories"),m=r.get("model")||r.get("catalog"),g=r.get("ean"),v=r.get("reviewAverage");return l("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},n?l("ks-info-banner",{image:n.image,color:n.color,width:n.width,height:n.height,name:n.name,link:n.link,theme:n.theme}):null,l("ks-container",null,l("ks-product-notify-edrone",null),l("ks-product-admin",null),l("ks-product-info",null,r.get("traits")?l("ks-product-traits",null):null,l("ks-product-purchase",null),l("ks-product-shipping",null),r.get("warranty")?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:r.get("warrantyLink")},r.get("warranty")):null,e?l("ks-product-tooltip",{message:e.message},l("ks-product-attribute",{icon:"gift"},e.shortMessage)):null,a?l("ks-product-tooltip",{message:a.message},l("ks-product-attribute",{icon:"recycle"},a.shortMessage)):null,(null==s?void 0:s.attributeMessage)?l("ks-product-attribute",{icon:"dollar-sign"},null==s?void 0:s.attributeMessage):null,m||g?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:!0},l("span",{style:{marginRight:"15px"}},m?l("span",{style:{marginRight:"7px"}},"Model: ",m," "):null,g?l("span",null,"EAN: ",g):null)):null,l("div",{class:"buttons"},r.get("negotiateEnabled")?l("ks-product-negotiate",null,l("ks-product-button",null,r.get("negotiate").heading)):null,s.payuId&&s.payuKey||s.caParameters?l("ks-product-installments",{name:s.button},s.payuId&&s.payuKey?l("ks-product-calculator-payu",{price:r.get("currentPrice"),"pos-id":s.payuId,"api-key":s.payuKey},l("ks-product-button",{icon:s.payuIcon})):null,s.caParameters?l("ks-product-calculator-ca",{price:r.get("currentPrice"),parameters:s.caParameters},l("ks-product-button",{icon:s.caIcon})):null):null),l("ks-product-brand",{slot:"brand"}))),o&&(null==o?void 0:o.image)?l("ks-container",null,l("ks-info-banner",{image:o.image,color:o.color,width:o.width,height:o.height,name:o.name,link:o.link})):null,(null==i?void 0:i.length)>0||(null==u?void 0:u.length)>0?l("ks-container",{padding:!0},(null==i?void 0:i.length)>0&&!((null==u?void 0:u.length)>0)?l("ks-product-tags",null):null,(null==u?void 0:u.length)>0?l("ks-product-variants",null):null):null,(null==c?void 0:c.length)>0?l("ks-container",null,l("ks-product-tabs",{names:c.map((t=>t.name)).join(", ")},c.map(((t,n)=>l("ks-product-tab",{name:t.name,open:0==n,main:0==n,content:t.content}))))):null,(null===(t=r.get("reviewProducts"))||void 0===t?void 0:t.length)>0?l("ks-container",null,l("ks-review-product",null)):null,(null==i?void 0:i.length)>0&&(null==u?void 0:u.length)>0?l("ks-container",{padding:!0},l("ks-product-tags",null)):null,d?l("ks-container",null,d.map((t=>l("ks-product-youtube",{"video-id":t})))):null,(null==p?void 0:p.length)>0?[l("h3",null,r.get("similarHeading")),l("ks-product-container",null,p.map((t=>l("ks-product-card",{product:t}))))]:null,(null==k?void 0:k.length)>0?[l("h3",null,r.get("accessoriesHeading")),l("ks-product-container",null,k.map((t=>l("ks-product-card",{product:t}))))]:null,v?l("ks-review-average",{href:v.href,message:v.message,reviews:v.reviews,months:v.months,totalReviews:v.totalReviews,average:v.average,example:v.example}):null)}};s.style="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";export{s as ks_page_product}