import{r as t,B as n,h as l}from"./index-e3198654.js";import{p as o}from"./product-f369d656.js";import{p as r}from"./productDynamic-d7f32362.js";import{c as e}from"./common-9a6e7898.js";import{D as s}from"./dataLayer-b17c3f4e.js";import"./index-5a4e318f.js";import"./commonDynamic-a3c330fc.js";import"./fetch-1f8a9006.js";const i=class{constructor(n){t(this,n),this.skipbase=void 0,this.commonData=void 0,this.commonDynamicData=void 0,this.productData=void 0,this.productDynamicData=void 0}componentWillLoad(){const t=document.getElementById(this.productData),l=JSON.parse(t.innerHTML);if(Object.keys(l).map((t=>{o.set(t,l[t])})),this.setDefaultTrait(),n.isBrowser){const t=document.getElementById(this.productDynamicData),n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{r.set(t,n[t])})),setTimeout((()=>{r.set("loaded",!0)}),100),this.track()}}setDefaultTrait(){if(!(null==o?void 0:o.get("traits")))return;const t=o.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");o.set("traitIDs",t)}track(){s.product(o.state,r.get("eventId"))}componentDidUpdate(){window.handleInpostIziButtons()}render(){var t,n;if(!(null==o?void 0:o.get("name")))return!1;const r=o.get("infoBanner"),s=o.get("productBanner"),i=o.get("points"),a=o.get("recycle"),u=o.get("installments"),c=o.get("tags"),d=o.get("variants"),p=o.get("gspr"),k=[...o.get("tabs"),...(null==p?void 0:p.name)||(null==p?void 0:p.info)||(null===(t=null==p?void 0:p.files)||void 0===t?void 0:t.length)>0?[{name:"Kontakt i bezpieczeÅ„stwo",gspr:p}]:[]],m=o.get("youtube"),g=o.get("similar"),v=o.get("accessories"),b=o.get("model")||o.get("catalog"),y=o.get("ean"),f=o.get("reviewAverage"),h=o.get("strings");return l("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},r?l("ks-content-info-banner",{content:r}):null,l("ks-container",null,l("ks-product-notify-edrone",null),l("ks-product-admin",null),o.get("message")?l("ks-product-message",null):null,l("ks-product-info",null,o.get("traits")?l("ks-product-traits",null):null,l("ks-product-purchase",{cartText:e.get("translations").addToCart,availabilityText:h.notifyAvailability}),l("ks-product-shipping",null),o.get("warranty")?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:o.get("warrantyLink")},o.get("warranty")):null,i?l("ks-product-tooltip",{message:i.message},l("ks-product-attribute",{icon:"gift"},i.shortMessage)):null,a?l("ks-product-tooltip",{message:a.message},l("ks-product-attribute",{icon:"recycle"},a.shortMessage)):null,(null==u?void 0:u.attributeMessage)?l("ks-product-attribute",{icon:"dollar-sign"},null==u?void 0:u.attributeMessage):null,o.get("energy")&&o.get("energyLabel")?l("ks-product-image-popup",{image:o.get("energyLabel")},l("ks-product-attribute",{energyOld:o.get("energyOld"),energy:o.get("energy")},"Klasa energetyczna")):null,b||y?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:!0},l("span",{style:{marginRight:"15px"}},b?l("span",{style:{marginRight:"7px"}},h.model," ",b," "):null,y?l("span",null,h.ean," ",y):null)):null,l("div",{class:"buttons"},o.get("negotiateEnabled")?l("ks-product-negotiate",null,l("ks-product-button",null,o.get("strings").negotiateHeading)):null,u.payuId&&u.payuKey||u.caParameters?l("ks-product-installments",{name:u.button},u.payuId&&u.payuKey?l("ks-product-calculator-payu",{price:o.get("currentPrice"),"pos-id":u.payuId,"api-key":u.payuKey},l("ks-product-button",{icon:u.payuIcon})):null,u.caParameters?l("ks-product-calculator-ca",{price:o.get("currentPrice"),parameters:u.caParameters},l("ks-product-button",{icon:u.caIcon})):null):null),l("ks-product-brand",{slot:"brand"}))),s&&(null==s?void 0:s.image)?l("ks-container",null,l("ks-content-info-banner",{productBanner:s})):null,(null==c?void 0:c.length)>0||(null==d?void 0:d.length)>0?l("ks-container",{padding:!0},(null==c?void 0:c.length)>0&&!((null==d?void 0:d.length)>0)?l("ks-product-tags",null):null,(null==d?void 0:d.length)>0?l("ks-product-variants",null):null):null,(null==k?void 0:k.length)>0?l("ks-container",null,l("ks-product-tabs",{names:k.map((t=>t.name)).join(", ")},k.map(((t,n)=>l("ks-product-tab",{name:t.name,open:0==n,main:0==n,content:t.content,gspr:t.gspr}))))):null,(null===(n=o.get("reviewProducts"))||void 0===n?void 0:n.length)>0?l("ks-container",null,l("ks-review-product",null)):null,(null==c?void 0:c.length)>0&&(null==d?void 0:d.length)>0?l("ks-container",{padding:!0},l("ks-product-tags",null)):null,m?l("ks-container",null,m.map((t=>l("ks-product-youtube",{"video-id":t})))):null,(null==g?void 0:g.length)>0?[l("h3",null,h.similarHeading),l("ks-product-container",null,g.map((t=>l("ks-product-card",{product:t}))))]:null,(null==v?void 0:v.length)>0?[l("h3",null,h.accessoriesHeading),l("ks-product-container",null,v.map((t=>l("ks-product-card",{product:t}))))]:null,f?l("ks-content-reviews",{content:f}):null)}};i.style="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";export{i as ks_page_product}