import{r as t,B as n,h as r}from"./index-e3198654.js";import{p as e}from"./product-f369d656.js";import{p as s}from"./productDynamic-d7f32362.js";import{c as o}from"./common-9a6e7898.js";import{D as a}from"./dataLayer-19403a84.js";import"./index-5a4e318f.js";import"./commonDynamic-a3c330fc.js";import"./fetch-1f8a9006.js";const l=class{constructor(n){t(this,n),this.skipbase=void 0,this.commonData=void 0,this.commonDynamicData=void 0,this.productData=void 0,this.productDynamicData=void 0}componentWillLoad(){const t=document.getElementById(this.productData),r=JSON.parse(t.innerHTML);if(Object.keys(r).map((t=>{e.set(t,r[t])})),this.setDefaultTrait(),n.isBrowser){const t=document.getElementById(this.productDynamicData),n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{s.set(t,n[t])})),setTimeout((()=>{s.set("loaded",!0)}),100),this.track()}}setDefaultTrait(){if(!e?.get("traits"))return;const t=e.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");e.set("traitIDs",t)}track(){a.product(e.state,s.get("eventId"))}componentDidUpdate(){window.handleInpostIziButtons()}render(){if(!e?.get("name"))return!1;const t=e.get("infoBanner"),n=e.get("productBanner"),s=e.get("points"),a=e.get("recycle"),l=e.get("installments"),i=e.get("tags"),u=e.get("variants"),c=e.get("gspr"),p=[...e.get("tabs"),...c?.name||c?.info||c?.files?.length>0?[{name:"Kontakt i bezpieczeÅ„stwo",gspr:c}]:[]],d=e.get("youtube"),k=e.get("similar"),m=e.get("accessories"),g=e.get("model")||e.get("catalog"),b=e.get("ean"),y=e.get("reviewAverage"),f=e.get("strings");return r("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t?r("ks-content-info-banner",{content:t}):null,r("ks-container",null,r("ks-product-notify-edrone",null),r("ks-product-admin",null),e.get("message")?r("ks-product-message",null):null,r("ks-product-info",null,e.get("traits")?r("ks-product-traits",null):null,r("ks-product-purchase",{cartText:o.get("translations").addToCart,availabilityText:f.notifyAvailability}),r("ks-product-shipping",null),e.get("warranty")?r("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:e.get("warrantyLink")},e.get("warranty")):null,s?r("ks-product-tooltip",{message:s.message},r("ks-product-attribute",{icon:"gift"},s.shortMessage)):null,a?r("ks-product-tooltip",{message:a.message},r("ks-product-attribute",{icon:"recycle"},a.shortMessage)):null,l?.attributeMessage?r("ks-product-attribute",{icon:"dollar-sign"},l?.attributeMessage):null,e.get("energy")&&e.get("energyLabel")?r("ks-product-image-popup",{image:e.get("energyLabel")},r("ks-product-attribute",{energyOld:e.get("energyOld"),energy:e.get("energy")},"Klasa energetyczna")):null,g||b?r("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:!0},r("span",{style:{marginRight:"15px"}},g?r("span",{style:{marginRight:"7px"}},f.model," ",g," "):null,b?r("span",null,f.ean," ",b):null)):null,r("div",{class:"buttons"},e.get("negotiateEnabled")?r("ks-product-negotiate",null,r("ks-product-button",null,e.get("strings").negotiateHeading)):null,l.payuId&&l.payuKey||l.caParameters?r("ks-product-installments",{name:l.button},l.payuId&&l.payuKey?r("ks-product-calculator-payu",{price:e.get("currentPrice"),"pos-id":l.payuId,"api-key":l.payuKey},r("ks-product-button",{icon:l.payuIcon})):null,l.caParameters?r("ks-product-calculator-ca",{price:e.get("currentPrice"),parameters:l.caParameters},r("ks-product-button",{icon:l.caIcon})):null):null),r("ks-product-brand",{slot:"brand"}))),n&&n?.image?r("ks-container",null,r("ks-content-info-banner",{productBanner:n})):null,i?.length>0||u?.length>0?r("ks-container",{padding:!0},i?.length>0&&!(u?.length>0)?r("ks-product-tags",null):null,u?.length>0?r("ks-product-variants",null):null):null,p?.length>0?r("ks-container",null,r("ks-product-tabs",{names:p.map((t=>t.name)).join(", ")},p.map(((t,n)=>r("ks-product-tab",{name:t.name,open:0==n,main:0==n,content:t.content,gspr:t.gspr}))))):null,e.get("reviewProducts")?.length>0?r("ks-container",null,r("ks-review-product",null)):null,i?.length>0&&u?.length>0?r("ks-container",{padding:!0},r("ks-product-tags",null)):null,d?r("ks-container",null,d.map((t=>r("ks-product-youtube",{"video-id":t})))):null,k?.length>0?[r("h3",null,f.similarHeading),r("ks-product-container",null,k.map((t=>r("ks-product-card",{product:t}))))]:null,m?.length>0?[r("h3",null,f.accessoriesHeading),r("ks-product-container",null,m.map((t=>r("ks-product-card",{product:t}))))]:null,y?r("ks-content-reviews",{content:y}):null)}};l.style="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";export{l as ks_page_product}