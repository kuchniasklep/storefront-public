import{r as n,B as t,h as l}from"./index-abcf82c7.js";import{e as r}from"./tracker-f8c9914d.js";import{p as o}from"./product-b9c018b1.js";import{p as e}from"./productDynamic-d372e04c.js";import{c as i}from"./commonDynamic-57975e8d.js";import"./index-0418a9fc.js";const a=class{constructor(t){n(this,t)}componentWillLoad(){const n=document.getElementById(this.productData),l=JSON.parse(n.innerHTML);if(Object.keys(l).map((n=>{o.set(n,l[n])})),this.setDefaultTrait(),t.isBrowser){const n=document.getElementById(this.productDynamicData),t=JSON.parse(n.innerHTML);Object.keys(t).map((n=>{e.set(n,t[n])})),setTimeout((()=>{e.set("loaded",!0)}),100),this.track()}}setDefaultTrait(){if(!(null==o?void 0:o.get("traits")))return;const n=o.get("traits").reduce(((n,t)=>n+"x"+t.id+"-"+t.items[0].id),"");o.set("traitIDs",n)}track(){var n,t;r((n=>null==n?void 0:n.product(o.state,e.get("eventId"))));const l=o.get("breadcrumbs");null===(n=window.dataLayer)||void 0===n||n.push({ecomm_prodid:o.get("id"),ecomm_pagetype:"product",ecomm_totalvalue:o.get("currentPrice")}),null===(t=window.dataLayer)||void 0===t||t.push({type:"product",name:o.get("currentPrice"),brand:o.get("brand").name,category:l[l.length-1].name,availability:o.get("shippingTime")})}render(){var n;if(!(null==o?void 0:o.get("name")))return!1;const t=o.get("infoBanner"),r=o.get("productBanner"),e=o.get("points"),a=o.get("recycle"),u=o.get("installments"),s=o.get("tags"),c=o.get("variants"),d=o.get("tabs"),p=o.get("youtube"),m=o.get("similar"),k=o.get("accessories"),g=o.get("model")||o.get("catalog"),v=o.get("ean"),b=o.get("reviewAverage");return l("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t?l("ks-info-banner",{image:t.image,color:t.color,width:t.width,height:t.height,name:t.name,link:t.link,theme:t.theme}):null,l("ks-container",null,l("ks-product-notify-edrone",null),l("ks-product-admin",null),l("ks-product-info",null,o.get("traits")?l("ks-product-traits",null):null,l("ks-product-purchase",null),l("ks-product-shipping",null),o.get("warranty")?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:o.get("warrantyLink")},o.get("warranty")):null,e?l("ks-product-tooltip",{message:e.message},l("ks-product-attribute",{icon:"gift"},e.shortMessage)):null,a?l("ks-product-tooltip",{message:a.message},l("ks-product-attribute",{icon:"recycle"},a.shortMessage)):null,(null==u?void 0:u.attributeMessage)?l("ks-product-attribute",{icon:"dollar-sign"},null==u?void 0:u.attributeMessage):null,g||v?l("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:!0},l("span",{style:{marginRight:"15px"}},g?l("span",{style:{marginRight:"7px"}},"Model: ",g," "):null,v?l("span",null,"EAN: ",v):null)):null,l("ks-product-history",{name:o.get("history"),productId:o.get("id"),api:i.get("api").productHistory}),l("div",{class:"buttons"},o.get("negotiateEnabled")?l("ks-product-negotiate",null,l("ks-product-button",null,o.get("negotiate").heading)):null,u.payuId&&u.payuKey||u.caParameters?l("ks-product-installments",{name:u.button},u.payuId&&u.payuKey?l("ks-product-calculator-payu",{price:o.get("currentPrice"),"pos-id":u.payuId,"api-key":u.payuKey},l("ks-product-button",{icon:u.payuIcon})):null,u.caParameters?l("ks-product-calculator-ca",{price:o.get("currentPrice"),parameters:u.caParameters},l("ks-product-button",{icon:u.caIcon})):null):null),l("ks-product-brand",{slot:"brand"}))),r&&(null==r?void 0:r.image)?l("ks-container",null,l("ks-info-banner",{image:r.image,color:r.color,width:r.width,height:r.height,name:r.name,link:r.link})):null,(null==s?void 0:s.length)>0||(null==c?void 0:c.length)>0?l("ks-container",{padding:!0},(null==s?void 0:s.length)>0&&!((null==c?void 0:c.length)>0)?l("ks-product-tags",null):null,(null==c?void 0:c.length)>0?l("ks-product-variants",null):null):null,(null==d?void 0:d.length)>0?l("ks-container",null,l("ks-product-tabs",{names:d.map((n=>n.name)).join(", ")},d.map(((n,t)=>l("ks-product-tab",{name:n.name,open:0==t,main:0==t,content:n.content}))))):null,(null===(n=o.get("reviewProducts"))||void 0===n?void 0:n.length)>0?l("ks-container",null,l("ks-review-product",null)):null,(null==s?void 0:s.length)>0&&(null==c?void 0:c.length)>0?l("ks-container",{padding:!0},l("ks-product-tags",null)):null,p?l("ks-container",null,p.map((n=>l("ks-product-youtube",{"video-id":n})))):null,(null==m?void 0:m.length)>0?[l("h3",null,o.get("similarHeading")),l("ks-product-container",null,m.map((n=>l("ks-product-card",{"product-id":n.id,link:n.link,name:n.name,img:n.image,webp:n.webp,"current-price":n.currentPrice,"previous-price":n.previousPrice,unavailable:n.unavailable}))))]:null,(null==k?void 0:k.length)>0?[l("h3",null,o.get("accessoriesHeading")),l("ks-product-container",null,k.map((n=>l("ks-product-card",{"product-id":n.id,link:n.link,name:n.name,img:n.image,webp:n.webp,"current-price":n.currentPrice,"previous-price":n.previousPrice,unavailable:n.unavailable}))))]:null,b?l("ks-review-average",{href:b.href,message:b.message,reviews:b.reviews,months:b.months,totalReviews:b.totalReviews,average:b.average,example:b.example}):null)}};a.style="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";export{a as ks_page_product}