import{r as t,h as n}from"./index-6e14abe0.js";import{e as o}from"./tracker-7fb8955b.js";import{p as r}from"./product-c9774035.js";import{p as l}from"./productDynamic-eaaa40fd.js";import{c as a}from"./commonDynamic-3300d49a.js";import"./index-a26ba0e6.js";const i=class{constructor(n){t(this,n)}componentWillLoad(){const t=document.getElementById(this.productData),n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{r.set(t,n[t])})),this.setDefaultTrait();{const t=document.getElementById(this.productDynamicData),n=JSON.parse(t.innerHTML);Object.keys(n).map((t=>{l.set(t,n[t])})),setTimeout((()=>{l.set("loaded",!0)}),100),this.track()}}setDefaultTrait(){if(!(null==r?void 0:r.get("traits")))return;const t=r.get("traits").reduce(((t,n)=>t+"x"+n.id+"-"+n.items[0].id),"");r.set("traitIDs",t)}track(){var t,n;o((t=>null==t?void 0:t.product(l.get("eventId"),r.get("id"),r.get("name"),parseFloat(r.get("currentPrice")),r.get("currency"))));const a=r.get("breadcrumbs");null===(t=window.dataLayer)||void 0===t||t.push({ecomm_prodid:r.get("id"),ecomm_pagetype:"product",ecomm_totalvalue:r.get("currentPrice")}),null===(n=window.dataLayer)||void 0===n||n.push({type:"product",name:r.get("currentPrice"),brand:r.get("brand").name,category:a[a.length-1].name,availability:r.get("shippingTime")})}render(){if(!(null==r?void 0:r.get("name")))return!1;const t=r.get("infoBanner"),o=r.get("productBanner"),l=r.get("points"),i=r.get("recycle"),e=r.get("installments"),u=r.get("tags"),s=r.get("variants"),c=r.get("tabs"),d=r.get("youtube"),p=r.get("similar"),m=r.get("accessories"),k=r.get("model")||r.get("catalog"),b=r.get("ean");return n("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t?n("ks-info-banner",{image:t.image,color:t.color,width:t.width,height:t.height,name:t.name,link:t.link,theme:t.theme}):null,n("ks-container",null,n("ks-product-notify",null),n("ks-product-admin",null),n("ks-product-info",null,r.get("traits")?n("ks-product-traits",null):null,n("ks-product-purchase",null),n("ks-product-shipping",null),r.get("warranty")?n("ks-product-attribute",{style:{marginTop:"15px"},icon:"tool",href:r.get("warrantyLink")},r.get("warranty")):null,l?n("ks-product-tooltip",{message:l.message},n("ks-product-attribute",{icon:"gift"},l.shortMessage)):null,i?n("ks-product-tooltip",{message:i.message},n("ks-product-attribute",{icon:"recycle"},i.shortMessage)):null,(null==e?void 0:e.attributeMessage)?n("ks-product-attribute",{icon:"dollar-sign"},null==e?void 0:e.attributeMessage):null,k||b?n("ks-product-attribute",{style:{marginTop:"15px"},icon:"file",faded:!0},n("span",{style:{marginRight:"15px"}},k?n("span",{style:{marginRight:"7px"}},"Model: ",k," "):null,b?n("span",null,"EAN: ",b):null)):null,n("ks-product-history",{name:r.get("history"),productId:r.get("id"),api:a.get("api").productHistory}),n("div",{class:"buttons"},r.get("negotiateEnabled")?n("ks-product-negotiate",null,n("ks-product-button",null,r.get("negotiate").heading)):null,e.payuId&&e.payuKey||e.caParameters?n("ks-product-installments",{name:e.button},e.payuId&&e.payuKey?n("ks-product-calculator-payu",{price:r.get("currentPrice"),"pos-id":e.payuId,"api-key":e.payuKey},n("ks-product-button",{icon:e.payuIcon})):null,e.caParameters?n("ks-product-calculator-ca",{price:r.get("currentPrice"),parameters:e.caParameters},n("ks-product-button",{icon:e.caIcon})):null):null),n("ks-product-brand",{slot:"brand"}))),o&&(null==o?void 0:o.image)?n("ks-container",null,n("ks-info-banner",{image:o.image,color:o.color,width:o.width,height:o.height,name:o.name,link:o.link})):null,(null==u?void 0:u.length)>0||(null==s?void 0:s.length)>0?n("ks-container",{padding:!0},(null==u?void 0:u.length)>0&&!((null==s?void 0:s.length)>0)?n("ks-product-tags",null):null,(null==s?void 0:s.length)>0?n("ks-product-variants",null):null):null,(null==c?void 0:c.length)>0?n("ks-container",null,n("ks-product-tabs",{names:c.map((t=>t.name)).join(", ")},c.map(((t,o)=>n("ks-product-tab",{name:t.name,open:0==o,main:0==o,content:t.content}))))):null,(null==u?void 0:u.length)>0&&(null==s?void 0:s.length)>0?n("ks-container",{padding:!0},n("ks-product-tags",null)):null,d?n("ks-container",null,d.map((t=>n("ks-product-youtube",{"video-id":t})))):null,n("ks-zaufane-product",{product:r.get("id"),token:"sf15070062a0416b2b0c3",customer:"150700"}),(null==p?void 0:p.length)>0?[n("h3",null,r.get("similarHeading")),n("ks-product-container",null,p.map((t=>n("ks-product-card",{"product-id":t.id,link:t.link,name:t.name,img:t.image,webp:t.webp,"current-price":t.currentPrice,"previous-price":t.previousPrice,unavailable:t.unavailable}))))]:null,(null==m?void 0:m.length)>0?[n("h3",null,r.get("accessoriesHeading")),n("ks-product-container",null,m.map((t=>n("ks-product-card",{"product-id":t.id,link:t.link,name:t.name,img:t.image,webp:t.webp,"current-price":t.currentPrice,"previous-price":t.previousPrice,unavailable:t.unavailable}))))]:null,n("ks-zaufane",{listing:!0,nobg:!0,token:"sf15070062863aac5f8ea",customer:"150700"}))}};i.style="ks-page-product>ks-page-base>h3{text-align:center;margin-top:15px}ks-page-product>ks-page-base>ks-product-container{margin-bottom:15px}";export{i as ks_page_product}