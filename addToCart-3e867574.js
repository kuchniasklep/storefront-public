import{c as a}from"./commonDynamic-5e51121d.js";import{F as o}from"./fetch-7fa5b910.js";import{D as s}from"./dataLayer-f4645c14.js";import{C as c}from"./inpost-pay-5cd9b620.js";async function r(r,t=1){const e=document.querySelector("ks-error-popup"),n=document.querySelector("ks-message-popup"),m=document.querySelector("ks-navbar");let d=new FormData;d.append("id",r.id),d.append("ilosc",r.quantity.toString()),d.append("nazwa",r.name),d.append("value",r.currentPrice.toString()),d.append("cechy",r.traitIDs),d.append("akcja","dodaj"),d.append("miejsce",t.toString());const p=a.get("api").addToCart;return o(p,d).then((async a=>a.json())).then((async a=>{var o,t;a.status?(m.IncrementCart(r.quantity.toString()),o=r.id,t=r.name,document.querySelector("ks-product-suggestions").show(o,t),s.addToCart(r,a.event),c(r.id)):a.productLink?n.show("Wymagany wybór cechy",a.message,"Przejdź do produktu",r.link):n.show("Błąd dodawania produktu",a.message)})).catch((a=>{e.show(a)}))}export{r as a}