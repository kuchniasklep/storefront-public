{"version":3,"names":["filteringCss","Filtering","submit","e","preventDefault","inputs","this","root","querySelectorAll","data","Object","forEach","input","value","name","url","baseUrl","window","location","href","render","strings","common","get","Build","isBrowser","h","Host","narrow","muted","border","filter","left","icon","onClick","querySelector","show","class","filteringHeader","method","action","type","query","filters","map","items","length","active","item","text","content","color","values","snap","steps","from","to","link","filteringClear","secondary","filteringSubmit","listingFooterCss","ListingFooter","description","innerHTML","sortingCss","Sorting","post","style","margin","toggle","sorting","current","sort","sortingRecommended","size","sortingPopular","sortingNewest","sortingCheapest","sortingExpensive","componentDidLoad","form","toString","enabled","disable","contains","target"],"sources":["src/components/listing/navigation/filtering.css?tag=ks-filtering","src/components/listing/navigation/filtering.tsx","src/components/listing/listing-footer.css?tag=ks-listing-footer","src/components/listing/listing-footer.tsx","src/components/listing/navigation/sorting.css?tag=ks-sorting","src/components/listing/navigation/sorting.tsx"],"sourcesContent":["ks-filtering {\n    display: block;\n}\n\nks-filtering > ks-button {\n    background-color: white;\n}\n\n\nks-filtering .heading {\n    display: block;\n    margin-bottom: 30px;\n\n    font-size: 1.3rem;\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n}\n\nks-filtering .clear {\n    margin: 30px 0 5px 0;\n}","import { Component, h, Prop, Element, Build, Host } from '@stencil/core';\nimport { common } from '../../../global/data/common';\nimport { ListingFilterData, ListingFilterCheckboxData, ListingFilterSliderData } from '../../../global/data/listing';\n\n@Component({\n    tag: 'ks-filtering',\n    styleUrl: 'filtering.css'\n})\nexport class Filtering {\n    @Element() root: HTMLElement;\n    @Prop() baseUrl: string;\n    @Prop() query: string;\n    @Prop() filters: ListingFilterData[];\n\n    submit(e: Event) {\n        e.preventDefault();\n        const inputs = this.root.querySelectorAll(\"form input\") as NodeListOf<HTMLInputElement>;\n\n        let data = new Object();\n\n        inputs.forEach(input => {\n            if(input.value == \"\" || input.name == \"\") return;\n\n            if(input.name in data)\n                data[input.name] += `-${input.value}`;\n            else data[input.name] = input.value;\n        });\n\n        let url = this.baseUrl;\n        for (const name in data) {\n            url += `/${name}=${data[name]}`;\n        }\n\n        window.location.href = url;\n        return false;\n    }\n\n    render() {\n        const strings = common.get('translations');\n\n        if (!Build.isBrowser)\n            return <Host/>;\n\n        \n\n        return[\n            <ks-button narrow muted border name={strings.filter} left icon=\"filter\"\n                onClick={()=>this.root.querySelector('ks-sidepanel').show()}\n            />,\n            <ks-sidepanel left>\n                <span class=\"heading\">{strings.filteringHeader}</span>\n\n                <form method=\"POST\" action={this.baseUrl}>\n                    <input type=\"hidden\" name=\"postget\" value=\"tak\" />\n                    \n                    {this.query ? \n                        <input type=\"hidden\" name=\"szukaj\" value={this.query} />\n                    : null}\n\n                    {this.filters.map(filter => filter?.items.length > 0 ?\n                        <ks-filter name={filter.name} active={filter.active}>\n\n                            {filter.items.map(item => {\n                                if(filter.type == \"checkbox\") {\n                                    item = item as ListingFilterCheckboxData;\n                                    return <ks-filter-checkbox active={item.active} name={item.name} value={item.value} text={item.content} />\n                                }\n\n                                if(filter.type == \"color\") {\n                                    item = item as ListingFilterCheckboxData;\n                                    return <ks-filter-color active={item.active} name={item.name} value={item.value} color={item.content} />\n                                }\n                                \n                                if(filter.type == \"slider\") {\n                                    item = item as ListingFilterSliderData;\n                                    return <ks-filter-slider name={item.name} values={item.values} snap={item.snap}\n                                                steps={item.steps} from={item.from} to={item.to} />;\n                                }\n\n                                return null;\n                            })}\n\n                        </ks-filter>\n                    : null)}\n\n                    <ks-button class=\"clear\" border link={this.baseUrl} name={strings.filteringClear}/>\n                    <ks-button submit secondary name={strings.filteringSubmit}/>\n                </form>\n            </ks-sidepanel>\n        ];\n    }\n}","ks-listing-footer {\n    display: block;\n    position: relative;\n    z-index: 1;\n    padding: 15px;\n\n    box-shadow: var(--card-shadow);\n    background-color: white;\n    text-align: center;\n    font-size: 0.875rem;\n}\n\nks-listing-footer > *:not([slot=tags]) {\n    max-width: 1200px;\n    margin: 15px auto 15px auto;\n    padding: 0 15px;\n\n    line-height: 1.5;\n}\n\nks-listing-footer *[slot=tags] {\n    max-width: 1200px;\n    margin: auto;\n}\n\nks-listing-footer *[slot=tags] > * {\n    display: inline-block;\n    padding: 3px 10px;\n    margin: 2px;\n    margin-bottom: 3px;\n    line-height: 1.5;\n    background: #222222;\n    color: #ffffff !important;\n\n    vertical-align: middle;\n    white-space: nowrap;\n    border-radius: 2px;\n\n    text-decoration: none !important;\n}","import { Component, h, Prop } from '@stencil/core';\n\n@Component({\n    tag: 'ks-listing-footer',\n    styleUrl: 'listing-footer.css'\n})\nexport class ListingFooter {\n    @Prop() description: string;\n\n    render() {\n        return[\n            this.description ? <div innerHTML={this.description}/> : null,\n            <slot name=\"tags\"/>,\n            <slot name=\"comments\"/>\n        ];\n    }\n}","ks-sorting {\n    display: block;\n    position: relative;\n}\n\nks-sorting ks-button {\n    background-color: white;\n}\n\nks-sorting .dropdown {\n    display: none;\n    position: absolute;\n    z-index: 1020;\n\n    box-sizing: border-box;\n    min-width: 200px;\n    padding: 10px 0;\n    margin-top: 8px;\n\n    background: #fff;\n    color: #373737;\n    box-shadow: 0 5px 20px rgb(0 0 0 / 20%);\n}\n\nks-sorting[enabled] .dropdown {\n    display: block;\n}\n\nks-sorting a {\n    display: block;\n    position: relative;\n\n    color: var(--color-dark);\n    text-decoration: none !important;\n\n    font-size: 15px;\n    line-height: 15px;\n    padding: 11px 15px;\n}\n\nks-sorting a.active {\n    background-color: #f2f2f2;\n}\n\nks-sorting a:hover { color: var(--color-dark-hover); }\nks-sorting a:active { color: var(--color-dark-active); }\n\nks-sorting a ks-icon {\n    position: absolute;\n    right: 13px;\n    top: 8px;\n}\n\nks-sorting hr {\n    overflow: visible;\n    margin: 10px 0;\n    border: 0;\n    border-top: 1px solid #e5e5e5;\n}","import { Component, h, Prop, Listen, Element } from '@stencil/core';\nimport { common } from '../../../global/data/common';\n\n@Component({\n    tag: 'ks-sorting',\n    styleUrl: 'sorting.css'\n})\nexport class Sorting {\n\n    @Element() root: HTMLElement;\n    @Prop() post: string;\n    @Prop() current: number;\n\n    @Prop({reflect: true, mutable: true}) enabled: boolean = false;\n\n    render() {\n        const strings = common.get('translations');\n\n        return(\n            <div>\n                <form action={this.post} method=\"post\" style={{margin: \"0\"}}>\n                    <input type=\"hidden\" name=\"sortowanie\" value=\"0\"></input>\n                </form>\n\n                <ks-button onClick={()=>this.toggle()} narrow muted border name={strings.sorting} icon=\"shuffle\"/>\n                <div class=\"dropdown\">\n                    <a class={this.current == 1 ? \"active\" : null} onClick={()=> this.sort(1)}>{strings.sortingRecommended} <ks-icon name=\"check\" size={0.9}/></a>\n                    <a class={this.current == 2 ? \"active\" : null} onClick={()=> this.sort(2)}>{strings.sortingPopular} <ks-icon name=\"users\" size={0.9}/></a>\n                    <a class={this.current == 3 ? \"active\" : null} onClick={()=> this.sort(3)}>{strings.sortingNewest} <ks-icon name=\"clock\" size={0.9}/></a>\n                    <hr/>\n                    <a class={this.current == 4 ? \"active\" : null} onClick={()=> this.sort(4)}>{strings.sortingCheapest} <ks-icon name=\"plus-circle\" size={0.9}/></a>\n                    <a class={this.current == 5 ? \"active\" : null} onClick={()=> this.sort(5)}>{strings.sortingExpensive} <ks-icon name=\"minus-circle\" size={0.9}/></a>\n                </div>\n            </div>\n        );\n    }\n\n    form: HTMLFormElement;\n    input: HTMLInputElement;\n\n    componentDidLoad() {\n        this.form = this.root.querySelector(\"form\");\n        this.input = this.form.querySelector(\"input\");\n    }\n\n    sort(value: number){\n        this.input.value = value.toString();\n        this.form.submit();\n    }\n\n    toggle(){\n        this.enabled = !this.enabled;\n    }\n\n    @Listen(\"click\", {target: \"window\"})\n    disable(e: Event){\n        if(!this.root.contains(e.target as HTMLElement))\n            this.enabled = false;\n    }\n}"],"mappings":"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"}