{"version":3,"file":"fetch-H5Atuhfj.system.js","sources":["src/global/functions/fetch.ts"],"sourcesContent":["export default async function Fetch(url: string, body: BodyInit = null) {\n    const headers = new Headers();\n    headers.append('pragma', 'no-cache');\n    headers.append('cache-control', 'no-cache');\n\n    return fetch(url, {\n        method: 'POST',\n        body: body,\n        headers: headers,\n        credentials: \"same-origin\"\n    })\n    .then(response => {\n        if(!response.ok) throw {name : response.status, message : response.statusText}\n        return response;\n    });\n}\n\nexport async function formfetch(url: string, formProperties?: {[index: string]: string}, signal?: any) {\n    let body = null;\n    \n    if(formProperties) {\n        body = new FormData();\n        Object.entries(formProperties).forEach(([key, value])=>{\n            body.append(key, value);\n        });\n    }\n\n    return internalfetch(url, body, signal);\n}\n\nexport async function jsonfetch(url: string, data?: any, signal?: any) {\n    return internalfetch(url, JSON.stringify(data), signal);\n}\n\nasync function internalfetch(url: string, body?: any, signal?: any) {\n    const headers = new Headers();\n    headers.append('pragma', 'no-cache');\n    headers.append('cache-control', 'no-cache');\n\n    return fetch(url, {\n        signal: signal,\n        method: 'POST',\n        body: body,\n        headers: headers,\n        credentials: \"same-origin\"\n    }).then(response => {\n        if(!response.ok) throw {name : response.status, message : response.statusText}\n        return response;\n    });\n}"],"names":[],"mappings":";;;;;;;;;;;YAAe,eAAe,KAAK,CAAC,GAAW,EAAE,IAAA,GAAiB,IAAI,EAAA;YAClE,IAAA,MAAM,OAAO,GAAG,IAAI,OAAO,EAAE;YAC7B,IAAA,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,CAAC;YACpC,IAAA,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;gBAE3C,OAAO,KAAK,CAAC,GAAG,EAAE;YACd,QAAA,MAAM,EAAE,MAAM;YACd,QAAA,IAAI,EAAE,IAAI;YACV,QAAA,OAAO,EAAE,OAAO;YAChB,QAAA,WAAW,EAAE;iBAChB;qBACA,IAAI,CAAC,QAAQ,IAAG;oBACb,IAAG,CAAC,QAAQ,CAAC,EAAE;YAAE,YAAA,MAAM,EAAC,IAAI,EAAG,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAG,QAAQ,CAAC,UAAU,EAAC;YAC9E,QAAA,OAAO,QAAQ;YACnB,KAAC,CAAC;YACN;YAEO,eAAe,SAAS,CAAC,GAAW,EAAE,cAA0C,EAAE,MAAY,EAAA;gBACjG,IAAI,IAAI,GAAG,IAAI;gBAEf,IAAG,cAAc,EAAE;YACf,QAAA,IAAI,GAAG,IAAI,QAAQ,EAAE;YACrB,QAAA,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAG;YACnD,YAAA,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC;YAC3B,SAAC,CAAC;;gBAGN,OAAO,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC;YAC3C;YAEO,eAAe,SAAS,CAAC,GAAW,EAAE,IAAU,EAAE,MAAY,EAAA;YACjE,IAAA,OAAO,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC;YAC3D;YAEA,eAAe,aAAa,CAAC,GAAW,EAAE,IAAU,EAAE,MAAY,EAAA;YAC9D,IAAA,MAAM,OAAO,GAAG,IAAI,OAAO,EAAE;YAC7B,IAAA,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,CAAC;YACpC,IAAA,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;gBAE3C,OAAO,KAAK,CAAC,GAAG,EAAE;YACd,QAAA,MAAM,EAAE,MAAM;YACd,QAAA,MAAM,EAAE,MAAM;YACd,QAAA,IAAI,EAAE,IAAI;YACV,QAAA,OAAO,EAAE,OAAO;YAChB,QAAA,WAAW,EAAE;YAChB,KAAA,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAG;oBACf,IAAG,CAAC,QAAQ,CAAC,EAAE;YAAE,YAAA,MAAM,EAAC,IAAI,EAAG,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAG,QAAQ,CAAC,UAAU,EAAC;YAC9E,QAAA,OAAO,QAAQ;YACnB,KAAC,CAAC;YACN;;;;;;;;"}