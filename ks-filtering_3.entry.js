import{r as t,B as i,h as s,g as o,H as e}from"./index-1b90b4d2.js";import{c as n}from"./common-46fdf31d.js";import"./index-33fbe4a7.js";const r="ks-filtering{display:block}ks-filtering>ks-button{background-color:white}ks-filtering .heading{display:block;margin-bottom:30px;font-size:1.3rem;font-family:var(--font-emphasis);font-weight:700}ks-filtering .clear{margin:30px 0 5px 0}";const a=class{constructor(i){t(this,i);this.baseUrl=undefined;this.query=undefined;this.filters=undefined}submit(t){t.preventDefault();const i=this.root.querySelectorAll("form input");let s=new Object;i.forEach((t=>{if(t.value==""||t.name=="")return;if(t.name in s)s[t.name]+=`-${t.value}`;else s[t.name]=t.value}));let o=this.baseUrl;for(const t in s){o+=`/${t}=${s[t]}`}window.location.href=o;return false}render(){const t=n.get("translations");if(!i.isBrowser)return s(e,null);return[s("ks-button",{narrow:true,muted:true,border:true,name:t.filter,left:true,icon:"filter",onClick:()=>this.root.querySelector("ks-sidepanel").show()}),s("ks-sidepanel",{left:true},s("span",{class:"heading"},t.filteringHeader),s("form",{method:"POST",action:this.baseUrl},s("input",{type:"hidden",name:"postget",value:"tak"}),this.query?s("input",{type:"hidden",name:"szukaj",value:this.query}):null,this.filters.map((t=>(t===null||t===void 0?void 0:t.items.length)>0?s("ks-filter",{name:t.name,active:t.active},t.items.map((i=>{if(t.type=="checkbox"){i=i;return s("ks-filter-checkbox",{active:i.active,name:i.name,value:i.value,text:i.content})}if(t.type=="color"){i=i;return s("ks-filter-color",{active:i.active,name:i.name,value:i.value,color:i.content})}if(t.type=="slider"){i=i;return s("ks-filter-slider",{name:i.name,values:i.values,snap:i.snap,steps:i.steps,from:i.from,to:i.to})}return null}))):null)),s("ks-button",{class:"clear",border:true,link:this.baseUrl,name:t.filteringClear}),s("ks-button",{submit:true,secondary:true,name:t.filteringSubmit})))]}get root(){return o(this)}};a.style=r;const l="ks-listing-footer{display:block;position:relative;z-index:1;padding:15px;-webkit-box-shadow:var(--card-shadow);box-shadow:var(--card-shadow);background-color:white;text-align:center;font-size:0.875rem}ks-listing-footer>*:not([slot=tags]){max-width:1200px;margin:15px auto 15px auto;padding:0 15px;line-height:1.5}ks-listing-footer *[slot=tags]{max-width:1200px;margin:auto}ks-listing-footer *[slot=tags]>*{display:inline-block;padding:3px 10px;margin:2px;margin-bottom:3px;line-height:1.5;background:#222222;color:#ffffff !important;vertical-align:middle;white-space:nowrap;border-radius:2px;text-decoration:none !important}";const c=class{constructor(i){t(this,i);this.description=undefined}render(){return[this.description?s("div",{innerHTML:this.description}):null,s("slot",{name:"tags"}),s("slot",{name:"comments"})]}};c.style=l;const d="ks-sorting{display:block;position:relative}ks-sorting ks-button{background-color:white}ks-sorting .dropdown{display:none;position:absolute;z-index:1020;-webkit-box-sizing:border-box;box-sizing:border-box;min-width:200px;padding:10px 0;margin-top:8px;background:#fff;color:#373737;-webkit-box-shadow:0 5px 20px rgb(0 0 0 / 20%);box-shadow:0 5px 20px rgb(0 0 0 / 20%)}ks-sorting[enabled] .dropdown{display:block}ks-sorting a{display:block;position:relative;color:var(--color-dark);text-decoration:none !important;font-size:15px;line-height:15px;padding:11px 15px}ks-sorting a.active{background-color:#f2f2f2}ks-sorting a:hover{color:var(--color-dark-hover)}ks-sorting a:active{color:var(--color-dark-active)}ks-sorting a ks-icon{position:absolute;right:13px;top:8px}ks-sorting hr{overflow:visible;margin:10px 0;border:0;border-top:1px solid #e5e5e5}";const u=class{constructor(i){t(this,i);this.post=undefined;this.current=undefined;this.enabled=false}render(){const t=n.get("translations");return s("div",null,s("form",{action:this.post,method:"post",style:{margin:"0"}},s("input",{type:"hidden",name:"sortowanie",value:"0"})),s("ks-button",{onClick:()=>this.toggle(),narrow:true,muted:true,border:true,name:t.sorting,icon:"shuffle"}),s("div",{class:"dropdown"},s("a",{class:this.current==1?"active":null,onClick:()=>this.sort(1)},t.sortingRecommended," ",s("ks-icon",{name:"check",size:.9})),s("a",{class:this.current==2?"active":null,onClick:()=>this.sort(2)},t.sortingPopular," ",s("ks-icon",{name:"users",size:.9})),s("a",{class:this.current==3?"active":null,onClick:()=>this.sort(3)},t.sortingNewest," ",s("ks-icon",{name:"clock",size:.9})),s("hr",null),s("a",{class:this.current==4?"active":null,onClick:()=>this.sort(4)},t.sortingCheapest," ",s("ks-icon",{name:"plus-circle",size:.9})),s("a",{class:this.current==5?"active":null,onClick:()=>this.sort(5)},t.sortingExpensive," ",s("ks-icon",{name:"minus-circle",size:.9}))))}componentDidLoad(){this.form=this.root.querySelector("form");this.input=this.form.querySelector("input")}sort(t){this.input.value=t.toString();this.form.submit()}toggle(){this.enabled=!this.enabled}disable(t){if(!this.root.contains(t.target))this.enabled=false}get root(){return o(this)}};u.style=d;export{a as ks_filtering,c as ks_listing_footer,u as ks_sorting};
//# sourceMappingURL=ks-filtering_3.entry.js.map