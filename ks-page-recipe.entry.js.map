{"version":3,"names":["recipe","createStore","recipeCss","PageRecipe","componentWillLoad","recipeDataElement","document","getElementById","this","recipeData","JSON","parse","innerHTML","Object","keys","map","key","set","track","DataLayer","state","render","nutrition","get","h","skipbase","commonData","commonDynamicData","class","image","time","yield","cuisine","category","slot","type","value","calories","fats","saturatedFats","sugars","salt","protein","carbohydrates","_a","ingredient","name","amount","_b","section","steps","join","_c","length","_d","card","product"],"sources":["src/global/data/recipe.ts","src/components/pages/recipe/recipe.css?tag=ks-page-recipe","src/components/pages/recipe/recipe.tsx"],"sourcesContent":["import { createStore } from \"@stencil/store\";\nimport { ProductCardData } from \"./listing\";\n\nexport const recipe = createStore({} as RecipeData);\n\nexport interface RecipeData {\n    title: string;\n    summary: string;\n    image: string;\n    time: string;\n    yield: string;\n\n    category: string;\n    categoryLink: string;\n    cuisine: string;\n    cuisineLink: string;\n\n    nutrition: RecipeNutritionData;\n    ingredients: RecipeIngredientData[];\n    preparation: RecipePreparationSectionData[];\n\n    suggestions: ProductCardData[];\n}\n\nexport interface RecipeNutritionData {\n    calories: string;\n    fats: string;\n    saturatedFats: string;\n    sugars: string;\n    salt: string;\n    protein: string;\n    carbohydrates: string;\n}\n\n\nexport interface RecipeIngredientData {\n    name: string;\n    amount: string;\n}\n\nexport interface RecipePreparationSectionData {\n    name: string;\n    steps: string[];\n}","ks-page-recipe {\n    display: block;\n}\n\nks-page-recipe .recipe-container {\n    background: #fff;\n    color: #373737;\n    box-shadow: 0 2px 8px rgb(0 0 0 / 15%);\n    margin-bottom: 0;\n}\n\nks-page-recipe .suggested-heading{\n    text-align: center;\n    margin-top: 20px !important;\n    font-weight: 700;\n}\n\nks-page-recipe ks-product-container {\n    margin-bottom: 15px !important;\n}","import { Component, h, Prop } from '@stencil/core';\nimport { recipe, RecipeData } from \"../../../global/data/recipe\";\nimport { DataLayer } from '../../../global/dataLayer';\n\ndeclare global { interface Window { dataLayer: any[] }}\n\n@Component({\n    tag: 'ks-page-recipe',\n    styleUrl: 'recipe.css'\n})\nexport class PageRecipe{\n    @Prop() skipbase: boolean;\n    @Prop() commonData: string;\n    @Prop() commonDynamicData: string;\n\n    @Prop() recipeData: string;\n\n    componentWillLoad() {\n        const recipeDataElement = document.getElementById(this.recipeData);\n\t\tconst recipeData = JSON.parse(recipeDataElement.innerHTML) as RecipeData;\n\n        Object.keys(recipeData).map(key => {\n\t\t\trecipe.set(key as keyof RecipeData, recipeData[key]);\n\t\t});\n\n        this.track();\n    }\n\n    track() {\n        DataLayer.recipe(recipe.state);\n    }\n\n\trender() {\n        const nutrition = recipe.get('nutrition');\n\n\t\treturn <ks-page-base skipbase={this.skipbase} commonData={this.commonData} commonDynamicData={this.commonDynamicData}>\n            <ks-container>\n                <div class=\"recipe-container\">\n                    <ks-recipe-info\n                        image={recipe.get('image')}\n                        time={recipe.get('time')}\n                        yield={recipe.get('yield')}\n\n                        cuisine={recipe.get('cuisine')}\n                        cuisine-link={recipe.get('cuisineLink')}\n\n                        category={recipe.get('category')}\n                        category-link={recipe.get('categoryLink')}\n                    >\n                        <h1 slot=\"heading\">{recipe.get('title')}</h1>\n                        <p slot=\"summary\">{recipe.get('summary')}</p>\n\n                        <ks-recipe-nutrition type='kalorie' value={nutrition.calories} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='tłuszcze' value={nutrition.fats} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='nasycone' value={nutrition.saturatedFats} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='cukry' value={nutrition.sugars} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='sól' value={nutrition.salt} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='białka' value={nutrition.protein} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='węglowodany' value={nutrition.carbohydrates} slot='nutrition'></ks-recipe-nutrition>\n\n                    </ks-recipe-info>\n                    <ks-recipe-procedure>\n                        {recipe?.get(\"ingredients\")?.map(ingredient => \n                            <ks-recipe-ingredient name={ingredient.name} amount={ingredient.amount} slot='ingredients'></ks-recipe-ingredient>    \n                        )}\n\n                        {recipe?.get(\"preparation\")?.map(section => [\n                            <h2 slot='preparation'>{section.name}</h2>,\n                            <p slot='preparation'>\n                                {section?.steps?.join(' ')}\n                            </p>\n                        ])}\n                    </ks-recipe-procedure>\n                </div>\n            </ks-container>\n\n            {recipe?.get('suggestions')?.length > 0 ? [\n                <h3 class=\"suggested-heading\">Produkty Polecane</h3>,\n                <ks-product-container>\n                    {recipe?.get('suggestions')?.map(card =>\n                        <ks-product-card product={card}/>\n                    )}\n\n                </ks-product-container>\n            ] : null}\n\n        </ks-page-base>;\n\t}\n}\n"],"mappings":"mMAGO,MAAMA,EAASC,EAAY,ICHlC,MAAMC,EAAY,oW,MCULC,EAAU,M,sIAOnBC,oBACI,MAAMC,EAAoBC,SAASC,eAAeC,KAAKC,YAC7D,MAAMA,EAAaC,KAAKC,MAAMN,EAAkBO,WAE1CC,OAAOC,KAAKL,GAAYM,KAAIC,IACjChB,EAAOiB,IAAID,EAAyBP,EAAWO,GAAK,IAG/CR,KAAKU,O,CAGTA,QACIC,EAAUnB,OAAOA,EAAOoB,M,CAG/BC,S,YACO,MAAMC,EAAYtB,EAAOuB,IAAI,aAEnC,OAAOC,EAAA,gBAAcC,SAAUjB,KAAKiB,SAAUC,WAAYlB,KAAKkB,WAAYC,kBAAmBnB,KAAKmB,mBACzFH,EAAA,oBACIA,EAAA,OAAKI,MAAM,oBACPJ,EAAA,kBACIK,MAAO7B,EAAOuB,IAAI,SAClBO,KAAM9B,EAAOuB,IAAI,QACjBQ,MAAO/B,EAAOuB,IAAI,SAElBS,QAAShC,EAAOuB,IAAI,WAAU,eAChBvB,EAAOuB,IAAI,eAEzBU,SAAUjC,EAAOuB,IAAI,YAAW,gBACjBvB,EAAOuB,IAAI,iBAE1BC,EAAA,MAAIU,KAAK,WAAWlC,EAAOuB,IAAI,UAC/BC,EAAA,KAAGU,KAAK,WAAWlC,EAAOuB,IAAI,YAE9BC,EAAA,uBAAqBW,KAAK,UAAUC,MAAOd,EAAUe,SAAUH,KAAK,cACpEV,EAAA,uBAAqBW,KAAK,WAAWC,MAAOd,EAAUgB,KAAMJ,KAAK,cACjEV,EAAA,uBAAqBW,KAAK,WAAWC,MAAOd,EAAUiB,cAAeL,KAAK,cAC1EV,EAAA,uBAAqBW,KAAK,QAAQC,MAAOd,EAAUkB,OAAQN,KAAK,cAChEV,EAAA,uBAAqBW,KAAK,MAAMC,MAAOd,EAAUmB,KAAMP,KAAK,cAC5DV,EAAA,uBAAqBW,KAAK,SAASC,MAAOd,EAAUoB,QAASR,KAAK,cAClEV,EAAA,uBAAqBW,KAAK,cAAcC,MAAOd,EAAUqB,cAAeT,KAAK,eAGjFV,EAAA,4BACKoB,EAAA5C,IAAM,MAANA,SAAM,SAANA,EAAQuB,IAAI,kBAAc,MAAAqB,SAAA,S,EAAE7B,KAAI8B,GAC7BrB,EAAA,wBAAsBsB,KAAMD,EAAWC,KAAMC,OAAQF,EAAWE,OAAQb,KAAK,mBAGhFc,EAAAhD,IAAM,MAANA,SAAM,SAANA,EAAQuB,IAAI,kBAAc,MAAAyB,SAAA,S,EAAEjC,KAAIkC,I,MAAW,OACxCzB,EAAA,MAAIU,KAAK,eAAee,EAAQH,MAChCtB,EAAA,KAAGU,KAAK,gBACHU,EAAAK,IAAO,MAAPA,SAAO,SAAPA,EAASC,SAAK,MAAAN,SAAA,SAAAA,EAAEO,KAAK,MAE7B,SAKZC,EAAApD,IAAM,MAANA,SAAM,SAANA,EAAQuB,IAAI,kBAAc,MAAA6B,SAAA,SAAAA,EAAEC,QAAS,EAAI,CACtC7B,EAAA,MAAII,MAAM,qBAAmB,qBAC7BJ,EAAA,6BACK8B,EAAAtD,IAAM,MAANA,SAAM,SAANA,EAAQuB,IAAI,kBAAc,MAAA+B,SAAA,SAAAA,EAAEvC,KAAIwC,GAC7B/B,EAAA,mBAAiBgC,QAASD,QAIlC,K"}