{"version":3,"names":["orderDocumentSelectCss","OrderDocumentSelect","exports","class_1","hostRef","this","value","prototype","change","_this","form","FormData","append","headers","Headers","loading","fetch","api","method","body","credentials","then","Validate","IsValid","render","h","Host","key","chooseSaleDocument","class","active","text","receipt","name","changeHandler","invoice","dark"],"sources":["src/components/order/confirmation/orderDocumentSelect.css?tag=ks-order-document-select","src/components/order/confirmation/orderDocumentSelect.tsx"],"sourcesContent":["ks-order-document-select {\n    display: block;\n}\n\nks-order-document-select .toggles {\n    display: flex;\n    position: relative !important;\n    margin-top: 10px !important;\n}\n\nks-order-document-select .toggles > ks-order-toggle {\n    width: 50%;\n    box-sizing: border-box;\n}\n\nks-order-document-select[loading] .toggles {\n    opacity: 0.3;\n    pointer-events: none;\n}","import { Component, h, Prop, Element, Method, Host } from '@stencil/core';\n\n@Component({\n  tag: 'ks-order-document-select',\n  styleUrl: 'orderDocumentSelect.css'\n})\nexport class OrderDocumentSelect {\n\n    @Element() root: HTMLElement;\n    @Prop() name: string;\n    @Prop() api: string;\n    @Prop({mutable: true}) value: string = \"0\";\n\n    @Prop() chooseSaleDocument: string;\n    @Prop() receipt: string;\n    @Prop() invoice: string;\n\n    @Prop({reflect: true, mutable: true}) loading: boolean;\n\n    change(value: string) {\n        this.value = value;\n\n        const form = new FormData();\n        form.append(\"value\", value);\n\n        var headers = new Headers();\n        headers.append('pragma', 'no-cache');\n        headers.append('cache-control', 'no-cache');\n\n        this.loading = true;\n\n        fetch(this.api, {\n            method: 'POST',\n            headers: headers,\n            body: form,\n            credentials: \"same-origin\"\n        }).then(()=>this.loading=false);\n    }\n\n    @Method()\n    async Validate() {}\n\n    @Method()\n    async IsValid() {\n        return !this.loading;\n    }\n\n    render() {\n        return <Host>\n            <span>{this.chooseSaleDocument}</span>\n\n            <div class=\"toggles\">\n                <ks-order-toggle active={this.value == \"0\"} text={this.receipt} name={this.name} value=\"0\"\n                    changeHandler={(value)=>this.change(value)}\n                />\n                <ks-order-toggle active={this.value == \"1\"} text={this.invoice} name={this.name} value=\"1\"\n                    changeHandler={(value)=>this.change(value)}\n                />\n\n                {this.loading && <ks-loader dark />}\n            </div>\n        </Host>;\n    }\n}"],"mappings":"4mDAAA,IAAMA,EAAyB,gW,ICMlBC,EAAmBC,EAAA,sCAJhC,SAAAC,EAAAC,G,UAS2BC,KAAKC,MAAW,GAoD1C,CA5CGH,EAAAI,UAAAC,OAAA,SAAOF,GAAP,IAAAG,EAAAJ,KACIA,KAAKC,MAAQA,EAEb,IAAMI,EAAO,IAAIC,SACjBD,EAAKE,OAAO,QAASN,GAErB,IAAIO,EAAU,IAAIC,QAClBD,EAAQD,OAAO,SAAU,YACzBC,EAAQD,OAAO,gBAAiB,YAEhCP,KAAKU,QAAU,KAEfC,MAAMX,KAAKY,IAAK,CACZC,OAAQ,OACRL,QAASA,EACTM,KAAMT,EACNU,YAAa,gBACdC,MAAK,WAAI,OAAAZ,EAAKM,QAAQ,KAAb,G,EAIVZ,EAAAI,UAAAe,SAAN,W,sGAGMnB,EAAAI,UAAAgB,QAAN,W,qFACI,UAAQlB,KAAKU,Q,QAGjBZ,EAAAI,UAAAiB,OAAA,eAAAf,EAAAJ,KACI,OAAOoB,EAACC,EAAI,CAAAC,IAAA,4CACRF,EAAO,QAAAE,IAAA,4CAAAtB,KAAKuB,oBAEZH,EAAK,OAAAE,IAAA,2CAAAE,MAAM,WACPJ,EAAA,mBAAAE,IAAA,2CAAiBG,OAAQzB,KAAKC,OAAS,IAAKyB,KAAM1B,KAAK2B,QAASC,KAAM5B,KAAK4B,KAAM3B,MAAM,IACnF4B,cAAe,SAAC5B,GAAQ,OAAAG,EAAKD,OAAOF,EAAZ,IAE5BmB,EAAA,mBAAAE,IAAA,2CAAiBG,OAAQzB,KAAKC,OAAS,IAAKyB,KAAM1B,KAAK8B,QAASF,KAAM5B,KAAK4B,KAAM3B,MAAM,IACnF4B,cAAe,SAAC5B,GAAQ,OAAAG,EAAKD,OAAOF,EAAZ,IAG3BD,KAAKU,SAAWU,EAAA,aAAAE,IAAA,2CAAWS,KAAO,Q,yHArDnB,I","ignoreList":[]}