import{r as e,h as t}from"./index-1b90b4d2.js";import{c as s}from"./index-33fbe4a7.js";import{F as r}from"./fetch-13200e62.js";const n=s({eventId:"",heading:"",message:"",homepage:""});const i="ks-page-order-end .card{display:block;padding:0px;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:800px;width:100%;margin:auto;padding:50px 20px;color:var(--card-text-color);text-align:center}ks-page-order-end .card ks-icon{margin-right:10px}ks-page-order-end .card h1{font-size:22px;font-weight:700}ks-page-order-end .card .payment{margin-top:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap;opacity:1;-webkit-transition:opacity ease 0.3s;transition:opacity ease 0.3s}ks-page-order-end .card .loader{position:relative;height:40px;margin-top:20px}ks-page-order-end .card .buttons{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}ks-page-order-end .card .buttons ks-button{margin:5px}ks-page-order-end .card h2{margin:20px auto 5px auto;font-weight:700}";const a=class{constructor(t){e(this,t);this.skipbase=undefined;this.commonData=undefined;this.commonDynamicData=undefined;this.orderData=undefined;this.displayPayment=true;this.paymentOpacity=true}componentWillLoad(){const e=document.getElementById(this.orderData);const t=JSON.parse(e.innerHTML);Object.keys(t).map((e=>{n.set(e,t[e])}));this.track();const s=n.get("verify");const r=n.get("orderId");if(s){this.displayPayment=false;this.paymentOpacity=false;this.verify(s,r);setTimeout((()=>{this.displayPayment=true}),3e3);setTimeout((()=>{this.paymentOpacity=true}),3100)}}verify(e,t){setTimeout((()=>{r(e+`&order=${t}`).then((s=>{s.text().then((s=>{if(s=="OK")document.location.reload();else this.verify(e,t)})).catch((()=>this.verify(e,t)))})).catch((()=>this.verify(e,t)))}),2e3)}track(){}render(){return t("ks-page-base",{skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},t("div",{class:"card"},t("h1",{class:"heading"},n.get("heading")),t("section",{class:"content"},t("div",{class:"message"},n.get("message")),n.get("error")?[t("h2",null,n.get("errorHeading")),t("div",null,n.get("errorMessage"))]:null,n.get("verify")?t("div",{class:"loader"},t("ks-loader",{dark:true})):null,t("div",{class:"payment",style:{display:this.displayPayment?null:"none",opacity:this.paymentOpacity?null:"0"}},t("slot",null)),t("div",{class:"buttons"},n.get("orderString")?t("ks-button",{round:true,link:n.get("orderLink"),name:n.get("orderString")}):null,t("ks-button",{round:true,link:"/",name:n.get("homepage")})))))}};a.style=i;export{a as ks_page_order_end};
//# sourceMappingURL=ks-page-order-end.entry.js.map