import{r as e,h as a}from"./index-0TTgkKkd.js";import{c as t}from"./index-CZU_OQRD.js";import{F as r}from"./fetch-Cj4w559p.js";const s=t({eventId:"",heading:"",message:"",homepage:""});const d="ks-page-order-end .card{display:block;padding:0px;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:800px;width:100%;margin:auto;padding:50px 20px;color:var(--card-text-color);text-align:center}ks-page-order-end .card ks-icon{margin-right:10px}ks-page-order-end .card h1{font-size:22px;font-weight:700}ks-page-order-end .card .payment{margin-top:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap;opacity:1;-webkit-transition:opacity ease 0.3s;transition:opacity ease 0.3s}ks-page-order-end .card .loader{position:relative;height:40px;margin-top:20px}ks-page-order-end .card .buttons{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}ks-page-order-end .card .buttons ks-button{margin:5px}ks-page-order-end .card h2{margin:20px auto 5px auto;font-weight:700}";const n=class{constructor(a){e(this,a);this.displayPayment=true;this.paymentOpacity=true}componentWillLoad(){const e=document.getElementById(this.orderData);const a=JSON.parse(e.innerHTML);Object.keys(a).map((e=>{s.set(e,a[e])}));this.track();const t=s.get("verify");const r=s.get("orderId");if(t){this.displayPayment=false;this.paymentOpacity=false;this.verify(t,r);setTimeout((()=>{this.displayPayment=true}),3e3);setTimeout((()=>{this.paymentOpacity=true}),3100)}}verify(e,a){setTimeout((()=>{r(e+`&order=${a}`).then((t=>{t.text().then((t=>{if(t=="OK")document.location.reload();else this.verify(e,a)})).catch((()=>this.verify(e,a)))})).catch((()=>this.verify(e,a)))}),2e3)}track(){}render(){return a("ks-page-base",{key:"b7b5946c9813a5d3dfdc2f6dff17cddf5b3a9446",skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},a("div",{key:"79fc1191913444827c6d2e6e0a5531a654e9551d",class:"card"},a("h1",{key:"ea6a7513971380653a6d57a5e82040384017d748",class:"heading"},s.get("heading")),a("section",{key:"648681a9ed65896b9463d4c6b41c94bada1aa7b2",class:"content"},a("div",{key:"c15a87a97378da140a4e9137ff9b9741ddfd5763",class:"message"},s.get("message")),s.get("error")?[a("h2",null,s.get("errorHeading")),a("div",null,s.get("errorMessage"))]:null,s.get("verify")?a("div",{class:"loader"},a("ks-loader",{dark:true})):null,a("div",{key:"c0b74cabc655af49847131bff9fe9d27bd041fa9",class:"payment",style:{display:this.displayPayment?null:"none",opacity:this.paymentOpacity?null:"0"}},a("slot",{key:"5bf0a3d5b9ed77427d5e59a9778e0c9f3ae76a8a"})),a("div",{key:"4fbc46c3ec07dd06cafd2d38bda9478f7d4f3760",class:"buttons"},s.get("orderString")?a("ks-button",{round:true,link:s.get("orderLink"),name:s.get("orderString")}):null,a("ks-button",{key:"18808969592b039ac0ef72a7c0337b01250c6001",round:true,link:"/",name:s.get("homepage")})))))}};n.style=d;export{n as ks_page_order_end};
//# sourceMappingURL=ks-page-order-end.entry.js.map