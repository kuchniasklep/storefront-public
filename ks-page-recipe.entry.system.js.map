{"version":3,"file":"ks-page-recipe.entry.system.js","sources":["src/global/data/recipe.ts","src/components/pages/recipe/recipe.css?tag=ks-page-recipe","src/components/pages/recipe/recipe.tsx"],"sourcesContent":["import { createStore } from \"@stencil/store\";\nimport { ProductCardData } from \"./listing\";\n\nexport const recipe = createStore({} as RecipeData);\n\nexport interface RecipeData {\n    title: string;\n    summary: string;\n    image: string;\n    time: string;\n    yield: string;\n\n    category: string;\n    categoryLink: string;\n    cuisine: string;\n    cuisineLink: string;\n\n    nutrition: RecipeNutritionData;\n    ingredients: RecipeIngredientData[];\n    preparation: RecipePreparationSectionData[];\n\n    suggestions: ProductCardData[];\n}\n\nexport interface RecipeNutritionData {\n    calories: string;\n    fats: string;\n    saturatedFats: string;\n    sugars: string;\n    salt: string;\n    protein: string;\n    carbohydrates: string;\n}\n\n\nexport interface RecipeIngredientData {\n    name: string;\n    amount: string;\n}\n\nexport interface RecipePreparationSectionData {\n    name: string;\n    steps: string[];\n}","ks-page-recipe {\n    display: block;\n}\n\nks-page-recipe .recipe-container {\n    background: #fff;\n    color: #373737;\n    box-shadow: 0 2px 8px rgb(0 0 0 / 15%);\n    margin-bottom: 0;\n}\n\nks-page-recipe .suggested-heading{\n    text-align: center;\n    margin-top: 20px !important;\n    font-weight: 700;\n}\n\nks-page-recipe ks-product-container {\n    margin-bottom: 15px !important;\n}","import { Component, h, Prop } from '@stencil/core';\nimport { recipe, RecipeData } from \"../../../global/data/recipe\";\nimport { DataLayer } from '../../../global/dataLayer';\n\ndeclare global { interface Window { dataLayer: any[] }}\n\n@Component({\n    tag: 'ks-page-recipe',\n    styleUrl: 'recipe.css'\n})\nexport class PageRecipe{\n    @Prop() skipbase: boolean;\n    @Prop() commonData: string;\n    @Prop() commonDynamicData: string;\n\n    @Prop() recipeData: string;\n\n    componentWillLoad() {\n        const recipeDataElement = document.getElementById(this.recipeData);\n\t\tconst recipeData = JSON.parse(recipeDataElement.innerHTML) as RecipeData;\n\n        Object.keys(recipeData).map(key => {\n\t\t\trecipe.set(key as keyof RecipeData, recipeData[key]);\n\t\t});\n\n        this.track();\n    }\n\n    track() {\n        DataLayer.recipe(recipe.state);\n    }\n\n\trender() {\n        const nutrition = recipe.get('nutrition');\n\n\t\treturn <ks-page-base skipbase={this.skipbase} commonData={this.commonData} commonDynamicData={this.commonDynamicData}>\n            <ks-container>\n                <div class=\"recipe-container\">\n                    <ks-recipe-info\n                        image={recipe.get('image')}\n                        time={recipe.get('time')}\n                        yield={recipe.get('yield')}\n\n                        cuisine={recipe.get('cuisine')}\n                        cuisine-link={recipe.get('cuisineLink')}\n\n                        category={recipe.get('category')}\n                        category-link={recipe.get('categoryLink')}\n                    >\n                        <h1 slot=\"heading\">{recipe.get('title')}</h1>\n                        <p slot=\"summary\">{recipe.get('summary')}</p>\n\n                        <ks-recipe-nutrition type='kalorie' value={nutrition.calories} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='tłuszcze' value={nutrition.fats} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='nasycone' value={nutrition.saturatedFats} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='cukry' value={nutrition.sugars} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='sól' value={nutrition.salt} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='białka' value={nutrition.protein} slot='nutrition'></ks-recipe-nutrition>\n                        <ks-recipe-nutrition type='węglowodany' value={nutrition.carbohydrates} slot='nutrition'></ks-recipe-nutrition>\n\n                    </ks-recipe-info>\n                    <ks-recipe-procedure>\n                        {recipe?.get(\"ingredients\")?.map(ingredient => \n                            <ks-recipe-ingredient name={ingredient.name} amount={ingredient.amount} slot='ingredients'></ks-recipe-ingredient>    \n                        )}\n\n                        {recipe?.get(\"preparation\")?.map(section => [\n                            <h2 slot='preparation'>{section.name}</h2>,\n                            <p slot='preparation'>\n                                {section?.steps?.join(' ')}\n                            </p>\n                        ])}\n                    </ks-recipe-procedure>\n                </div>\n            </ks-container>\n\n            {recipe?.get('suggestions')?.length > 0 ? [\n                <h3 class=\"suggested-heading\">Produkty Polecane</h3>,\n                <ks-product-container>\n                    {recipe?.get('suggestions')?.map(card =>\n                        <ks-product-card product={card}/>\n                    )}\n\n                </ks-product-container>\n            ] : null}\n\n        </ks-page-base>;\n\t}\n}\n"],"names":[],"mappings":"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"}