import{e as o}from"./tracker-67973177.js";import{c as a}from"./commonDynamic-29131f86.js";import{F as c}from"./fetch-e286f059.js";async function s(s,e=1){const r=document.querySelector("ks-error-popup"),n=document.querySelector("ks-message-popup"),t=document.querySelector("ks-navbar");let m=new FormData;m.append("id",s.id),m.append("ilosc",s.quantity.toString()),m.append("nazwa",s.name),m.append("value",s.currentPrice.toString()),m.append("cechy",s.traitIDs),m.append("akcja","dodaj"),m.append("miejsce",e.toString());const d=a.get("api").addToCart;return c(d,m).then((async o=>o.json())).then((async a=>{var c,e;a.status?(t.IncrementCart(s.quantity.toString()),c=s.id,e=s.name,document.querySelector("ks-product-suggestions").show(c,e),a.event&&o((o=>null==o?void 0:o.addToCart(s,a.event)))):a.productLink?n.show("Wymagany wybór cechy",a.message,"Przejdź do produktu",s.link):n.show("Błąd dodawania produktu",a.message)})).catch((o=>{r.show(o)}))}export{s as a}