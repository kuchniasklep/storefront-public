import{g as e}from"./pagination-445b6c67.js";function t({swiper:t,extendParams:r,on:i,emit:n,params:a}){t.autoplay={running:false,paused:false,timeLeft:0};r({autoplay:{enabled:false,delay:3e3,waitForTransition:true,disableOnInteraction:true,stopOnLastSlide:false,reverseDirection:false,pauseOnMouseEnter:false}});let s;let u;let o=a&&a.autoplay?a.autoplay.delay:3e3;let f=a&&a.autoplay?a.autoplay.delay:3e3;let l;let c=(new Date).getTime;let p;let m;let d;let y;let w;let T;function b(e){if(!t||t.destroyed||!t.wrapperEl)return;if(e.target!==t.wrapperEl)return;t.wrapperEl.removeEventListener("transitionend",b);O()}const v=()=>{if(t.destroyed||!t.autoplay.running)return;if(t.autoplay.paused){p=true}else if(p){f=l;p=false}const e=t.autoplay.paused?l:c+f-(new Date).getTime();t.autoplay.timeLeft=e;n("autoplayTimeLeft",e,e/o);u=requestAnimationFrame((()=>{v()}))};const D=()=>{let e;if(t.virtual&&t.params.virtual.enabled){e=t.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]}else{e=t.slides[t.activeIndex]}if(!e)return undefined;const r=parseInt(e.getAttribute("data-swiper-autoplay"),10);return r};const F=e=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(u);v();let r=typeof e==="undefined"?t.params.autoplay.delay:e;o=t.params.autoplay.delay;f=t.params.autoplay.delay;const i=D();if(!Number.isNaN(i)&&i>0&&typeof e==="undefined"){r=i;o=i;f=i}l=r;const a=t.params.speed;const p=()=>{if(!t||t.destroyed)return;if(t.params.autoplay.reverseDirection){if(!t.isBeginning||t.params.loop||t.params.rewind){t.slidePrev(a,true,true);n("autoplay")}else if(!t.params.autoplay.stopOnLastSlide){t.slideTo(t.slides.length-1,a,true,true);n("autoplay")}}else{if(!t.isEnd||t.params.loop||t.params.rewind){t.slideNext(a,true,true);n("autoplay")}else if(!t.params.autoplay.stopOnLastSlide){t.slideTo(0,a,true,true);n("autoplay")}}if(t.params.cssMode){c=(new Date).getTime();requestAnimationFrame((()=>{F()}))}};if(r>0){clearTimeout(s);s=setTimeout((()=>{p()}),r)}else{requestAnimationFrame((()=>{p()}))}return r};const g=()=>{t.autoplay.running=true;F();n("autoplayStart")};const A=()=>{t.autoplay.running=false;clearTimeout(s);cancelAnimationFrame(u);n("autoplayStop")};const h=(e,r)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(s);if(!e){T=true}const i=()=>{n("autoplayPause");if(t.params.autoplay.waitForTransition){t.wrapperEl.addEventListener("transitionend",b)}else{O()}};t.autoplay.paused=true;if(r){if(w){l=t.params.autoplay.delay}w=false;i();return}const a=l||t.params.autoplay.delay;l=a-((new Date).getTime()-c);if(t.isEnd&&l<0&&!t.params.loop)return;if(l<0)l=0;i()};const O=()=>{if(t.isEnd&&l<0&&!t.params.loop||t.destroyed||!t.autoplay.running)return;c=(new Date).getTime();if(T){T=false;F(l)}else{F()}t.autoplay.paused=false;n("autoplayResume")};const S=()=>{if(t.destroyed||!t.autoplay.running)return;const r=e();if(r.visibilityState==="hidden"){T=true;h(true)}if(r.visibilityState==="visible"){O()}};const q=e=>{if(e.pointerType!=="mouse")return;T=true;h(true)};const L=e=>{if(e.pointerType!=="mouse")return;if(t.autoplay.paused){O()}};const j=()=>{if(t.params.autoplay.pauseOnMouseEnter){t.el.addEventListener("pointerenter",q);t.el.addEventListener("pointerleave",L)}};const x=()=>{t.el.removeEventListener("pointerenter",q);t.el.removeEventListener("pointerleave",L)};const E=()=>{const t=e();t.addEventListener("visibilitychange",S)};const I=()=>{const t=e();t.removeEventListener("visibilitychange",S)};i("init",(()=>{if(t.params.autoplay.enabled){j();E();c=(new Date).getTime();g()}}));i("destroy",(()=>{x();I();if(t.autoplay.running){A()}}));i("beforeTransitionStart",((e,r,i)=>{if(t.destroyed||!t.autoplay.running)return;if(i||!t.params.autoplay.disableOnInteraction){h(true,true)}else{A()}}));i("sliderFirstMove",(()=>{if(t.destroyed||!t.autoplay.running)return;if(t.params.autoplay.disableOnInteraction){A();return}m=true;d=false;T=false;y=setTimeout((()=>{T=true;d=true;h(true)}),200)}));i("touchEnd",(()=>{if(t.destroyed||!t.autoplay.running||!m)return;clearTimeout(y);clearTimeout(s);if(t.params.autoplay.disableOnInteraction){d=false;m=false;return}if(d&&t.params.cssMode)O();d=false;m=false}));i("slideChange",(()=>{if(t.destroyed||!t.autoplay.running)return;w=true}));Object.assign(t.autoplay,{start:g,stop:A,pause:h,resume:O})}export{t as A};
//# sourceMappingURL=autoplay-49e8b9e8.js.map