var __awaiter=this&&this.__awaiter||function(e,r,t,n){function o(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,c){function i(e){try{a(n.next(e))}catch(r){c(r)}}function u(e){try{a(n["throw"](e))}catch(r){c(r)}}function a(e){e.done?t(e.value):o(e.value).then(i,u)}a((n=n.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,o,c,i;return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(r){return a([e,r])}}function a(i){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,o&&(c=i[0]&2?o["return"]:i[0]?o["throw"]||((c=o["return"])&&c.call(o),0):o.next)&&!(c=c.call(o,i[1])).done)return c;if(o=0,c)i=[i[0]&2,c.value];switch(i[0]){case 0:case 1:c=i;break;case 4:t.label++;return{value:i[1],done:false};case 5:t.label++;o=i[1];i=[0];continue;case 7:i=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,c=c.length>0&&c[c.length-1])&&(i[0]===6||i[0]===2)){t=0;continue}if(i[0]===3&&(!c||i[1]>c[0]&&i[1]<c[3])){t.label=i[1];break}if(i[0]===6&&t.label<c[1]){t.label=c[1];c=i;break}if(c&&t.label<c[2]){t.label=c[2];t.ops.push(i);break}if(c[2])t.ops.pop();t.trys.pop();continue}i=r.call(e,t)}catch(u){i=[6,u];o=0}finally{n=c=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};System.register(["./commonDynamic-aeb37ba1.system.js","./fetch-8edb5396.system.js","./js.cookie-fb64f7de.system.js"],(function(e){"use strict";var r,t,n;return{setters:[function(e){r=e.c},function(e){t=e.j},function(e){n=e.j}],execute:function(){e("D",void 0);var o;(function(e){var o;var c=new Promise((function(e){o=function(){e()}}));function i(e){t("https://kuchniasklep.pl/api/fbconversion.php",e)}function u(){var e=r.get("customer");var t=r.get("loggedIn")&&e;var o=n.get("cookie_banner_testing_group");return{customerDataAvailable:t,customerEmail:t?e.email:undefined,customerFirstName:t?e.firstName:undefined,customerLastName:t?e.lastName:undefined,customerSubscriberStatus:t?e.subscriber?1:0:undefined,customerCountryISO2:t?e.countryISO2:undefined,customerCity:t?e.city:undefined,customerPhone:t?e.phone:undefined,customerCurrency:t?e.currency:undefined,testingGroup:o?o:undefined}}function a(e){return __awaiter(this,void 0,void 0,(function(){var r,t;return __generator(this,(function(n){e=crypto.randomUUID();t=Object.assign({event:"ks.pageview",facebookEventId:e},u());(r=window.dataLayer)===null||r===void 0?void 0:r.push(t);o();i(t);return[2]}))}))}e.pageview=a;function d(e,r){if(r===void 0){r=""}return __awaiter(this,void 0,void 0,(function(){var t,n,o,a;return __generator(this,(function(d){switch(d.label){case 0:return[4,c];case 1:d.sent();r=crypto.randomUUID();o=e.breadcrumbs;a=Object.assign(Object.assign({event:"ks.product",facebookEventId:r},u()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productImage:(e===null||e===void 0?void 0:e.images.length)>0?_(e.images[0].full.url):undefined,productURL:_(document.location.href),productSKU:e.model,productBrand:e.brand.name,productCategory:o[o.length-1].name,productAvailability:e.shippingTime,productQuantity:1,productCategories:e.categories,ecomm_prodid:e.id,ecomm_pagetype:"product",ecomm_totalvalue:e.currentPrice,ecommerce:{items:k([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,impressions:j([e])}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(a);i(a);return[2]}}))}))}e.product=d;function s(e){return __awaiter(this,void 0,void 0,(function(){var r,t,n,o,i;return __generator(this,(function(a){switch(a.label){case 0:return[4,c];case 1:a.sent();i=e.type=="category"?"category":e.type=="manufacturer"?"manufacturer":e.type=="search"?"search":null;if(!i)return[2];(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(t=window.dataLayer)===null||t===void 0?void 0:t.push(Object.assign(Object.assign({event:"ks.listing"},u()),{type:i,listingCategories:i=="category"?e.breadcrumbs.filter((function(e){return e.id!="0"})):undefined,listingProducts:e.products,ecommerce:{items:k(e.products)},uaecommerce:{ecommerce:{currencyCode:(o=(n=e.products)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.currency,impressions:j(e.products)}}}));return[2]}}))}))}e.listing=s;function l(e,r){return __awaiter(this,void 0,void 0,(function(){var t,n,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,c];case 1:a.sent();r=crypto.randomUUID();o=Object.assign(Object.assign({event:"ks.addToCart",facebookEventId:r},u()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:_(e.imageFull),productURL:_(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:k([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,add:{products:j([e])}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(o);i(o);return[2]}}))}))}e.addToCart=l;function p(e){return __awaiter(this,void 0,void 0,(function(){var r,t;return __generator(this,(function(n){switch(n.label){case 0:return[4,c];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(t=window.dataLayer)===null||t===void 0?void 0:t.push(Object.assign(Object.assign({event:"ks.removeFromCart"},u()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:_(e.imageFull),productURL:_(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:k([e])},uaecommerce:{ecommerce:{currencyCode:e.currency,remove:{products:j([e])}}}}));return[2]}}))}))}e.removeFromCart=p;function m(e){return __awaiter(this,void 0,void 0,(function(){var r,t;return __generator(this,(function(n){switch(n.label){case 0:return[4,c];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(t=window.dataLayer)===null||t===void 0?void 0:t.push(Object.assign(Object.assign({event:"ks.addToFavourites"},u()),{productId:e.id,productName:e.name,productPrice:e.currentPrice,productCurrency:e.currency,productQuantity:e.quantity,productImage:_(e.imageFull),productURL:_(e.link),productSKU:e.sku,productCategories:e.categories,ecommerce:{items:k([e]),value:e.currentPrice,currency:e.currency}}));return[2]}}))}))}e.addToFavourites=m;function v(e){return __awaiter(this,void 0,void 0,(function(){var r,t;return __generator(this,(function(n){switch(n.label){case 0:return[4,c];case 1:n.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push({ecommerce:null});(t=window.dataLayer)===null||t===void 0?void 0:t.push(Object.assign(Object.assign({event:"ks.viewCart"},u()),{cartCurrency:e.currency,cartProductValue:e.productValue,cartValue:e.totalValue,cartProducts:e.products,ecomm_prodid:JSON.stringify(Object.values(e.products).map((function(e){return e.id}))),ecomm_pagetype:"cart",ecomm_totalvalue:e.productValue,ecommerce:{items:k(Object.values(e.products)),value:e.productValue,currency:e.currency},uaecommerce:{ecommerce:{checkout:{actionField:{step:1},currencyCode:e.currency,products:j(Object.values(e.products))}}}}));return[2]}}))}))}e.view_cart=v;function y(e,r){return __awaiter(this,void 0,void 0,(function(){var t,n,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,c];case 1:a.sent();r=crypto.randomUUID();o=Object.assign(Object.assign({event:"ks.checkout",facebookEventId:r},u()),{orderProducts:e.products,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecommerce:{items:k(e.products)},uaecommerce:{ecommerce:{checkout:{actionField:{step:3},currencyCode:e.currency,products:j(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(o);i(o);return[2]}}))}))}e.order_checkout=y;function f(e,r){return __awaiter(this,void 0,void 0,(function(){var t,n,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,c];case 1:a.sent();r=crypto.randomUUID();o=Object.assign(Object.assign({event:"ks.orderForm",facebookEventId:r},u()),{orderProducts:e.products,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecommerce:{items:k(e.products)},uaecommerce:{ecommerce:{checkout:{actionField:{step:2},currencyCode:e.currency,products:j(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(o);i(o);return[2]}}))}))}e.order_form=f;function h(e,r){return __awaiter(this,void 0,void 0,(function(){var t,n,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,c];case 1:a.sent();r=crypto.randomUUID();o=Object.assign(Object.assign({event:"ks.order",facebookEventId:r},u()),{orderProducts:e.products,orderId:e.id,orderValue:e.totalValue,orderProductValue:e.productValue,orderCurrency:e.currency,orderShipping:e.shippingValue,orderShippingTime:e.totalShippingTimeDays,orderCoupon:e.coupon,ecomm_prodid:JSON.stringify(Object.values(e.products).map((function(e){return e.id}))),ecomm_pagetype:"purchase",ecomm_totalvalue:e.productValue,ecommerce:{transaction_id:e.id,value:e.totalValue,currency:e.currency,shipping:e.shippingValue,coupon:e.coupon,items:k(e.products)},uaecommerce:{ecommerce:{purchase:{currencyCode:e.currency,actionField:{id:e.id,revenue:e.totalValue,shipping:e.shippingValue,coupon:e.coupon},products:j(e.products)}}}});(t=window.dataLayer)===null||t===void 0?void 0:t.push({ecommerce:null});(n=window.dataLayer)===null||n===void 0?void 0:n.push(o);i(o);return[2]}}))}))}e.order_placed=h;function g(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(t){switch(t.label){case 0:return[4,c];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(Object.assign({event:"ks.search",searchQuery:e},u()));return[2]}}))}))}e.search=g;function b(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(t){switch(t.label){case 0:return[4,c];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(Object.assign(Object.assign({event:"ks.subscribe"},u()),{subscriptionPlace:e.place,subscriptionEmail:e.email,subscriptionName:e===null||e===void 0?void 0:e.name,subscriptionStatus:e.subscriber?1:0}));return[2]}}))}))}e.subscribe=b;function w(e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(t){switch(t.label){case 0:return[4,c];case 1:t.sent();(r=window.dataLayer)===null||r===void 0?void 0:r.push(Object.assign(Object.assign({event:"ks.recipe"},u()),{recipeName:e.title,recipeCategory:e.category,recipeCuisine:e.cuisine}));return[2]}}))}))}e.recipe=w;function _(e){return e.includes("http")?e:document.baseURI+e}function k(e){return e.map((function(e,r){var t=e.breadcrumbs.filter((function(e){return e.name!="Strona główna"})).map((function(e){return e.name})).reverse();return{item_id:e.id,item_name:e.name,currency:e.currency,index:r,price:e.currentPrice,item_brand:e.brandName,item_category:t===null||t===void 0?void 0:t[0],item_category2:t===null||t===void 0?void 0:t[1],item_category3:t===null||t===void 0?void 0:t[2],item_category4:t===null||t===void 0?void 0:t[3],item_category5:t===null||t===void 0?void 0:t[4]}}))}function j(e){return e.map((function(e,r){var t=e.breadcrumbs.filter((function(e){return e.name!="Strona główna"})).map((function(e){return e.name}));return{name:e.name,id:e.id,price:e.currentPrice,brand:e.brandName,category:t.join("/"),position:r+1,quantity:e.quantity}}))}})(o||(o=e("D",{})))}}}));