System.register(["./index-c1zuSwDW.system.js","./index-BljFg8DE.system.js","./fetch-H5Atuhfj.system.js"],(function(e){"use strict";var t,a,n,r;return{setters:[function(e){t=e.r;a=e.h},function(e){n=e.c},function(e){r=e.F}],execute:function(){var i=n({eventId:"",heading:"",message:"",homepage:""});var s="ks-page-order-end .card{display:block;padding:0px;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:800px;width:100%;margin:auto;padding:50px 20px;color:var(--card-text-color);text-align:center}ks-page-order-end .card ks-icon{margin-right:10px}ks-page-order-end .card h1{font-size:22px;font-weight:700}ks-page-order-end .card .payment{margin-top:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap;opacity:1;-webkit-transition:opacity ease 0.3s;transition:opacity ease 0.3s}ks-page-order-end .card .loader{position:relative;height:40px;margin-top:20px}ks-page-order-end .card .buttons{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}ks-page-order-end .card .buttons ks-button{margin:5px}ks-page-order-end .card h2{margin:20px auto 5px auto;font-weight:700}";var d=e("ks_page_order_end",function(){function e(e){t(this,e);this.displayPayment=true;this.paymentOpacity=true}e.prototype.componentWillLoad=function(){var e=this;var t=document.getElementById(this.orderData);var a=JSON.parse(t.innerHTML);Object.keys(a).map((function(e){i.set(e,a[e])}));this.track();var n=i.get("verify");var r=i.get("orderId");if(n){this.displayPayment=false;this.paymentOpacity=false;this.verify(n,r);setTimeout((function(){e.displayPayment=true}),3e3);setTimeout((function(){e.paymentOpacity=true}),3100)}};e.prototype.verify=function(e,t){var a=this;setTimeout((function(){r(e+"&order=".concat(t)).then((function(n){n.text().then((function(n){if(n=="OK")document.location.reload();else a.verify(e,t)})).catch((function(){return a.verify(e,t)}))})).catch((function(){return a.verify(e,t)}))}),2e3)};e.prototype.track=function(){};e.prototype.render=function(){return a("ks-page-base",{key:"50424eafa259b8a1e1b6ee72a376078e90b4eaee",skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},a("div",{key:"e4bd5a866b5df75ee93915fcffbfc84c599d001f",class:"card"},a("h1",{key:"701bd1e59c697aa997fbd4783d739795d33b3f90",class:"heading"},i.get("heading")),a("section",{key:"45b3a5a90c4f00d069847e5eb98904afa3abc5bc",class:"content"},a("div",{key:"b927806f92218bd34c66e1c5a3e354c3317858e2",class:"message"},i.get("message")),i.get("error")?[a("h2",null,i.get("errorHeading")),a("div",null,i.get("errorMessage"))]:null,i.get("verify")?a("div",{class:"loader"},a("ks-loader",{dark:true})):null,a("div",{key:"d2ab7145326c6f63ae330b29fc51d5511d6502f3",class:"payment",style:{display:this.displayPayment?null:"none",opacity:this.paymentOpacity?null:"0"}},a("slot",{key:"d16fa0b618bb5dbf705a69cf3c42b791adb578dd"})),a("div",{key:"69c60ad6f783875008d9597b6c05a2da8d8ca155",class:"buttons"},i.get("orderString")?a("ks-button",{round:true,link:i.get("orderLink"),name:i.get("orderString")}):null,a("ks-button",{key:"a7f525f3fd723b876d40d3a2029c75cd7d5a32f4",round:true,link:"/",name:i.get("homepage")})))))};return e}());d.style=s}}}));
//# sourceMappingURL=ks-page-order-end.system.entry.js.map