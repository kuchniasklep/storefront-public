System.register(["./index-56e4ba05.system.js","./index-c9cb740c.system.js","./loadCommon-23bae0e7.system.js","./fetch-f6400e56.system.js","./common-34e3f2b7.system.js","./commonDynamic-6d8da335.system.js","./dataLayer-62e63f86.system.js"],(function(e){"use strict";var t,o,n,a,r,i,s;return{setters:[function(e){t=e.r;o=e.h;n=e.g;a=e.B},function(e){r=e.c},function(e){i=e.l},function(e){s=e.f},function(){},function(){},function(){}],execute:function(){var l=r({});var g="ks-page-login .background{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;background-color:white;padding:80px 20px}ks-page-login .card{width:100%;max-width:400px;background-color:white}ks-page-login h1{text-align:center;margin-bottom:10px}ks-page-login .forgot{float:right;cursor:pointer;margin-top:-10px;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease}ks-page-login .forgot:hover{opacity:0.7}ks-page-login .forgot:active{opacity:0.5}ks-page-login .login{margin-top:50px}ks-page-login .login>*{background:rgb(24,141,219);background:linear-gradient(321deg, rgba(24,141,219,1) 0%, rgba(0,26,78,1) 100%);-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease}ks-page-login .login>*:hover{opacity:0.9}ks-page-login .login>*:active{opacity:0.8}ks-page-login .register{margin:10px auto 0 auto;width:90%}ks-page-login .forgot-dialog p{text-align:center}ks-page-login .forgotSubmit{margin:20px 0 20px 0}ks-page-login .externalButtons{display:-ms-flexbox;display:flex;margin-top:10px;margin-bottom:20px;gap:5px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}ks-page-login .external{width:100%}ks-page-login .external>*{background:linear-gradient(321deg, rgb(77 77 77) 0%, rgba(26,26,26,1) 100%);-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease}ks-page-login .external:last-child>*{background:linear-gradient(30deg, rgb(77 77 77) 0%, rgba(26,26,26,1) 100%)}ks-page-login .external>*:hover{opacity:0.9}ks-page-login .external>*:active{opacity:0.8}";var c=e("ks_page_login",function(){function e(e){t(this,e);this.skipbase=undefined;this.commonData=undefined;this.commonDynamicData=undefined;this.loginData=undefined}e.prototype.componentWillLoad=function(){var e=document.getElementById(this.loginData);var t=JSON.parse(e.innerHTML);Object.keys(t).map((function(e){l.set(e,t[e])}));i(this.commonData,this.commonDynamicData,a)};e.prototype.componentDidLoad=function(){if(l.get("externalLogin")&&l.get("externalRegister"))this.externalLogin(l.get("externalLogin"),l.get("externalRegister"))};e.prototype.showForgot=function(){var e=this.root.querySelector("ks-dialog.forgot-dialog");e.show()};e.prototype.render=function(){var e=this;var t=l.get("strings");var n=l.get("google");var a=l.get("facebook");return o("ks-page-base",{loadCommon:false,skipbase:this.skipbase,commonData:this.commonData,commonDynamicData:this.commonDynamicData},o("div",{class:"background"},o("ks-simpleform",{class:"card",action:l.get("login"),method:"post"},o("h1",null,t.header),o("ks-input-text",{required:true,email:true,name:"email",label:t.email,icon:"at-sign","right-icon":true,placeholder:t.emailPlaceholder}),o("ks-input-text",{required:true,password:true,name:"haslo",label:t.password,icon:"key","right-icon":true,placeholder:t.passwordPlaceholder}),o("span",{class:"forgot",onClick:function(){return e.showForgot()}},t.forgotPassword),o("ks-button",{submit:true,class:"login",primary:true,name:t.login,round:true}),n||a?o("div",{class:"externalButtons"},n?o("ks-button",{nofollow:true,round:true,icon:"google",class:"external",link:n.link,name:t.externalLogin}):null,a?o("ks-button",{nofollow:true,round:true,icon:"facebook",class:"external",link:a.link,name:t.externalLogin}):null):null,o("ks-button",{nofollow:true,link:l.get("register"),class:"register",border:true,narrow:true,name:t.register,round:true})),o("ks-dialog",{class:"forgot-dialog",dark:true},o("ks-simpleform",{action:l.get("forgot"),method:"post"},o("p",null,t.forgotMessage),o("ks-input-text",{email:true,name:"emailprzypomnienie",label:t.email,icon:"at-sign","right-icon":true,placeholder:t.emailPlaceholder}),o("ks-button",{class:"forgotSubmit",border:true,narrow:true,name:t.forgotSubmit,round:true}))),o("ks-overlay",{dark:true,close:false,class:"loading"},o("ks-loader",null))))};e.prototype.externalLogin=function(e,t){var o=document.querySelector("ks-error-popup");var n=this.root.querySelector("ks-overlay.loading");n.show();var a=l.get("strings");s(e,{data:"social"}).then((function(e){return e.text()})).then((function(e){if(e.includes("noaccount"))window.location.replace(t);else if(e.length>10){n.hide();o.show(new Error(e))}else{n.hide();o.show(new Error(a.externalLoginError))}}))};Object.defineProperty(e.prototype,"root",{get:function(){return n(this)},enumerable:false,configurable:true});return e}());c.style=g}}}));
//# sourceMappingURL=ks-page-login.system.entry.js.map