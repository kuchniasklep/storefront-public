{"version":3,"file":"ks-cart-product.ks-cart-product-heading.ks-cart-spinner.entry.esm.js","sources":["src/components/cart/product/cartProduct.css?tag=ks-cart-product","src/components/cart/product/cartProduct.tsx","src/components/cart/product/cartProductHeading.css?tag=ks-cart-product-heading","src/components/cart/product/cartProductHeading.tsx","src/components/cart/product/cartSpinner.css?tag=ks-cart-spinner","src/components/cart/product/cartSpinner.tsx"],"sourcesContent":["ks-cart-product {\n    display: flex;\n    align-items: center;\n    font-size: 16px;\n\n    border-bottom: #ededed 1px solid;\n}\n\nks-cart-product:last-child {\n    border-bottom: none;\n}\n\nks-cart-product .description {\n    display: grid; \n\n    grid-template-columns: 1fr 110px 100px 50px; \n    grid-template-rows: auto auto; \n    gap: 0px 5px; \n    grid-template-areas: \n        \"name     price count remove\"\n        \"shipping price count remove\";\n\n    align-items: center;\n    justify-content: center;\n    line-height: normal;\n\n    flex: 1;\n    padding: 10px 0px;\n}\n\nks-cart-product:not([removable]) .description {\n    grid-template-columns: 1fr 110px 100px;\n    grid-template-areas: \n        \"name     price count\"\n        \"shipping price count\";\n}\n\nks-cart-product:not([removable]) .remove-container {\n    display: none;\n}\n\nks-cart-product .name {\n    grid-area: name;\n\n    color: inherit !important;\n    text-decoration: none !important;\n}\n\nks-cart-product .price {\n    grid-area: price;\n    font-family: var(--font-emphasis);\n    text-align: center;\n}\n\nks-cart-product .count {\n    grid-area: count;\n    text-align: center;\n}\n\nks-cart-product .remove-container {\n    grid-area: remove;\n}\n\nks-cart-product .shipping {\n    grid-area: shipping;\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n}\n\nks-cart-product .remove {\n    appearance: none;\n    background-color: transparent;\n    border: #d9d9d9 solid 1px;\n    border-radius: 50px;\n    width: 40px;\n    height: 40px;\n    margin: 5px;\n}\n\nks-cart-product .product-image {\n    width: 90px;\n    height: 90px;\n    max-width: 90px;\n    max-height: 90px;\n    padding: 15px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n\n@media only screen and (max-width: 860px) {\n    ks-cart-product .description {\n        grid-template-rows: auto auto; \n        grid-template-columns: auto auto 1fr; \n\n        gap: 5px 5px; \n        grid-template-areas: \n            \"name   name     name  remove\"\n            \"price  shipping count remove\";\n    }\n\n    ks-cart-product:not([removable]) .description {\n        grid-template-columns: auto auto 1fr;\n        gap: 5px 10px;\n        grid-template-areas: \n            \"name     name name\"\n            \"shipping price count\";\n    }\n\n    ks-cart-product:not([removable]) .count {\n        text-align: left !important;\n    }\n\n    ks-cart-product[removable] .count {\n        text-align: left !important;\n        margin-left: 10px;\n    }\n    \n    ks-cart-product .price {\n        text-align: center;\n        font-weight: 700;\n        color: #e21334;\n    }\n\n    ks-cart-product .name {\n        margin-bottom: -5px;\n    }\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-product:not([small]) {\n        flex-direction: column;\n        position: relative;\n    }\n\n    ks-cart-product:not([small]) .description {\n        grid-template-rows: auto auto auto auto auto; \n        grid-template-columns: auto auto; \n\n        gap: 8px; \n        grid-template-areas: \n            \"name   name\"\n            \"price  price\"\n            \"count  count\"\n            \"shipping shipping\"\n            \"remove remove\";\n\n        text-align: center;\n        justify-items: stretch;\n    }\n\n    ks-cart-product:not([small]):not([removable]) .description {\n        grid-template-rows: auto auto; \n        grid-template-columns: 1fr auto 1fr;\n\n        grid-template-areas: \n            \"name   name     name\"\n            \"price  shipping count\";\n    }\n\n    ks-cart-product[removable] .count {\n        text-align: center !important;\n        margin-left: 0px;\n    }\n\n    ks-cart-product:not([small]) .remove-container {\n        position: absolute;\n        text-align: right;\n        top: 5px;\n        right: 0px;\n    }\n\n    ks-cart-product:not([small]) .product-image {\n        width: 100%;\n        height: 100%;\n        max-width: 180px;\n        max-height: 180px;\n    }\n\n    ks-cart-product[small] {\n        font-size: 14px;\n    }\n}\n\n@media only screen and (max-width: 420px) {\n    ks-cart-product[small] .product-image {\n        max-width: 60px;\n        max-height: 60px;\n        padding: 10px 10px 10px 0px;\n    }\n}","import { Component, h, Prop, State, Method } from '@stencil/core';\nimport priceFormat from '../../../global/functions/price';\nimport * as cartFunctions from \"../../../global/functions/cart\";\n\n@Component({\n  tag: 'ks-cart-product',\n  styleUrl: 'cartProduct.css'\n})\nexport class CartProduct {\n  @Prop({reflect: true}) productId: string;\n  @Prop() name: string;\n  @Prop() img: string;\n  @Prop() link: string;\n  @Prop({reflect: true}) small: boolean;\n  @Prop() price: number;\n  @Prop() shippingTime: string = \"\";\n  @Prop() countUnit: string = \"\";\n\n  @Prop({reflect: true}) amount: number = 1;\n  @Prop() maxAmount: number;\n\n  @Prop({reflect: true}) removable: boolean = false;\n  @State() loading: boolean = false;\n\n  onRemoveHandler() {\n    this.loading = true;\n    cartFunctions.removeProduct(this.productId);\n  }\n\n  @Method() async ResetLoading() {\n      this.loading = false;\n  }\n\n  render() {\n    const price = priceFormat(this.price);\n\n    return[\n        <a class=\"product-image\" href={this.link}>\n            <ks-img3 fit='contain' image={this.img} width={180} height={180} alt=\"zdjęcie produktu\" />\n        </a>,\n\n        <div class=\"description\">\n            <a class=\"name\" href={this.link} innerHTML={this.name} aria-label={this.name.replace(/<\\/?[^>]+(>|$)/g, \"\") + ` - ${price} - ${this.shippingTime}`}></a>\n\n            <div class=\"price\">{price}</div>\n            <div class=\"shipping\">{this.shippingTime}</div>\n\n            <div class=\"count\">\n                {this.removable ?\n                    <ks-cart-spinner product={this.productId} value={this.amount} max={this.maxAmount} /> :\n                    `${this.amount} ${this.countUnit}`\n                }\n            </div>\n\n            <div class=\"remove-container\">\n                {this.removable ? this.loading ?\n                    <ks-loader/> :\n                    <button class=\"remove\" onClick={()=>this.onRemoveHandler()} aria-label=\"Usuń produkt\">\n                        <ks-icon name=\"x\" aria-hidden />\n                    </button>\n                : null}\n            </div>\n        </div>\n    ];\n  }\n}\n","ks-cart-product-heading {\n    display: flex;\n    align-items: center;\n    text-align: center;\n    font-size: 18px;\n\n    border-bottom: #ededed 1px solid;\n    padding-bottom: 10px;\n\n    font-family: var(--font-emphasis);\n    font-weight: 700;\n}\n\nks-cart-product-heading .names {\n    text-align: left;\n    width: 100%;\n}\n\nks-cart-product-heading .prices {\n    width: 110px;\n    flex: 1 0 auto;\n}\n\nks-cart-product-heading .count {\n    width: 110px;\n    flex: 1 0 auto;\n}\n\nks-cart-product-heading .remove {\n    width: 50px;\n    flex: 1 0 auto;\n}\n\n\nks-cart-product-heading .remove {\n    width: 50px;\n    flex: 1 0 auto;\n}\n\n@media only screen and (max-width: 860px) {\n    ks-cart-product-heading .prices {\n        display: none;\n    }\n    \n    ks-cart-product-heading .count {\n        display: none;\n    }\n}","import { Component, h, Element, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'ks-cart-product-heading',\n  styleUrl: 'cartProductHeading.css'\n})\nexport class CartProductHeading {\n  @Element() root: HTMLElement;\n  @Prop() removable: boolean;\n  \n  @Prop() productTableNames: string = \"\";\n  @Prop() productTablePrices: string = \"\";\n  @Prop() productTableCount: string = \"\";\n  @Prop() productTableRemove: string = \"\";\n\n  render() {\n    return[\n        <div class=\"names\">{this.productTableNames}</div>,\n\n        <div class=\"prices\">{this.productTablePrices}</div>,\n        <div class=\"count\">{this.productTableCount}</div>,\n\n        this.removable ? <div class=\"remove\">{this.productTableRemove}</div> : null \n    ];\n  }\n}\n","ks-cart-spinner {\n    display: inline-flex;\n    text-align: center;\n}\n\nks-cart-spinner input {\n    appearance: none;\n    border: 1px solid #d9d9d9;\n\n    width: 40px !important;\n    height: 30px;\n    box-sizing: border-box;\n    \n    margin: 0 !important;\n    font-size: 14px !important;\n    text-align: center !important;\n}\n\nks-cart-spinner button {\n    appearance: none;\n    border: 1px solid #d9d9d9;\n    \n    height: 30px;\n    width: 30px;\n}\n\nks-cart-spinner button:first-child {\n    border-right: none;\n}\n\nks-cart-spinner button:last-child {\n    border-left: none;\n}\n\n@media only screen and (max-width: 640px) {\n    ks-cart-spinner input {\n        width: 50px;\n        height: 35px;\n    }\n    \n    ks-cart-spinner button {\n        height: 35px;\n        width: 35px;\n    }\n}","import { Component, h, Prop, Element } from '@stencil/core';\nimport * as cartFunctions from \"../../../global/functions/cart\";\n\n@Component({\n  tag: 'ks-cart-spinner',\n  styleUrl: 'cartSpinner.css'\n})\nexport class CartSpinner {\n  @Element() root: HTMLElement;\n\n  @Prop() product: string;\n  @Prop() name: string;\n  @Prop({ mutable: true, reflect: true }) value: number = 1;\n  @Prop() max: number;\n\n  Increment() {\n    if(typeof this.max === \"undefined\" || this.value < this.max) {\n      this.value += 1;\n\n      this.onChangedHandler(this.value);\n    }\n  }\n\n  Decrement() {\n    if(this.value > 1) {\n      this.value -= 1;\n\n      this.onChangedHandler(this.value);\n    }\n  }\n\n  Change(e: Event) {\n    const input = e.target as HTMLInputElement;\n\n    const parsed = parseInt(input.value);\n\n    if(!isNaN(parsed) && parsed > 0 && (typeof this.max === \"undefined\"  || parsed <= this.max))\n      this.value = parsed;\n\n    else if (parsed > this.max ) {\n      this.value = this.max;\n      input.value = this.max.toString();\n    }\n\n    else {\n      this.value = 1;\n      input.value = \"1\";\n    }\n\n    this.onChangedHandler(this.value);\n  }\n\n  onChangedHandler(value: any) {\n    cartFunctions.productCount(this.product, value).then(maxCount => {\n      setTimeout(() => {\n        if(!maxCount) return;\n        this.max = maxCount;\n\n        const input = this.root.querySelector('input') as HTMLInputElement;\n        const parsed = parseInt(input.value);\n\n        if (parsed > this.max ) {\n          this.value = this.max;\n          input.value = this.max.toString();\n        }\n      }, 200);\n    });\n  }\n\n  timeout: number;\n\n  render() {\n    return [\n        <button onClick={()=>this.Decrement()} disabled={this.value <= 1}>-</button>,\n        <input type=\"text\" maxlength=\"3\" value={this.value} name={this.name} aria-label=\"ilość\"\n                onChange={(e)=>this.Change(e)}\n        />,\n        <button onClick={()=>this.Increment()} disabled={(this.value+1) > this.max}>+</button>\n    ];\n  }\n}\n"],"names":["cartFunctions.removeProduct","cartFunctions.productCount"],"mappings":"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"}